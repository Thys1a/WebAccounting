(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Pd={exports:{}},Nl={};var J_;function FS(){if(J_)return Nl;J_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Nl.Fragment=t,Nl.jsx=i,Nl.jsxs=i,Nl}var Z_;function GS(){return Z_||(Z_=1,Pd.exports=FS()),Pd.exports}var k=GS(),zd={exports:{}},wt={};var W_;function QS(){if(W_)return wt;W_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function mt(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function gt(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||Z}var Et=gt.prototype=new Tt;Et.constructor=gt,it(Et,mt.prototype),Et.isPureReactComponent=!0;var ee=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,K,nt){var rt=nt.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:nt}}function M(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function le(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,nt,rt,vt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(It){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case t:kt=!0;break;case A:return kt=O._init,H(kt(O._payload),K,nt,rt,vt)}}if(kt)return vt=vt(O),kt=rt===""?"."+le(O,0):rt,ee(vt)?(nt="",kt!=null&&(nt=kt.replace(w,"$&/")+"/"),H(vt,K,nt,"",function($n){return $n})):vt!=null&&(N(vt)&&(vt=M(vt,nt+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+kt)),K.push(vt)),1;kt=0;var Te=rt===""?".":rt+":";if(ee(O))for(var ue=0;ue<O.length;ue++)rt=O[ue],It=Te+le(rt,ue),kt+=H(rt,K,nt,It,vt);else if(ue=G(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(rt=O.next()).done;)rt=rt.value,It=Te+le(rt,ue++),kt+=H(rt,K,nt,It,vt);else if(It==="object"){if(typeof O.then=="function")return H(me(O),K,nt,rt,vt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,K,nt){if(O==null)return O;var rt=[],vt=0;return H(O,rt,"","",function(It){return K.call(nt,It,vt++)}),rt}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=b,wt.Children=Qt,wt.Component=mt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=gt,wt.StrictMode=r,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),vt=O.key;if(K!=null)for(It in K.key!==void 0&&(vt=""+K.key),K)!S.call(K,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&K.ref===void 0||(rt[It]=K[It]);var It=arguments.length-2;if(It===1)rt.children=nt;else if(1<It){for(var kt=Array(It),Te=0;Te<It;Te++)kt[Te]=arguments[Te+2];rt.children=kt}return I(O.type,vt,rt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,K,nt){var rt,vt={},It=null;if(K!=null)for(rt in K.key!==void 0&&(It=""+K.key),K)S.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=K[rt]);var kt=arguments.length-2;if(kt===1)vt.children=nt;else if(1<kt){for(var Te=Array(kt),ue=0;ue<kt;ue++)Te[ue]=arguments[ue+2];vt.children=Te}if(O&&O.defaultProps)for(rt in kt=O.defaultProps,kt)vt[rt]===void 0&&(vt[rt]=kt[rt]);return I(O,It,vt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},wt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},wt.startTransition=function(O){var K=C.T,nt={};C.T=nt;try{var rt=O(),vt=C.S;vt!==null&&vt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(xt,Ot)}catch(It){Ot(It)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,K,nt){return C.H.useActionState(O,K,nt)},wt.useCallback=function(O,K){return C.H.useCallback(O,K)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},wt.useEffect=function(O,K){return C.H.useEffect(O,K)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,K,nt){return C.H.useImperativeHandle(O,K,nt)},wt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},wt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},wt.useMemo=function(O,K){return C.H.useMemo(O,K)},wt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},wt.useReducer=function(O,K,nt){return C.H.useReducer(O,K,nt)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,K,nt){return C.H.useSyncExternalStore(O,K,nt)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var tv;function Um(){return tv||(tv=1,zd.exports=QS()),zd.exports}var oe=Um(),jd={exports:{}},Dl={},Bd={exports:{}},qd={};var ev;function KS(){return ev||(ev=1,(function(s){function t(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var Ot=ht-1>>>1,Qt=H[Ot];if(0<l(Qt,et))H[Ot]=et,H[ht]=Qt,ht=Ot;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var Ot=0,Qt=H.length,O=Qt>>>1;Ot<O;){var K=2*(Ot+1)-1,nt=H[K],rt=K+1,vt=H[rt];if(0>l(nt,ht))rt<Qt&&0>l(vt,nt)?(H[Ot]=vt,H[rt]=ht,Ot=rt):(H[Ot]=nt,H[K]=ht,Ot=K);else if(rt<Qt&&0>l(vt,ht))H[Ot]=vt,H[rt]=ht,Ot=rt;else break t}}return et}function l(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],A=1,b=null,x=3,G=!1,Z=!1,it=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Et(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=i(_)}}function ee(H){if(it=!1,Et(H),!Z)if(i(g)!==null)Z=!0,xt||(xt=!0,U());else{var et=i(_);et!==null&&me(ee,et.startTime-H)}}var xt=!1,C=-1,S=5,I=-1;function M(){return W?!0:!(s.unstable_now()-I<S)}function N(){if(W=!1,xt){var H=s.unstable_now();I=H;var et=!0;try{t:{Z=!1,it&&(it=!1,Tt(C),C=-1),G=!0;var ht=x;try{e:{for(Et(H),b=i(g);b!==null&&!(b.expirationTime>H&&M());){var Ot=b.callback;if(typeof Ot=="function"){b.callback=null,x=b.priorityLevel;var Qt=Ot(b.expirationTime<=H);if(H=s.unstable_now(),typeof Qt=="function"){b.callback=Qt,Et(H),et=!0;break e}b===i(g)&&r(g),Et(H)}else r(g);b=i(g)}if(b!==null)et=!0;else{var O=i(_);O!==null&&me(ee,O.startTime-H),et=!1}}break t}finally{b=null,x=ht,G=!1}et=void 0}}finally{et?U():xt=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,le=w.port2;w.port1.onmessage=N,U=function(){le.postMessage(null)}}else U=function(){mt(N,0)};function me(H,et){C=mt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ht=x;x=et;try{return H()}finally{x=ht}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=x;x=H;try{return et()}finally{x=ht}},s.unstable_scheduleCallback=function(H,et,ht){var Ot=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ot+ht:Ot):ht=Ot,H){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ht+Qt,H={id:A++,callback:et,priorityLevel:H,startTime:ht,expirationTime:Qt,sortIndex:-1},ht>Ot?(H.sortIndex=ht,t(_,H),i(g)===null&&H===i(_)&&(it?(Tt(C),C=-1):it=!0,me(ee,ht-Ot))):(H.sortIndex=Qt,t(g,H),Z||G||(Z=!0,xt||(xt=!0,U()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var et=x;return function(){var ht=x;x=et;try{return H.apply(this,arguments)}finally{x=ht}}}})(qd)),qd}var nv;function YS(){return nv||(nv=1,Bd.exports=KS()),Bd.exports}var Hd={exports:{}},sn={};var iv;function XS(){if(iv)return sn;iv=1;var s=Um();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},sn.flushSync=function(g){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=A,r.d.f()}},sn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},sn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},sn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:G}):A==="script"&&r.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},sn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(g,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},sn.requestFormReset=function(g){r.d.r(g)},sn.unstable_batchedUpdates=function(g,_){return g(_)},sn.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var sv;function $S(){if(sv)return Hd.exports;sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=XS(),Hd.exports}var rv;function JS(){if(rv)return Dl;rv=1;var s=YS(),t=Um(),i=$S();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case ee:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case gt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Et:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var me=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ot=[],Qt=-1;function O(e){return{current:e}}function K(e){0>Qt||(e.current=Ot[Qt],Ot[Qt]=null,Qt--)}function nt(e,n){Qt++,Ot[Qt]=e.current,e.current=n}var rt=O(null),vt=O(null),It=O(null),kt=O(null);function Te(e,n){switch(nt(It,n),nt(vt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=E_(n),e=T_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function ue(){K(rt),K(vt),K(It)}function $n(e){e.memoizedState!==null&&nt(kt,e);var n=rt.current,a=T_(n,e.type);n!==a&&(nt(vt,e),nt(rt,a))}function Ts(e){vt.current===e&&(K(rt),K(vt)),kt.current===e&&(K(kt),wl._currentValue=ht)}var mi,pi;function $(e){if(mi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);mi=n&&n[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mi+e+pi}var ot=!1;function St(e,n){if(!e||ot)return"";ot=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{ot=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$(a):""}function $t(e,n){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==n&&n!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return St(e.type,!1);case 11:return St(e.type.render,!1);case 1:return St(e.type,!0);case 31:return $("Activity");default:return""}}function Ae(e){try{var n="",a=null;do n+=$t(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,ct=s.unstable_scheduleCallback,Jt=s.unstable_cancelCallback,un=s.unstable_shouldYield,ha=s.unstable_requestPaint,He=s.unstable_now,Jn=s.unstable_getCurrentPriorityLevel,As=s.unstable_ImmediatePriority,Zn=s.unstable_UserBlockingPriority,gi=s.unstable_NormalPriority,No=s.unstable_LowPriority,Ar=s.unstable_IdlePriority,fa=s.log,da=s.unstable_setDisableYieldValue,Wn=null,Ye=null;function kn(e){if(typeof fa=="function"&&da(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Wn,e)}catch{}}var Se=Math.clz32?Math.clz32:mu,du=Math.log,ma=Math.LN2;function mu(e){return e>>>=0,e===0?32:31-(du(e)/ma|0)|0}var yi=256,Sr=262144,Ne=4194304;function _i(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=_i(o):(y&=E,y!==0?h=_i(y):a||(a=E&~e,a!==0&&(h=_i(a))))):(E=o&~f,E!==0?h=_i(E):y!==0?h=_i(y):a||(a=o&~e,a!==0&&(h=_i(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Ei(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Se(a),X=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function wr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Se(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Do(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Se(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Oo(e,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function ei(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var ni=Math.random().toString(36).slice(2),De="__reactFiber$"+ni,Fe="__reactProps$"+ni,Ti="__reactContainer$"+ni,pa="__reactEvents$"+ni,Hh="__reactListeners$"+ni,yu="__reactHandles$"+ni,_u="__reactResources$"+ni,Ai="__reactMarker$"+ni;function ga(e){delete e[De],delete e[Fe],delete e[pa],delete e[Hh],delete e[yu]}function Si(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ti]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[De])return a;e=C_(e)}return n}e=a,a=e.parentNode}return null}function Un(e){if(e=e[De]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function bi(e){var n=e[_u];return n||(n=e[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Oe(e){e[Ai]=!0}var xo=new Set,Mo={};function wi(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Mo[e]=n,e=0;e<n.length;e++)xo.add(n[e])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function vu(e){return bt.call(Uo,e)?!0:bt.call(ko,e)?!1:Vo.test(e)?Uo[e]=!0:(ko[e]=!0,!1)}function ya(e,n,a){if(vu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function bn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function xe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Lo(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function dn(e){return e.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Po(e,y,Ge(n)):a!=null?Po(e,y,Ge(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ge(E):e.removeAttribute("name")}function Eu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}a=a!=null?""+Ge(a):"",n=n!=null?""+Ge(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Zt(e)}function Po(e,n,a){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ge(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Tu(e,n,a){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ge(a):""}function ws(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(me(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ge(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Zt(e)}function mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function jo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&zo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(e,f,n[f])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var Bo=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ci=null;function Nr(e){var n=Un(e);if(n&&(e=n.stateNode)){var a=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Fe]||null;if(!h)throw Error(r(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Ir(o)}break t;case"textarea":Tu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&bs(e,!!a.multiple,n,!1)}}}var Ta=!1;function Cs(e,n,a){if(Ta)return e(n,a);Ta=!0;try{var o=e(n);return o}finally{if(Ta=!1,(Is!==null||Ci!==null)&&(gc(),Is&&(n=Is,e=Ci,Ci=Is=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function si(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Fe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Pn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Dr=!1}var Ni=null,qo=null,Or=null;function Ho(){if(Or)return Or;var e,n=qo,a=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Or=h.slice(e,1<o?1-o:void 0)}function xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function ri(){return!1}function Xe(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Xe(Yi),Ns=b({},Yi,{view:0,detail:0}),Fo=Xe(Ns),Ds,Aa,Oi,Sa=b({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Ds=e.screenX-Oi.screenX,Aa=e.screenY-Oi.screenY):Aa=Ds=0,Oi=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Go=Xe(Sa),Mr=b({},Sa,{dataTransfer:0}),bu=Xe(Mr),wu=b({},Ns,{relatedTarget:0}),Vr=Xe(wu),Qo=b({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Xe(Qo),ba=b({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iu=Xe(ba),Cu=b({},Yi,{data:0}),xi=Xe(Cu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ou[e])?!!n[e]:!1}function Os(){return xu}var cn=b({},Ns,{key:function(e){if(e.key){var n=Nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mu=Xe(cn),Vu=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Xe(Vu),u=b({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Xe(u),v=b({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(v),L=b({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(L),tt=b({},Yi,{newState:0,oldState:0}),Ct=Xe(tt),be=[9,13,27,32],Kt=Pn&&"CompositionEvent"in window,pe=null;Pn&&"documentMode"in document&&(pe=document.documentMode);var zn=Pn&&"TextEvent"in window&&!pe,Mi=Pn&&(!Kt||pe&&8<pe&&11>=pe),ai=" ",oi=!1;function kr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function mA(e,n){switch(e){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return e=n.data,e===ai&&oi?null:e;default:return null}}function pA(e,n){if(Ra)return e==="compositionend"||!Kt&&kr(e,n)?(e=Ho(),Or=qo=Ni=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gA[e.type]:n==="textarea"}function xp(e,n,a,o){Is?Ci?Ci.push(o):Ci=[o]:Is=o,n=Sc(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ko=null,Yo=null;function yA(e){m_(e,0)}function ku(e){var n=Sn(e);if(Ir(n))return e}function Mp(e,n){if(e==="change")return n}var Vp=!1;if(Pn){var Fh;if(Pn){var Gh="oninput"in document;if(!Gh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Gh=typeof kp.oninput=="function"}Fh=Gh}else Fh=!1;Vp=Fh&&(!document.documentMode||9<document.documentMode)}function Up(){Ko&&(Ko.detachEvent("onpropertychange",Lp),Yo=Ko=null)}function Lp(e){if(e.propertyName==="value"&&ku(Yo)){var n=[];xp(n,Yo,e,Ln(e)),Cs(yA,n)}}function _A(e,n,a){e==="focusin"?(Up(),Ko=n,Yo=a,Ko.attachEvent("onpropertychange",Lp)):e==="focusout"&&Up()}function vA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(Yo)}function EA(e,n){if(e==="click")return ku(n)}function TA(e,n){if(e==="input"||e==="change")return ku(n)}function AA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:AA;function Xo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!bt.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,n){var a=Pp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pp(a)}}function jp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var SA=Pn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Kh=null,$o=null,Yh=!1;function qp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ia==null||Ia!==Ii(o)||(o=Ia,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Xo($o,o)||($o=o,o=Sc(Kh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ia)))}function Ur(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ca={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Xh={},Hp={};Pn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Lr(e){if(Xh[e])return Xh[e];if(!Ca[e])return e;var n=Ca[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hp)return Xh[e]=n[a];return e}var Fp=Lr("animationend"),Gp=Lr("animationiteration"),Qp=Lr("animationstart"),bA=Lr("transitionrun"),wA=Lr("transitionstart"),RA=Lr("transitioncancel"),Kp=Lr("transitionend"),Yp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function li(e,n){Yp.set(e,n),wi(n,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Na=0,Jh=0;function Lu(){for(var e=Na,n=Jh=Na=0;n<e;){var a=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function Pu(e,n,a,o){jn[Na++]=e,jn[Na++]=n,jn[Na++]=a,jn[Na++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,n,a,o){return Pu(e,n,a,o),zu(e)}function Pr(e,n){return Pu(e,null,null,n),zu(e)}function Xp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Se(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function zu(e){if(50<_l)throw _l=0,ld=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function IA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,a,o){return new IA(e,n,a,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var a=e.alternate;return a===null?(a=Rn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ju(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Wh(e)&&(y=1);else if(typeof e=="string")y=xS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,a,n,h),e.elementType=I,e.lanes=f,e;case it:return zr(a.children,h,f,n);case W:y=8,h|=24;break;case mt:return e=Rn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case ee:return e=Rn(13,a,n,h),e.elementType=ee,e.lanes=f,e;case xt:return e=Rn(19,a,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:y=10;break t;case Tt:y=9;break t;case Et:y=11;break t;case C:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Rn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zr(e,n,a,o){return e=Rn(7,e,o,n),e.lanes=a,e}function tf(e,n,a){return e=Rn(6,e,null,n),e.lanes=a,e}function Jp(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,a){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zp=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var a=Zp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ae(n)},Zp.set(e,n),n)}return{value:e,source:n,stack:Ae(n)}}var Oa=[],xa=0,Bu=null,Jo=0,qn=[],Hn=0,xs=null,Vi=1,ki="";function Ji(e,n){Oa[xa++]=Jo,Oa[xa++]=Bu,Bu=e,Jo=n}function Wp(e,n,a){qn[Hn++]=Vi,qn[Hn++]=ki,qn[Hn++]=xs,xs=e;var o=Vi;e=ki;var h=32-Se(o)-1;o&=~(1<<h),a+=1;var f=32-Se(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Vi=1<<32-Se(n)+h|a<<h|o,ki=f+e}else Vi=1<<f|a<<h|o,ki=e}function nf(e){e.return!==null&&(Ji(e,1),Wp(e,1,0))}function sf(e){for(;e===Bu;)Bu=Oa[--xa],Oa[xa]=null,Jo=Oa[--xa],Oa[xa]=null;for(;e===xs;)xs=qn[--Hn],qn[Hn]=null,ki=qn[--Hn],qn[Hn]=null,Vi=qn[--Hn],qn[Hn]=null}function tg(e,n){qn[Hn++]=Vi,qn[Hn++]=ki,qn[Hn++]=xs,Vi=n.id,ki=n.overflow,xs=e}var $e=null,he=null,Bt=!1,Ms=null,Fn=!1,rf=Error(r(519));function Vs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Bn(n,e)),rf}function eg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[De]=e,n[Fe]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)Vt(El[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||__(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Vs(e,!0)}function ng(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$e=$e.return}}function Ma(e){if(e!==$e)return!1;if(!Bt)return ng(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&he&&Vs(e),ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=I_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=I_(e)}else n===27?(n=he,Ys(e.type)?(e=Cd,Cd=null,he=e):he=n):he=$e?Qn(e.stateNode.nextSibling):null;return!0}function jr(){he=$e=null,Bt=!1}function af(){var e=Ms;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Ms=null),e}function Zo(e){Ms===null?Ms=[e]:Ms.push(e)}var of=O(null),Br=null,Zi=null;function ks(e,n,a){nt(of,n._currentValue),n._currentValue=a}function Wi(e){e._currentValue=of.current,K(of)}function lf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function uf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),lf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;wn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&uf(n,e,a,o),n.flags|=262144}function qu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return ig(Br,e)}function Hu(e,n){return Br===null&&qr(e),ig(e,n)}function ig(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Zi===null){if(e===null)throw Error(r(308));Zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Zi=Zi.next=n;return a}var CA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},NA=s.unstable_scheduleCallback,DA=s.unstable_NormalPriority,Me={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new CA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&NA(DA,function(){e.controller.abort()})}var tl=null,hf=0,ka=0,Ua=null;function OA(e,n){if(tl===null){var a=tl=[];hf=0,ka=md(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(sg,sg),n}function sg(){if(--hf===0&&tl!==null){Ua!==null&&(Ua.status="fulfilled");var e=tl;tl=null,ka=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function xA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=H.S;H.S=function(e,n){qy=He(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OA(e,n),rg!==null&&rg(e,n)};var Hr=O(null);function ff(){var e=Hr.current;return e!==null?e:ae.pooledCache}function Fu(e,n){n===null?nt(Hr,Hr.current):nt(Hr,n.pool)}function ag(){var e=ff();return e===null?null:{parent:Me._currentValue,pool:e}}var La=Error(r(460)),df=Error(r(474)),Gu=Error(r(542)),Qu={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ii,ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cg(e),e;default:if(typeof n.status=="string")n.then(ii,ii);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cg(e),e}throw Gr=n,La}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,La):a}}var Gr=null;function ug(){if(Gr===null)throw Error(r(459));var e=Gr;return Gr=null,e}function cg(e){if(e===La||e===Gu)throw Error(r(483))}var Pa=null,el=0;function Ku(e){var n=el;return el+=1,Pa===null&&(Pa=[]),lg(Pa,e,n)}function nl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yu(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hg(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=$i(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,Q){return D===null||D.tag!==6?(D=tf(P,V.mode,Q),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,Q){var ft=P.type;return ft===it?F(V,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Fr(ft)===D.type)?(D=h(D,P.props),nl(D,P),D.return=V,D):(D=ju(P.type,P.key,P.props,null,V.mode,Q),nl(D,P),D.return=V,D)}function z(V,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=ef(P,V.mode,Q),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function F(V,D,P,Q,ft){return D===null||D.tag!==7?(D=zr(P,V.mode,Q,ft),D.return=V,D):(D=h(D,P),D.return=V,D)}function X(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=ju(D.type,D.key,D.props,null,V.mode,P),nl(P,D),P.return=V,P;case Z:return D=ef(D,V.mode,P),D.return=V,D;case S:return D=Fr(D),X(V,D,P)}if(me(D)||U(D))return D=zr(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return X(V,Ku(D),P);if(D.$$typeof===gt)return X(V,Hu(V,D),P);Yu(V,D)}return null}function j(V,D,P,Q){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ft?R(V,D,P,Q):null;case Z:return P.key===ft?z(V,D,P,Q):null;case S:return P=Fr(P),j(V,D,P,Q)}if(me(P)||U(P))return ft!==null?null:F(V,D,P,Q,null);if(typeof P.then=="function")return j(V,D,Ku(P),Q);if(P.$$typeof===gt)return j(V,D,Hu(V,P),Q);Yu(V,P)}return null}function q(V,D,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(P)||null,E(D,V,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return V=V.get(Q.key===null?P:Q.key)||null,R(D,V,Q,ft);case Z:return V=V.get(Q.key===null?P:Q.key)||null,z(D,V,Q,ft);case S:return Q=Fr(Q),q(V,D,P,Q,ft)}if(me(Q)||U(Q))return V=V.get(P)||null,F(D,V,Q,ft,null);if(typeof Q.then=="function")return q(V,D,P,Ku(Q),ft);if(Q.$$typeof===gt)return q(V,D,P,Hu(D,Q),ft);Yu(D,Q)}return null}function lt(V,D,P,Q){for(var ft=null,Ht=null,ut=D,Dt=D=0,Lt=null;ut!==null&&Dt<P.length;Dt++){ut.index>Dt?(Lt=ut,ut=null):Lt=ut.sibling;var Ft=j(V,ut,P[Dt],Q);if(Ft===null){ut===null&&(ut=Lt);break}e&&ut&&Ft.alternate===null&&n(V,ut),D=f(Ft,D,Dt),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft,ut=Lt}if(Dt===P.length)return a(V,ut),Bt&&Ji(V,Dt),ft;if(ut===null){for(;Dt<P.length;Dt++)ut=X(V,P[Dt],Q),ut!==null&&(D=f(ut,D,Dt),Ht===null?ft=ut:Ht.sibling=ut,Ht=ut);return Bt&&Ji(V,Dt),ft}for(ut=o(ut);Dt<P.length;Dt++)Lt=q(ut,V,Dt,P[Dt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?Dt:Lt.key),D=f(Lt,D,Dt),Ht===null?ft=Lt:Ht.sibling=Lt,Ht=Lt);return e&&ut.forEach(function(Ws){return n(V,Ws)}),Bt&&Ji(V,Dt),ft}function pt(V,D,P,Q){if(P==null)throw Error(r(151));for(var ft=null,Ht=null,ut=D,Dt=D=0,Lt=null,Ft=P.next();ut!==null&&!Ft.done;Dt++,Ft=P.next()){ut.index>Dt?(Lt=ut,ut=null):Lt=ut.sibling;var Ws=j(V,ut,Ft.value,Q);if(Ws===null){ut===null&&(ut=Lt);break}e&&ut&&Ws.alternate===null&&n(V,ut),D=f(Ws,D,Dt),Ht===null?ft=Ws:Ht.sibling=Ws,Ht=Ws,ut=Lt}if(Ft.done)return a(V,ut),Bt&&Ji(V,Dt),ft;if(ut===null){for(;!Ft.done;Dt++,Ft=P.next())Ft=X(V,Ft.value,Q),Ft!==null&&(D=f(Ft,D,Dt),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft);return Bt&&Ji(V,Dt),ft}for(ut=o(ut);!Ft.done;Dt++,Ft=P.next())Ft=q(ut,V,Dt,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?Dt:Ft.key),D=f(Ft,D,Dt),Ht===null?ft=Ft:Ht.sibling=Ft,Ht=Ft);return e&&ut.forEach(function(HS){return n(V,HS)}),Bt&&Ji(V,Dt),ft}function re(V,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){a(V,D.sibling),Q=h(D,P.props.children),Q.return=V,V=Q;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Fr(ft)===D.type){a(V,D.sibling),Q=h(D,P.props),nl(Q,P),Q.return=V,V=Q;break t}a(V,D);break}else n(V,D);D=D.sibling}P.type===it?(Q=zr(P.props.children,V.mode,Q,P.key),Q.return=V,V=Q):(Q=ju(P.type,P.key,P.props,null,V.mode,Q),nl(Q,P),Q.return=V,V=Q)}return y(V);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(V,D.sibling),Q=h(D,P.children||[]),Q.return=V,V=Q;break t}else{a(V,D);break}else n(V,D);D=D.sibling}Q=ef(P,V.mode,Q),Q.return=V,V=Q}return y(V);case S:return P=Fr(P),re(V,D,P,Q)}if(me(P))return lt(V,D,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),pt(V,D,P,Q)}if(typeof P.then=="function")return re(V,D,Ku(P),Q);if(P.$$typeof===gt)return re(V,D,Hu(V,P),Q);Yu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(V,D.sibling),Q=h(D,P),Q.return=V,V=Q):(a(V,D),Q=tf(P,V.mode,Q),Q.return=V,V=Q),y(V)):a(V,D)}return function(V,D,P,Q){try{el=0;var ft=re(V,D,P,Q);return Pa=null,ft}catch(ut){if(ut===La||ut===Gu)throw ut;var Ht=Rn(29,ut,null,V.mode);return Ht.lanes=Q,Ht.return=V,Ht}}}var Qr=hg(!0),fg=hg(!1),Us=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=zu(e),Xp(e,null,a),n}return Pu(e,o,n,a),zu(e)}function il(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Do(e,a)}}function gf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var yf=!1;function sl(){if(yf){var e=Ua;if(e!==null)throw e}}function rl(e,n,a,o){yf=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;y=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ut&j)===j:(o&j)===j){j!==0&&j===ka&&(yf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var re=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call(re,X,j);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(re,X,j):lt,j==null)break t;X=b({},X,j);break t;case 2:Us=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Hs|=y,e.lanes=y,e.memoizedState=X}}function dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function mg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dg(a[e],n)}var za=O(null),Xu=O(0);function pg(e,n){e=ls,nt(Xu,e),nt(za,n),ls=e|n.baseLanes}function _f(){nt(Xu,ls),nt(za,za.current)}function vf(){ls=Xu.current,K(za),K(Xu)}var In=O(null),Gn=null;function zs(e){var n=e.alternate;nt(we,we.current&1),nt(In,e),Gn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Gn=e)}function Ef(e){nt(we,we.current),nt(In,e),Gn===null&&(Gn=e)}function gg(e){e.tag===22?(nt(we,we.current),nt(In,e),Gn===null&&(Gn=e)):js()}function js(){nt(we,we.current),nt(In,In.current)}function Cn(e){K(In),Gn===e&&(Gn=null),K(we)}var we=O(0);function $u(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Nt=null,ie=null,Ve=null,Ju=!1,ja=!1,Kr=!1,Zu=0,al=0,Ba=null,MA=0;function _e(){throw Error(r(321))}function Tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!wn(e[a],n[a]))return!1;return!0}function Af(e,n,a,o,h,f){return ts=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Wg:Lf,Kr=!1,f=a(o,h),Kr=!1,ja&&(f=_g(n,a,o,h)),yg(e),f}function yg(e){H.H=ul;var n=ie!==null&&ie.next!==null;if(ts=0,Ve=ie=Nt=null,Ju=!1,al=0,Ba=null,n)throw Error(r(300));e===null||ke||(e=e.dependencies,e!==null&&qu(e)&&(ke=!0))}function _g(e,n,a,o){Nt=e;var h=0;do{if(ja&&(Ba=null),al=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,Ve=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ty,f=n(a,o)}while(ja);return f}function VA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?ol(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Nt.flags|=1024),n}function Sf(){var e=Zu!==0;return Zu=0,e}function bf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wf(e){if(Ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ju=!1}ts=0,Ve=ie=Nt=null,ja=!1,al=Zu=0,Ba=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(ie===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Ve===null?Nt.memoizedState:Ve.next;if(n!==null)Ve=n,ie=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var n=al;return al+=1,Ba===null&&(Ba=[]),e=lg(Ba,e,n),n=Nt,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Wg:Lf),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===gt)return Je(e)}throw Error(r(438,String(e)))}function Rf(e){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wu(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function es(e,n){return typeof n=="function"?n(e):n}function ec(e){var n=Re();return If(n,ie,e)}function If(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(ts&X)===X){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ka&&(F=!0);else if((ts&j)===j){z=z.next,j===ka&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,Nt.lanes|=j,Hs|=j;X=z.action,Kr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Nt.lanes|=X,Hs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!wn(f,e.memoizedState)&&(ke=!0,F&&(a=Ua,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=Re(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);wn(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(e,n,a){var o=Nt,h=Re(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!wn((ie||h).memoizedState,a);if(y&&(h.memoizedState=a,ke=!0),h=h.queue,Of(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},Tg.bind(null,o,h,a,n),null),ae===null)throw Error(r(349));f||(ts&127)!==0||Eg(o,n,a)}return a}function Eg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=Wu(),Nt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tg(e,n,a,o){n.value=a,n.getSnapshot=o,Sg(n)&&bg(e)}function Ag(e,n,a){return a(function(){Sg(n)&&bg(e)})}function Sg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!wn(e,a)}catch{return!0}}function bg(e){var n=Pr(e,2);n!==null&&vn(n,e,2)}function Nf(e){var n=hn();if(typeof e=="function"){var a=e;if(e=a(),Kr){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},n}function wg(e,n,a,o){return e.baseState=a,If(e,ie,typeof o=="function"?o:es)}function kA(e,n,a,o,h){if(sc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Rg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(h,o),R=H.S;R!==null&&R(y,E),Ig(e,n,E)}catch(z){Df(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,o),Ig(e,n,f)}catch(z){Df(e,n,z)}}function Ig(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cg(e,n,o)},function(o){return Df(e,n,o)}):Cg(e,n,a)}function Cg(e,n,a){n.status="fulfilled",n.value=a,Ng(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rg(e,a)))}function Df(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dg(e,n){return n}function Og(e,n){if(Bt){var a=ae.formState;if(a!==null){t:{var o=Nt;if(Bt){if(he){e:{for(var h=he,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Qn(h.nextSibling),o=h.data==="F!";break t}}Vs(o)}o=!1}o&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},a.queue=o,a=$g.bind(null,Nt,o),o.dispatch=a,o=Nf(!1),f=Uf.bind(null,Nt,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=kA.bind(null,Nt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function xg(e){var n=Re();return Mg(n,ie,e)}function Mg(e,n,a){if(n=If(e,n,Dg)[0],e=ec(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ol(n)}catch(y){throw y===La?Gu:y}else o=n;n=Re();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,qa(9,{destroy:void 0},UA.bind(null,h,a),null)),[o,f,e]}function UA(e,n){e.action=n}function Vg(e){var n=Re(),a=ie;if(a!==null)return Mg(n,a,e);Re(),n=n.memoizedState,a=Re();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function qa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Wu(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function kg(){return Re().memoizedState}function nc(e,n,a,o){var h=hn();Nt.flags|=e,h.memoizedState=qa(1|n,{destroy:void 0},a,o===void 0?null:o)}function ic(e,n,a,o){var h=Re();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&Tf(o,ie.memoizedState.deps)?h.memoizedState=qa(n,f,a,o):(Nt.flags|=e,h.memoizedState=qa(1|n,f,a,o))}function Ug(e,n){nc(8390656,8,e,n)}function Of(e,n){ic(2048,8,e,n)}function LA(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Wu(),Nt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Lg(e){var n=Re().memoizedState;return LA({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pg(e,n){return ic(4,2,e,n)}function zg(e,n){return ic(4,4,e,n)}function jg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,a){a=a!=null?a.concat([e]):null,ic(4,4,jg.bind(null,n,e),a)}function xf(){}function qg(e,n){var a=Re();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Hg(e,n){var a=Re();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),Kr){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[o,n],o}function Mf(e,n,a){return a===void 0||(ts&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Fy(),Nt.lanes|=e,Hs|=e,a)}function Fg(e,n,a,o){return wn(a,n)?a:za.current!==null?(e=Mf(e,a,o),wn(e,n)||(ke=!0),e):(ts&42)===0||(ts&1073741824)!==0&&(Ut&261930)===0?(ke=!0,e.memoizedState=a):(e=Fy(),Nt.lanes|=e,Hs|=e,n)}function Gg(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Uf(e,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=xA(R,o);ll(e,n,F,On(e))}else ll(e,n,o,On(e))}catch(X){ll(e,n,{then:function(){},status:"rejected",reason:X},On())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}function PA(){}function Vf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Qg(e).queue;Gg(e,h,n,ht,a===null?PA:function(){return Kg(e),a(o)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kg(e){var n=Qg(e);n.next===null&&(n=e.alternate.memoizedState),ll(e,n.next.queue,{},On())}function kf(){return Je(wl)}function Yg(){return Re().memoizedState}function Xg(){return Re().memoizedState}function zA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();e=Ls(a);var o=Ps(n,e,a);o!==null&&(vn(o,n,a),il(o,n,a)),n={cache:cf()},e.payload=n;return}n=n.return}}function jA(e,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(e)?Jg(n,a):(a=Zh(e,n,a,o),a!==null&&(vn(a,e,o),Zg(a,n,o)))}function $g(e,n,a){var o=On();ll(e,n,a,o)}function ll(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(e))Jg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,wn(E,y))return Pu(e,n,h,0),ae===null&&Lu(),!1}catch{}if(a=Zh(e,n,h,o),a!==null)return vn(a,e,o),Zg(a,n,o),!0}return!1}function Uf(e,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(n)throw Error(r(479))}else n=Zh(e,a,o,2),n!==null&&vn(n,e,2)}function sc(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function Jg(e,n){ja=Ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Do(e,a)}}var ul={readContext:Je,use:tc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ul.useEffectEvent=_e;var Wg={readContext:Je,use:tc,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:Ug,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,nc(4194308,4,jg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return nc(4194308,4,e,n)},useInsertionEffect:function(e,n){nc(4,2,e,n)},useMemo:function(e,n){var a=hn();n=n===void 0?null:n;var o=e();if(Kr){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=hn();if(a!==void 0){var h=a(n);if(Kr){kn(!0);try{a(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=jA.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,a=$g.bind(null,Nt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,n){var a=hn();return Mf(a,e,n)},useTransition:function(){var e=Nf(!1);return e=Gg.bind(null,Nt,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Nt,h=hn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ae===null)throw Error(r(349));(Ut&127)!==0||Eg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,o,f,e),[e]),o.flags|=2048,qa(9,{destroy:void 0},Tg.bind(null,o,f,a,n),null),a},useId:function(){var e=hn(),n=ae.identifierPrefix;if(Bt){var a=ki,o=Vi;a=(o&~(1<<32-Se(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=MA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:kf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,Nt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return hn().memoizedState=zA.bind(null,Nt)},useEffectEvent:function(e){var n=hn(),a={impl:e};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Je,use:tc,useCallback:qg,useContext:Je,useEffect:Of,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Hg,useReducer:ec,useRef:kg,useState:function(){return ec(es)},useDebugValue:xf,useDeferredValue:function(e,n){var a=Re();return Fg(a,ie.memoizedState,e,n)},useTransition:function(){var e=ec(es)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:kf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var a=Re();return wg(a,ie,e,n)},useMemoCache:Rf,useCacheRefresh:Xg};Lf.useEffectEvent=Lg;var ty={readContext:Je,use:tc,useCallback:qg,useContext:Je,useEffect:Of,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Hg,useReducer:Cf,useRef:kg,useState:function(){return Cf(es)},useDebugValue:xf,useDeferredValue:function(e,n){var a=Re();return ie===null?Mf(a,e,n):Fg(a,ie.memoizedState,e,n)},useTransition:function(){var e=Cf(es)[0],n=Re().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,n){var a=Re();return ie!==null?wg(a,ie,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Xg};ty.useEffectEvent=Lg;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=On(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(vn(n,e,o),il(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=On(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(vn(n,e,o),il(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=On(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,a),n!==null&&(vn(n,e,a),il(n,e,a))}};function ey(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Xo(a,o)||!Xo(h,f):!0}function ny(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){Uu(e)}function sy(e){console.error(e)}function ry(e){Uu(e)}function rc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,n)},a}function oy(e){return e=Ls(e),e.tag=3,e}function ly(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ay(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function BA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?yc():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return a.flags|=65536,o===Qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(e,o,h)),!1}throw Error(r(435,a.tag))}return hd(e,o,h),yc(),!1}if(Bt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(r(422),{cause:o}),Zo(Bn(e,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),Zo(Bn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,a),h=jf(e.stateNode,o,h),gf(e,h),ve!==4&&(ve=2)),!1;var f=Error(r(520),{cause:o});if(f=Bn(f,a),yl===null?yl=[f]:yl.push(f),ve!==4&&(ve=2),n===null)return!0;o=Bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),gf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),ke=!1;function Ze(e,n,a,o){n.child=e===null?fg(n,null,a,o):Qr(n,e.child,a,o)}function uy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return qr(n),o=Af(e,n,a,y,f,h),E=Sf(),e!==null&&!ke?(bf(e,n,h),ns(e,n,h)):(Bt&&E&&nf(n),n.flags|=1,Ze(e,n,o,h),n.child)}function cy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(e,n,f,o,h)):(e=ju(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(y,o)&&e.ref===n.ref)return ns(e,n,h)}return n.flags|=1,e=$i(f,o),e.ref=n.ref,e.return=n,n.child=e}function hy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Xo(f,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,ns(e,n,h)}return qf(e,n,a,o,h)}function fy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):_f(),gg(n);else return o=n.lanes=536870912,dy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Fu(n,f.cachePool),pg(n,f),js(),n.memoizedState=null):(e!==null&&Fu(n,null),_f(),js());return Ze(e,n,h,a),n.child}function cl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(e,n,a,o,h){var f=ff();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Fu(n,null),_f(),gg(n),e!==null&&Va(e,n,o,!0),n.childLanes=h,null}function ac(e,n){return n=lc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function my(e,n,a){return Qr(n,e.child,null,a),e=ac(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function qA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=ac(n,o),n.lanes=536870912,cl(null,e);if(Ef(n),(e=he)?(e=R_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=n,n.child=a,$e=n,he=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return ac(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=my(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(ke||Va(e,n,a,!1),h=(a&e.childLanes)!==0,ke||h){if(o=ae,o!==null&&(y=Oo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Pr(e,y),vn(o,e,y),Bf;yc(),n=my(e,n,a)}else e=f.treeContext,he=Qn(y.nextSibling),$e=n,Bt=!0,Ms=null,Fn=!1,e!==null&&tg(n,e),n=ac(n,o),n.flags|=4096;return n}return e=$i(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function oc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return qr(n),a=Af(e,n,a,o,void 0,h),o=Sf(),e!==null&&!ke?(bf(e,n,h),ns(e,n,h)):(Bt&&o&&nf(n),n.flags|=1,Ze(e,n,a,h),n.child)}function py(e,n,a,o,h,f){return qr(n),n.updateQueue=null,a=_g(n,o,a,h),yg(e),o=Sf(),e!==null&&!ke?(bf(e,n,f),ns(e,n,f)):(Bt&&o&&nf(n),n.flags|=1,Ze(e,n,a,f),n.child)}function gy(e,n,a,o,h){if(qr(n),n.stateNode===null){var f=Da,y=a.contextType;typeof y=="object"&&y!==null&&(f=Je(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Je(y):Da,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&zf.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Yr(a,E);f.props=R;var z=f.context,F=a.contextType;y=Da,typeof F=="object"&&F!==null&&(y=Je(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&ny(n,f,o,y),Us=!1;var j=n.memoizedState;f.state=j,rl(n,o,f,h),sl(),z=n.memoizedState,E||j!==z||Us?(typeof X=="function"&&(Pf(n,a,X,o),z=n.memoizedState),(R=Us||ey(n,a,R,o,j,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(e,n),y=n.memoizedProps,F=Yr(a,y),f.props=F,X=n.pendingProps,j=f.context,z=a.contextType,R=Da,typeof z=="object"&&z!==null&&(R=Je(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||j!==R)&&ny(n,f,o,R),Us=!1,j=n.memoizedState,f.state=j,rl(n,o,f,h),sl();var q=n.memoizedState;y!==X||j!==q||Us||e!==null&&e.dependencies!==null&&qu(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,o),q=n.memoizedState),(F=Us||ey(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&qu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,oc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,a,h)):Ze(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ns(e,n,h),e}function yy(e,n,a,o){return jr(),n.flags|=256,Ze(e,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:ag()}}function Gf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function _y(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?zs(n):js(),(e=he)?(e=R_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(e),a.return=n,n.child=a,$e=n,he=null)):e=null,e===null)throw Vs(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(js(),h=n.mode,E=lc({mode:"hidden",children:E},h),o=zr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),n.memoizedState=Hf,cl(null,o)):(zs(n),Qf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Kf(e,n,a)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),E=o.fallback,h=n.mode,o=lc({mode:"visible",children:o.children},h),E=zr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(e,y,a),n.memoizedState=Hf,n=cl(null,o));else if(zs(n),Id(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,Zo({value:o,source:null,stack:null}),n=Kf(e,n,a)}else if(ke||Va(e,n,a,!1),y=(a&e.childLanes)!==0,ke||y){if(y=ae,y!==null&&(o=Oo(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Pr(e,o),vn(y,e,o),Bf;Rd(E)||yc(),n=Kf(e,n,a)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,he=Qn(E.nextSibling),$e=n,Bt=!0,Ms=null,Fn=!1,e!==null&&tg(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(js(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=$i(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=$i(z,E):(E=zr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,cl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(R=Me._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(e,y,a),n.memoizedState=Hf,cl(e.child,o)):(zs(n),a=e.child,e=a.sibling,a=$i(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Qf(e,n){return n=lc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lc(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Kf(e,n,a){return Qr(n,e.child,null,a),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,a)}function Yf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ey(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=we.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(we,y),Ze(e,n,o,a),o=Bt?Jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,n);else if(e.tag===19)vy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=$i(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=$i(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qu(e)))}function HA(e,n,a){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),ks(n,Me,e.memoizedState.cache),jr();break;case 27:case 5:$n(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(e,n,a):(zs(n),e=ns(e,n,a),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ey(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(we,we.current),o)break;return null;case 22:return n.lanes=0,fy(e,n,a,n.pendingProps);case 24:ks(n,Me,e.memoizedState.cache)}return ns(e,n,a)}function Ty(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!Xf(e,a)&&(n.flags&128)===0)return ke=!1,HA(e,n,a);ke=(e.flags&131072)!==0}else ke=!1,Bt&&(n.flags&1048576)!==0&&Wp(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=Yr(e,o),n.tag=1,n=gy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Et){n.tag=11,n=uy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=cy(null,n,e,o,a);break t}}throw n=le(e)||e,Error(r(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Yr(o,n.pendingProps),gy(e,n,o,h,a);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(e,n),rl(n,o,null,a);var y=n.memoizedState;if(o=y.cache,ks(n,Me,o),o!==f.cache&&uf(n,[Me],a,!0),sl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(e,n,o,a);break t}else if(o!==h){h=Bn(Error(r(424)),n),Zo(h),n=yy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Qn(e.firstChild),$e=n,Bt=!0,Ms=null,Fn=!0,a=fg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jr(),o===h){n=ns(e,n,a);break t}Ze(e,n,o,a)}n=n.child}return n;case 26:return oc(e,n),e===null?(a=x_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=bc(It.current).createElement(a),o[De]=n,o[Fe]=e,We(o,a,e),Oe(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $n(n),e===null&&Bt&&(o=n.stateNode=N_(n.type,n.pendingProps,It.current),$e=n,Fn=!0,h=he,Ys(n.type)?(Cd=h,he=Qn(o.firstChild)):he=h),Ze(e,n,n.pendingProps.children,a),oc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=he)&&(o=vS(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,$e=n,he=Qn(o.firstChild),Fn=!1,h=!0):h=!1),h||Vs(n)),$n(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:y!==null&&Sd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(e,n,VA,null,null,a),wl._currentValue=h),oc(e,n),Ze(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=he)&&(a=ES(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,$e=n,he=null,e=!0):e=!1),e||Vs(n)),null;case 13:return _y(e,n,a);case 4:return Te(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,a):Ze(e,n,o,a),n.child;case 11:return uy(e,n,n.type,n.pendingProps,a);case 7:return Ze(e,n,n.pendingProps,a),n.child;case 8:return Ze(e,n,n.pendingProps.children,a),n.child;case 12:return Ze(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Ze(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Je(h),o=o(h),n.flags|=1,Ze(e,n,o,a),n.child;case 14:return cy(e,n,n.type,n.pendingProps,a);case 15:return hy(e,n,n.type,n.pendingProps,a);case 19:return Ey(e,n,a);case 31:return qA(e,n,a);case 22:return fy(e,n,a,n.pendingProps);case 24:return qr(n),o=Je(Me),e===null?(h=ff(),h===null&&(h=ae,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),ks(n,Me,h)):((e.lanes&a)!==0&&(pf(e,n),rl(n,null,null,a),sl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Me,o)):(o=f.cache,ks(n,Me,o),o!==h.cache&&uf(n,[Me],a,!0))),Ze(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function is(e){e.flags|=4}function $f(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw Gr=Qu,df}else e.flags&=-16777217}function Ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!L_(n))if(Yy())e.flags|=8192;else throw Gr=Qu,df}function uc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pu():536870912,e.lanes|=n,Qa|=n)}function hl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function FA(e,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(Me),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(n)?is(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(is(n),f!==null?(fe(n),Ay(n,f)):(fe(n),$f(n,h,null,o,a))):f?f!==e.memoizedState?(is(n),fe(n),Ay(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&is(n),fe(n),$f(n,h,e,o,a)),null;case 27:if(Ts(n),a=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}e=rt.current,Ma(n)?eg(n):(e=N_(h,o,a),n.stateNode=e,is(n))}return fe(n),null;case 5:if(Ts(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=rt.current,Ma(n))eg(n);else{var y=bc(It.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[De]=n,f[Fe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&is(n)}}return fe(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,Ma(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Vs(n,!0)}else e=bc(e).createTextNode(o),e[De]=n,n.stateNode=e}return fe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ma(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else a=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[De]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),uc(n,n.updateQueue),fe(n),null);case 4:return ue(),e===null&&_d(n.stateNode.containerInfo),fe(n),null;case 10:return Wi(n.type),fe(n),null;case 19:if(K(we),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$u(e),f!==null){for(n.flags|=128,hl(o,!1),e=f.updateQueue,n.updateQueue=e,uc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$p(a,e),a=a.sibling;return nt(we,we.current&1|2),Bt&&Ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&He()>mc&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304)}else{if(!h)if(e=$u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,uc(n,e),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return fe(n),null}else 2*He()-o.renderingStartTime>mc&&a!==536870912&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=He(),e.sibling=null,a=we.current,nt(we,h?a&1|2:a&1),Bt&&Ji(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return Cn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&uc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Hr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Wi(Me),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function GA(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(Me),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(we),null;case 4:return ue(),null;case 10:return Wi(n.type),null;case 22:case 23:return Cn(n),vf(),e!==null&&K(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(Me),null;case 25:return null;default:return null}}function Sy(e,n){switch(sf(n),n.tag){case 3:Wi(Me),ue();break;case 26:case 27:case 5:Ts(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(we);break;case 10:Wi(n.type);break;case 22:case 23:Cn(n),vf(),e!==null&&K(Hr);break;case 24:Wi(Me)}}function fl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){te(n,n.return,E)}}function Bs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(F){te(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){te(n,n.return,F)}}function by(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mg(n,a)}catch(o){te(e,e.return,o)}}}function wy(e,n,a){a.props=Yr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,n,o)}}function dl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,n,h)}}function Ui(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,n,h)}else a.current=null}function Ry(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Jf(e,n,a){try{var o=e.stateNode;dS(o,e.type,a,n),o[Fe]=n}catch(h){te(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,a),e=e.sibling;e!==null;)Wf(e,n,a),e=e.sibling}function cc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cc(e,n,a),e=e.sibling;e!==null;)cc(e,n,a),e=e.sibling}function Cy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,a),n[De]=e,n[Fe]=a}catch(f){te(e,e.return,f)}}var ss=!1,Ue=!1,td=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function QA(e,n){if(e=e.containerInfo,Td=Oc,e=Bp(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,F=0,X=e,j=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(R=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++F===o&&(R=y),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Oc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=Yr(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){te(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Dy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(e,a),o&4&&fl(5,a);break;case 1:if(as(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){te(a,a.return,y)}else{var h=Yr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){te(a,a.return,y)}}o&64&&by(a),o&512&&dl(a,a.return);break;case 3:if(as(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(e,n)}catch(y){te(a,a.return,y)}}break;case 27:n===null&&o&4&&Cy(a);case 26:case 5:as(e,a),n===null&&o&4&&Ry(a),o&512&&dl(a,a.return);break;case 12:as(e,a);break;case 31:as(e,a),o&4&&My(e,a);break;case 13:as(e,a),o&4&&Vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=eS.bind(null,a),TS(e,a))));break;case 22:if(o=a.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||Ue,h=ss;var f=Ue;ss=o,(Ue=n)&&!f?os(e,a,(a.subtreeFlags&8772)!==0):as(e,a),ss=h,Ue=f}break;case 30:break;default:as(e,a)}}function Oy(e){var n=e.alternate;n!==null&&(e.alternate=null,Oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ga(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,pn=!1;function rs(e,n,a){for(a=a.child;a!==null;)xy(e,n,a),a=a.sibling}function xy(e,n,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Ue||Ui(a,n),rs(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Ui(a,n);var o=ge,h=pn;Ys(a.type)&&(ge=a.stateNode,pn=!1),rs(e,n,a),Al(a.stateNode),ge=o,pn=h;break;case 5:Ue||Ui(a,n);case 6:if(o=ge,h=pn,ge=null,rs(e,n,a),ge=o,pn=h,ge!==null)if(pn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{ge.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:ge!==null&&(pn?(e=ge,b_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):b_(ge,a.stateNode));break;case 4:o=ge,h=pn,ge=a.stateNode.containerInfo,pn=!0,rs(e,n,a),ge=o,pn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Ue||Bs(4,a,n),rs(e,n,a);break;case 1:Ue||(Ui(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,n,o)),rs(e,n,a);break;case 21:rs(e,n,a);break;case 22:Ue=(o=Ue)||a.memoizedState!==null,rs(e,n,a),Ue=o;break;default:rs(e,n,a)}}function My(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){te(n,n.return,a)}}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){te(n,n.return,a)}}function KA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ny),n;default:throw Error(r(435,e.tag))}}function hc(e,n){var a=KA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=nS.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){ge=E.stateNode,pn=!1;break t}break;case 5:ge=E.stateNode,pn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(ge===null)throw Error(r(160));xy(f,y,h),ge=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,e),n=n.sibling}var ui=null;function ky(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),o&4&&(Bs(3,e,e.return),fl(3,e),Bs(5,e,e.return));break;case 1:gn(n,e),yn(e),o&512&&(Ue||a===null||Ui(a,a.return)),o&64&&ss&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ui;if(gn(n,e),yn(e),o&512&&(Ue||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,a),f[De]=e,Oe(f),o=f;break t;case"link":var y=k_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;case"meta":if(y=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),We(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[De]=e,Oe(f),o=f}e.stateNode=o}else U_(h,e.type,e.stateNode);else e.stateNode=V_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,e.type,e.stateNode):V_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(n,e),yn(e),o&512&&(Ue||a===null||Ui(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,e),yn(e),o&512&&(Ue||a===null||Ui(a,a.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(gn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(Ic=null,h=ui,ui=wc(n.containerInfo),gn(n,e),ui=h,yn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(lt){te(e,e.return,lt)}td&&(td=!1,Uy(e));break;case 4:o=ui,ui=wc(e.stateNode.containerInfo),gn(n,e),yn(e),ui=o;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=He()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ss,F=Ue;if(ss=z||h,Ue=F||R,gn(n,e),Ue=F,ss=z,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ss||Ue||Xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){te(R,R.return,lt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){te(R,R.return,lt)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?w_(q,!0):w_(R.stateNode,!1)}catch(lt){te(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(e,a))));break;case 19:gn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);cc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(mn(y,""),a.flags&=-33);var E=Zf(e);cc(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Zf(e);Wf(e,z,R);break;default:throw Error(r(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function as(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Xr(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),Xr(n);break;case 27:Al(n.stateNode);case 26:case 5:Ui(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function os(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),fl(4,f);break;case 1:if(os(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)dg(R[h],E)}catch(z){te(o,o.return,z)}}a&&y&64&&by(f),dl(f,f.return);break;case 27:Cy(f);case 26:case 5:os(h,f,a),a&&o===null&&y&4&&Ry(f),dl(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&y&4&&My(h,f);break;case 13:os(h,f,a),a&&y&4&&Vy(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),dl(f,f.return);break;case 30:break;default:os(h,f,a)}n=n.sibling}}function ed(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wo(e))}function ci(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(e,n,a,o),n=n.sibling}function Ly(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(e,n,a,o),h&2048&&fl(9,n);break;case 1:ci(e,n,a,o);break;case 3:ci(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){ci(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else ci(e,n,a,o);break;case 31:ci(e,n,a,o);break;case 13:ci(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ci(e,n,a,o):ml(e,n):f._visibility&2?ci(e,n,a,o):(f._visibility|=2,Ha(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(y,n);break;case 24:ci(e,n,a,o),h&2048&&nd(n.alternate,n);break;default:ci(e,n,a,o)}}function Ha(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(f,y,E,R,h),fl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ha(f,y,E,R,h):ml(f,y):(F._visibility|=2,Ha(f,y,E,R,h)),h&&z&2048&&ed(y.alternate,y);break;case 24:Ha(f,y,E,R,h),h&&z&2048&&nd(y.alternate,y);break;default:Ha(f,y,E,R,h)}n=n.sibling}}function ml(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ml(a,o),h&2048&&ed(o.alternate,o);break;case 24:ml(a,o),h&2048&&nd(o.alternate,o);break;default:ml(a,o)}n=n.sibling}}var pl=8192;function Fa(e,n,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)Py(e,n,a),e=e.sibling}function Py(e,n,a){switch(e.tag){case 26:Fa(e,n,a),e.flags&pl&&e.memoizedState!==null&&MS(a,ui,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,n,a);break;case 3:case 4:var o=ui;ui=wc(e.stateNode.containerInfo),Fa(e,n,a),ui=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Fa(e,n,a),pl=o):Fa(e,n,a));break;default:Fa(e,n,a)}}function zy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,By(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fc(e)):gl(e);break;default:gl(e)}}function fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qe=o,By(o,e)}zy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),fc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fc(n));break;default:fc(n)}e=e.sibling}}function By(e,n){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qe=o;else t:for(a=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(Oy(o),o===a){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var YA={getCacheForType:function(e){var n=Je(Me),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Je(Me).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Mt=null,Ut=0,Wt=0,Nn=null,qs=!1,Ga=!1,id=!1,ls=0,ve=0,Hs=0,$r=0,sd=0,Dn=0,Qa=0,yl=null,_n=null,rd=!1,dc=0,qy=0,mc=1/0,pc=null,Fs=null,Be=0,Gs=null,Ka=null,us=0,ad=0,od=null,Hy=null,_l=0,ld=null;function On(){return(Yt&2)!==0&&Ut!==0?Ut&-Ut:H.T!==null?md():gu()}function Fy(){if(Dn===0)if((Ut&536870912)===0||Bt){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Dn=e}else Dn=536870912;return e=In.current,e!==null&&(e.flags|=32),Dn}function vn(e,n,a){(e===ae&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Qs(e,Ut,Dn,!1)),br(e,a),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&($r|=a),ve===4&&Qs(e,Ut,Dn,!1)),Li(e))}function Gy(e,n,a){if((Yt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||ti(e,n),h=o?ZA(e,n):cd(e,n,!0),f=o;do{if(h===0){Ga&&!o&&Qs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!$A(a)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=yl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ya(E,y).flags|=256),y=cd(E,y,!1),y!==2){if(id&&!R){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ya(e,0),Qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,Dn,!qs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=dc+300-He(),10<h)){if(Qs(o,n,Dn,!qs),vi(o,0,!0)!==0)break t;us=n,o.timeoutHandle=A_(Qy.bind(null,o,a,_n,pc,rd,n,Dn,$r,Qa,qs,f,"Throttled",-0,0),h);break t}Qy(o,a,_n,pc,rd,n,Dn,$r,Qa,qs,f,null,-0,0)}}break}while(!0);Li(e)}function Qy(e,n,a,o,h,f,y,E,R,z,F,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Py(n,f,X);var lt=(f&62914560)===f?dc-He():(f&4194048)===f?qy-He():0;if(lt=VS(X,lt),lt!==null){us=f,e.cancelPendingCommit=lt(t_.bind(null,e,n,f,a,o,h,y,E,R,F,X,null,j,q)),Qs(e,f,y,!z);return}}t_(e,n,f,a,o,h,y,E,R)}function $A(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,a,o){n&=~sd,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Se(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&wr(e,a,n)}function gc(){return(Yt&6)===0?(vl(0),!1):!0}function ud(){if(Mt!==null){if(Wt===0)var e=Mt.return;else e=Mt,Zi=Br=null,wf(e),Pa=null,el=0,e=Mt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Mt=null}}function Ya(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),us=0,ud(),ae=e,Mt=a=$i(e.current,null),Ut=n,Wt=0,Nn=null,qs=!1,Ga=ti(e,n),id=!1,Qa=Dn=sd=$r=Hs=ve=0,_n=yl=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Se(o),f=1<<h;n|=e[h],o&=~f}return ls=n,Lu(),a}function Ky(e,n){Nt=null,H.H=ul,n===La||n===Gu?(n=ug(),Wt=3):n===df?(n=ug(),Wt=4):Wt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Mt===null&&(ve=1,rc(e,Bn(n,e.current)))}function Yy(){var e=In.current;return e===null?!0:(Ut&4194048)===Ut?Gn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Gn:!1}function Xy(){var e=H.H;return H.H=ul,e===null?ul:e}function $y(){var e=H.A;return H.A=YA,e}function yc(){ve=4,qs||(Ut&4194048)!==Ut&&In.current!==null||(Ga=!0),(Hs&134217727)===0&&($r&134217727)===0||ae===null||Qs(ae,Ut,Dn,!1)}function cd(e,n,a){var o=Yt;Yt|=2;var h=Xy(),f=$y();(ae!==e||Ut!==n)&&(pc=null,Ya(e,n)),n=!1;var y=ve;t:do try{if(Wt!==0&&Mt!==null){var E=Mt,R=Nn;switch(Wt){case 8:ud(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=Wt;if(Wt=0,Nn=null,Xa(e,E,R,z),a&&Ga){y=0;break t}break;default:z=Wt,Wt=0,Nn=null,Xa(e,E,R,z)}}JA(),y=ve;break}catch(F){Ky(e,F)}while(!0);return n&&e.shellSuspendCounter++,Zi=Br=null,Yt=o,H.H=h,H.A=f,Mt===null&&(ae=null,Ut=0,Lu()),y}function JA(){for(;Mt!==null;)Jy(Mt)}function ZA(e,n){var a=Yt;Yt|=2;var o=Xy(),h=$y();ae!==e||Ut!==n?(pc=null,mc=He()+500,Ya(e,n)):Ga=ti(e,n);t:do try{if(Wt!==0&&Mt!==null){n=Mt;var f=Nn;e:switch(Wt){case 1:Wt=0,Nn=null,Xa(e,n,f,1);break;case 2:case 9:if(og(f)){Wt=0,Nn=null,Zy(n);break}n=function(){Wt!==2&&Wt!==9||ae!==e||(Wt=7),Li(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:og(f)?(Wt=0,Nn=null,Zy(n)):(Wt=0,Nn=null,Xa(e,n,f,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var E=Mt;if(y?L_(y):E.stateNode.complete){Wt=0,Nn=null;var R=E.sibling;if(R!==null)Mt=R;else{var z=E.return;z!==null?(Mt=z,_c(z)):Mt=null}break e}}Wt=0,Nn=null,Xa(e,n,f,5);break;case 6:Wt=0,Nn=null,Xa(e,n,f,6);break;case 8:ud(),ve=6;break t;default:throw Error(r(462))}}WA();break}catch(F){Ky(e,F)}while(!0);return Zi=Br=null,H.H=o,H.A=h,Yt=a,Mt!==null?0:(ae=null,Ut=0,Lu(),ve)}function WA(){for(;Mt!==null&&!un();)Jy(Mt)}function Jy(e){var n=Ty(e.alternate,e,ls);e.memoizedProps=e.pendingProps,n===null?_c(e):Mt=n}function Zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=py(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=py(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:wf(n);default:Sy(a,n),n=Mt=$p(n,ls),n=Ty(a,n,ls)}e.memoizedProps=e.pendingProps,n===null?_c(e):Mt=n}function Xa(e,n,a,o){Zi=Br=null,wf(n),Pa=null,el=0;var h=n.return;try{if(BA(e,h,n,a,Ut)){ve=1,rc(e,Bn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;ve=1,rc(e,Bn(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Ga||(Ut&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,e)):_c(n)}function _c(e){var n=e;do{if((n.flags&32768)!==0){Wy(n,qs);return}e=n.return;var a=FA(n.alternate,n,ls);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);ve===0&&(ve=5)}function Wy(e,n){do{var a=GA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ve=6,Mt=null}function t_(e,n,a,o,h,f,y,E,R){e.cancelPendingCommit=null;do vc();while(Be!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Jh,qh(e,a,f,y,E,R),e===ae&&(Mt=ae=null,Ut=0),Ka=n,Gs=e,us=a,ad=f,od=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iS(gi,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,y=Yt,Yt|=4;try{QA(e,n,a)}finally{Yt=y,et.p=h,H.T=o}}Be=1,e_(),n_(),i_()}}function e_(){if(Be===1){Be=0;var e=Gs,n=Ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{ky(n,e);var f=Ad,y=Bp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&jp(E.ownerDocument.documentElement,E)){if(R!==null&&Qh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),re=R.end===void 0?pt:Math.min(R.end,lt);!q.extend&&pt>re&&(y=re,re=pt,pt=y);var V=zp(E,pt),D=zp(E,re);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),pt>re?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Oc=!!Td,Ad=Td=null}finally{Yt=h,et.p=o,H.T=a}}e.current=n,Be=2}}function n_(){if(Be===2){Be=0;var e=Gs,n=Ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{Dy(e,n.alternate,n)}finally{Yt=h,et.p=o,H.T=a}}Be=3}}function i_(){if(Be===4||Be===3){Be=0,ha();var e=Gs,n=Ka,a=us,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Ka=Gs=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Qi(a),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(us&3)!==0&&vc(),Li(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ld?_l++:(_l=0,ld=e):_l=0,vl(0)}}function s_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Wo(n)))}function vc(){return e_(),n_(),i_(),r_()}function r_(){if(Be!==5)return!1;var e=Gs,n=ad;ad=0;var a=Qi(us),o=H.T,h=et.p;try{et.p=32>a?32:a,H.T=null,a=od,od=null;var f=Gs,y=us;if(Be=0,Ka=Gs=null,us=0,(Yt&6)!==0)throw Error(r(331));var E=Yt;if(Yt|=4,jy(f.current),Ly(f,f.current,y,a),Yt=E,vl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{et.p=h,H.T=o,s_(e,n)}}function a_(e,n,a){n=Bn(a,n),n=jf(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(br(e,2),Li(e))}function te(e,n,a){if(e.tag===3)a_(e,e,a);else for(;n!==null;){if(n.tag===3){a_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=Bn(a,e),a=oy(2),o=Ps(n,a,2),o!==null&&(ly(a,o,n,e),br(o,2),Li(o));break}}n=n.return}}function hd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new XA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),e=tS.bind(null,e,n,a),n.then(e,e))}function tS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Ut&a)===a&&(ve===4||ve===3&&(Ut&62914560)===Ut&&300>He()-dc?(Yt&2)===0&&Ya(e,0):sd|=a,Qa===Ut&&(Qa=0)),Li(e)}function o_(e,n){n===0&&(n=pu()),e=Pr(e,n),e!==null&&(br(e,n),Li(e))}function eS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),o_(e,a)}function nS(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o_(e,a)}function iS(e,n){return ct(e,n)}var Ec=null,$a=null,fd=!1,Tc=!1,dd=!1,Ks=0;function Li(e){e!==$a&&e.next===null&&($a===null?Ec=$a=e:$a=$a.next=e),Tc=!0,fd||(fd=!0,rS())}function vl(e,n){if(!dd&&Tc){dd=!0;do for(var a=!1,o=Ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Se(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=Ut,f=vi(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ti(o,f)||(a=!0,h_(o,f));o=o.next}while(a);dd=!1}}function sS(){l_()}function l_(){Tc=fd=!1;var e=0;Ks!==0&&pS()&&(e=Ks);for(var n=He(),a=null,o=Ec;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,a===null?Ec=h:a.next=h,h===null&&($a=a)):(a=o,(e!==0||(f&3)!==0)&&(Tc=!0)),o=h}Be!==0&&Be!==5||vl(e),Ks!==0&&(Ks=0)}function u_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Se(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Bh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,a=Ut,a=vi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Jt(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ti(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Jt(o),Qi(a)){case 2:case 8:a=Zn;break;case 32:a=gi;break;case 268435456:a=Ar;break;default:a=gi}return o=c_.bind(null,e),a=ct(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Jt(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vc()&&e.callbackNode!==a)return null;var o=Ut;return o=vi(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,n),u_(e,He()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,n){if(vc())return null;Gy(e,n,!0)}function rS(){yS(function(){(Yt&6)!==0?ct(As,sS):l_()})}function md(){if(Ks===0){var e=ka;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=e}return Ks}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function d_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function aS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[Fe]||null).action),y=o.submitter;y&&(n=(n=y[Fe]||null)?f_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var R=y?d_(h,y):new FormData(h);Vf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?d_(h,y):new FormData(h),Vf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],oS=gd.toLowerCase(),lS=gd[0].toUpperCase()+gd.slice(1);li(oS,"on"+lS)}li(Fp,"onAnimationEnd"),li(Gp,"onAnimationIteration"),li(Qp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(bA,"onTransitionRun"),li(wA,"onTransitionStart"),li(RA,"onTransitionCancel"),li(Kp,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function m_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Uu(F)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Uu(F)}h.currentTarget=null,f=R}}}}function Vt(e,n){var a=n[pa];a===void 0&&(a=n[pa]=new Set);var o=e+"__bubble";a.has(o)||(p_(n,e,2,!1),a.add(o))}function yd(e,n,a){var o=0;n&&(o|=4),p_(a,e,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[Ac]){e[Ac]=!0,xo.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||yd(a,!1,e),yd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,yd("selectionchange",!1,n))}}function p_(e,n,a,o){switch(F_(n)){case 2:var h=LS;break;case 8:h=PS;break;default:h=Md}a=h.bind(null,n,a,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function vd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Si(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Cs(function(){var z=f,F=Ln(a),X=[];t:{var j=Yp.get(e);if(j!==void 0){var q=Di,lt=e;switch(e){case"keypress":if(xr(a)===0)break t;case"keydown":case"keyup":q=Mu;break;case"focusin":lt="focus",q=Vr;break;case"focusout":lt="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Fp:case Gp:case Qp:q=Ru;break;case Kp:q=T;break;case"scroll":case"scrollend":q=Fo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xi;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,re=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||V===null||(Q=si(D,V),Q!=null&&pt.push(Tl(D,Q,P))),re)break;D=D.return}0<pt.length&&(j=new q(j,lt,null,a,F),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Bo&&(lt=a.relatedTarget||a.fromElement)&&(Si(lt)||lt[Ti]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=z,lt=lt?Si(lt):null,lt!==null&&(re=c(lt),pt=lt.tag,lt!==re||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(pt=Go,Q="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Xi,Q="onPointerLeave",V="onPointerEnter",D="pointer"),re=q==null?j:Sn(q),P=lt==null?j:Sn(lt),j=new pt(Q,D+"leave",q,a,F),j.target=re,j.relatedTarget=P,Q=null,Si(F)===z&&(pt=new pt(V,D+"enter",lt,a,F),pt.target=P,pt.relatedTarget=re,Q=pt),re=Q,q&&lt)e:{for(pt=cS,V=q,D=lt,P=0,Q=V;Q;Q=pt(Q))P++;Q=0;for(var ft=D;ft;ft=pt(ft))Q++;for(;0<P-Q;)V=pt(V),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;q!==null&&g_(X,j,q,pt,!1),lt!==null&&re!==null&&g_(X,re,lt,pt,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=Mp;else if(Op(j))if(Vp)Ht=TA;else{Ht=vA;var ut=_A}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&va(z.elementType)&&(Ht=Mp):Ht=EA;if(Ht&&(Ht=Ht(e,z))){xp(X,Ht,a,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Po(j,"number",j.value)}switch(ut=z?Sn(z):window,e){case"focusin":(Op(ut)||ut.contentEditable==="true")&&(Ia=ut,Kh=z,$o=null);break;case"focusout":$o=Kh=Ia=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,qp(X,a,F);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":qp(X,a,F)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ra?kr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Mi&&a.locale!=="ko"&&(Ra||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ra&&(Dt=Ho()):(Ni=F,qo="value"in Ni?Ni.value:Ni.textContent,Ra=!0)),ut=Sc(z,Lt),0<ut.length&&(Lt=new xi(Lt,e,null,a,F),X.push({event:Lt,listeners:ut}),Dt?Lt.data=Dt:(Dt=wa(a),Dt!==null&&(Lt.data=Dt)))),(Dt=zn?mA(e,a):pA(e,a))&&(Lt=Sc(z,"onBeforeInput"),0<Lt.length&&(ut=new xi("onBeforeInput","beforeinput",null,a,F),X.push({event:ut,listeners:Lt}),ut.data=Dt)),aS(X,e,z,a,F)}m_(X,n)})}function Tl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Sc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,a),h!=null&&o.unshift(Tl(e,h,f)),h=si(e,n),h!=null&&o.push(Tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function cS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=si(a,f),z!=null&&y.unshift(Tl(a,z,R))):h||(z=si(a,f),z!=null&&y.push(Tl(a,z,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(hS,`
`).replace(fS,"")}function __(e,n){return n=y_(n),y_(e)===n}function se(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,o);break;case"style":jo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ea(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ea(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ii);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,ya(e,a,o))}}function Ed(e,n,a,o,h,f){switch(a){case"style":jo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function We(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,f,y,a,null)}}h&&se(e,n,"srcSet",a.srcSet,a,null),o&&se(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:se(e,n,o,F,a,null)}}Eu(e,f,E,R,z,y,h,!1);return;case"select":Vt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:se(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):a!=null&&bs(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:se(e,n,y,E,a,null)}ws(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,R,o,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)Vt(El[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,z,o,a,null)}return;default:if(va(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Ed(e,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&se(e,n,E,o,a,null))}function dS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||se(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=a[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&se(e,n,j,q,o,X)}}_a(e,y,E,R,z,F,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&se(e,n,h,f,o,R)}n=E,a=y,o=q,j!=null?bs(e,!!a,j,!1):!!o!=!!a&&(n!=null?bs(e,!!a,n,!0):bs(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&se(e,n,y,h,o,f)}Tu(e,j,q);return;case"option":for(var lt in a)j=a[lt],a.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:se(e,n,lt,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&se(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:se(e,n,z,j,o,q)}return;default:if(va(n)){for(var re in a)j=a[re],a.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&Ed(e,n,re,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Ed(e,n,F,j,o,q);return}}for(var V in a)j=a[V],a.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&se(e,n,V,null,o,j);for(X in o)j=o[X],q=a[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||se(e,n,X,j,o,q)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&v_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var F=R.transferSize,X=R.initiatorType;F&&v_(X)&&(R=R.responseEnd,y+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,Ad=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function pS(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(_S)}:A_;function _S(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function b_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),to(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);to(n)}function w_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function ES(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function R_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function TS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function I_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function N_(e,n,a){switch(n=bc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ga(e)}var Kn=new Map,D_=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cs=et.d;et.d={f:AS,r:SS,D:bS,C:wS,L:RS,m:IS,X:NS,S:CS,M:DS};function AS(){var e=cs.f(),n=gc();return e||n}function SS(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Kg(n):cs.r(e)}var Ja=typeof document>"u"?null:document;function O_(e,n,a){var o=Ja;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),Oe(n),o.head.appendChild(n)))}}function bS(e){cs.D(e),O_("dns-prefetch",e,null)}function wS(e,n){cs.C(e,n),O_("preconnect",e,n)}function RS(e,n,a){cs.L(e,n,a);var o=Ja;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=Za(e);break;case"script":f=Wa(e)}Kn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Sl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),We(n,"link",e),Oe(n),o.head.appendChild(n)))}}function IS(e,n){cs.m(e,n);var a=Ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(e)}if(!Kn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),We(o,"link",e),Oe(o),a.head.appendChild(o)}}}function CS(e,n,a){cs.S(e,n,a);var o=Ja;if(o&&e){var h=bi(o).hoistableStyles,f=Za(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kn.get(f))&&Nd(e,a);var R=y=o.createElement("link");Oe(R),We(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Rc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function NS(e,n){cs.X(e,n);var a=Ja;if(a&&e){var o=bi(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=b({src:e,async:!0},n),(n=Kn.get(h))&&Dd(e,n),f=a.createElement("script"),Oe(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function DS(e,n){cs.M(e,n);var a=Ja;if(a&&e){var o=bi(a).hoistableScripts,h=Wa(e),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Dd(e,n),f=a.createElement("script"),Oe(f),We(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,a,o){var h=(h=It.current)?wc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=bi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var f=bi(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Sl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),f||OS(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(a),a=bi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+dn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function OS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",a),Oe(n),e.head.appendChild(n))}function Wa(e){return'[src="'+dn(e)+'"]'}function bl(e){return"script[async]"+e}function V_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return n.instance=o,Oe(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Oe(o),We(o,"style",h),Rc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Za(a.href);var f=e.querySelector(Sl(h));if(f)return n.state.loading|=4,n.instance=f,Oe(f),f;o=M_(a),(h=Kn.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),Oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),We(f,"link",o),n.state.loading|=4,Rc(f,a.precedence,e),n.instance=f;case"script":return f=Wa(a.src),(h=e.querySelector(bl(f)))?(n.instance=h,Oe(h),h):(o=a,(h=Kn.get(f))&&(o=b({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Rc(o,a.precedence,e));return n.instance}function Rc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ic=null;function k_(e,n,a){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(a,o)}else h=Ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ai]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function U_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function xS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function MS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),f=n.querySelector(Sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Cc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Oe(f);return}f=n.ownerDocument||n,o=M_(o),(h=Kn.get(h))&&Nd(o,h),f=f.createElement("link"),Oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),We(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Cc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function VS(e,n){return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*mS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,n.forEach(kS,e),Nc=null,Cc.call(e))}function kS(e,n){if(!(n.state.loading&4)){var a=Nc.get(e);if(a)var o=a.get(null);else{a=new Map,Nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var wl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function US(e,n,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function P_(e,n,a,o,h,f,y,E,R,z,F,X){return e=new US(e,n,a,y,R,z,F,X,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),e}function z_(e){return e?(e=Da,e):Da}function j_(e,n,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(e,o,n),a!==null&&(vn(a,e,n),il(a,e,n))}function B_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function xd(e,n){B_(e,n),(e=e.alternate)&&B_(e,n)}function q_(e){if(e.tag===13||e.tag===31){var n=Pr(e,67108864);n!==null&&vn(n,e,67108864),xd(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var n=On();n=Rr(n);var a=Pr(e,n);a!==null&&vn(a,e,n),xd(e,n)}}var Oc=!0;function LS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Md(e,n,a,o)}finally{et.p=f,H.T=h}}function PS(e,n,a,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Md(e,n,a,o)}finally{et.p=f,H.T=h}}function Md(e,n,a,o){if(Oc){var h=Vd(o);if(h===null)vd(e,n,o,xc,a),G_(e,o);else if(jS(h,e,n,a,o))o.stopPropagation();else if(G_(e,o),n&4&&-1<zS.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=_i(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Se(y);E.entanglements[1]|=R,y&=~R}Li(f),(Yt&6)===0&&(mc=He()+500,vl(0))}}break;case 31:case 13:E=Pr(f,2),E!==null&&vn(E,f,2),gc(),xd(f,2)}if(f=Vd(o),f===null&&vd(e,n,o,xc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,a)}}function Vd(e){return e=Ln(e),kd(e)}var xc=null;function kd(e){if(xc=null,e=Si(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case As:return 2;case Zn:return 8;case gi:case No:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var Ud=!1,Xs=null,$s=null,Js=null,Rl=new Map,Il=new Map,Zs=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Cl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&q_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function jS(e,n,a,o,h){switch(n){case"focusin":return Xs=Cl(Xs,e,n,a,o,h),!0;case"dragenter":return $s=Cl($s,e,n,a,o,h),!0;case"mouseover":return Js=Cl(Js,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Cl(Il.get(f)||null,e,n,a,o,h)),!0}return!1}function Q_(e){var n=Si(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,ei(e.priority,function(){H_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,ei(e.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Bo=o,a.target.dispatchEvent(o),Bo=null}else return n=Un(a),n!==null&&q_(n),e.blockedOn=a,!1;n.shift()}return!0}function K_(e,n,a){Mc(e)&&a.delete(n)}function BS(){Ud=!1,Xs!==null&&Mc(Xs)&&(Xs=null),$s!==null&&Mc($s)&&($s=null),Js!==null&&Mc(Js)&&(Js=null),Rl.forEach(K_),Il.forEach(K_)}function Vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BS)))}var kc=null;function Y_(e){kc!==e&&(kc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=Un(a);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function to(e){function n(R){return Vc(R,e)}Xs!==null&&Vc(Xs,e),$s!==null&&Vc($s,e),Js!==null&&Vc(Js,e),Rl.forEach(n),Il.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Fe]||null;if(typeof f=="function")y||Y_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Fe]||null)E=y.formAction;else if(kd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Uc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=On();j_(a,o,e,n,null,null)},Uc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),gc(),n[Ti]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=gu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,e),a===0&&Q_(e)}};var $_=t.version;if($_!=="19.2.3")throw Error(r(527,$_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var qS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Wn=Lc.inject(qS),Ye=Lc}catch{}}return Dl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=iy,f=sy,y=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=P_(e,1,!1,null,null,a,o,null,h,f,y,X_),e[Ti]=n.current,_d(e),new Ld(n)},Dl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=iy,y=sy,E=ry,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=P_(e,1,!0,n,a??null,o,h,R,f,y,E,X_),n.context=z_(null),a=n.current,o=On(),o=Rr(o),h=Ls(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,br(n,a),Li(n),e[Ti]=n.current,_d(e),new Uc(n)},Dl.version="19.2.3",Dl}var av;function ZS(){if(av)return jd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=JS(),jd.exports}var WS=ZS();const tb=()=>{};var ov={};const q0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eb=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,G=_&63;g||(G=64,d||(x=64)),r.push(i[A],i[b],i[x],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):eb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new nb;const x=c<<2|p>>4;if(r.push(x),_!==64){const G=p<<4&240|_>>2;if(r.push(G),b!==64){const Z=_<<6&192|b;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ib=function(s){const t=q0(s);return H0.encodeByteArray(t,!0)},ih=function(s){return ib(s).replace(/\./g,"")},F0=function(s){try{return H0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rb=()=>sb().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof ov>"u")return;const s=ov.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ob=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&F0(s[1]);return t&&JSON.parse(t)},Th=()=>{try{return tb()||rb()||ab()||ob()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},G0=s=>Th()?.emulatorHosts?.[s],lb=s=>{const t=G0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Q0=()=>Th()?.config,K0=s=>Th()?.[`_${s}`];class ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y0(s){return(await fetch(s,{credentials:"include"})).ok}function cb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(i)),ih(JSON.stringify(d)),""].join(".")}const Pl={};function hb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?s.emulator.push(t):s.prod.push(t);return s}function fb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let lv=!1;function X0(s,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Pl[s]===t||Pl[s]||lv)return;Pl[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=hb().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{lv=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=fb(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;p(gt),A(W,it);const Et=_();g(Tt,mt),gt.append(Tt,Z,W,Et),document.body.appendChild(gt)}c?(Z.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function mb(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _b(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vb(){return!mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function Tb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Ab="FirebaseError";class vs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Ab,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Sb(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new vs(l,p,r)}}function Sb(s,t){return s.replace(bb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const bb=/\{\$([^}]+)}/g;function wb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ea(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(uv(c)&&uv(d)){if(!ea(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function uv(s){return s!==null&&typeof s=="object"}function eu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Ml(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function Rb(s,t){const i=new Ib(s,t);return i.subscribe.bind(i)}class Ib{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Cb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Ee(s){return s&&s._delegate?s._delegate:s}class na{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class Nb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new ub;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ob(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Db(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Db(s){return s===Jr?void 0:s}function Ob(s){return s.instantiationMode==="EAGER"}class xb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Nb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const Mb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Vb=Pt.INFO,kb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Ub=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=kb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=Vb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const Lb=(s,t)=>t.some(i=>s instanceof i);let cv,hv;function Pb(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,um=new WeakMap,J0=new WeakMap,Gd=new WeakMap,Pm=new WeakMap;function jb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&$0.set(i,s)}).catch(()=>{}),Pm.set(t,s),t}function Bb(s){if(um.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});um.set(s,t)}let cm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return um.get(s);if(t==="objectStoreNames")return s.objectStoreNames||J0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function qb(s){cm=s(cm)}function Hb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qd(this),t,...i);return J0.set(r,t.sort?t.sort():[t]),or(r)}:zb().includes(s)?function(...t){return s.apply(Qd(this),t),or($0.get(this))}:function(...t){return or(s.apply(Qd(this),t))}}function Fb(s){return typeof s=="function"?Hb(s):(s instanceof IDBTransaction&&Bb(s),Lb(s,Pb())?new Proxy(s,cm):s)}function or(s){if(s instanceof IDBRequest)return jb(s);if(Gd.has(s))return Gd.get(s);const t=Fb(s);return t!==s&&(Gd.set(s,t),Pm.set(t,s)),t}const Qd=s=>Pm.get(s);function Gb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=or(d);return r&&d.addEventListener("upgradeneeded",g=>{r(or(d.result),g.oldVersion,g.newVersion,or(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Qb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],Kd=new Map;function fv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Kb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Qb.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return Kd.set(t,c),c}qb(s=>({...s,get:(t,i,r)=>fv(t,i)||s.get(t,i,r),has:(t,i)=>!!fv(t,i)||s.has(t,i)}));class Yb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Xb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Xb(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",dv="0.14.6";const ps=new Lm("@firebase/app"),$b="@firebase/app-compat",Jb="@firebase/analytics-compat",Zb="@firebase/analytics",Wb="@firebase/app-check-compat",t1="@firebase/app-check",e1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",s1="@firebase/data-connect",r1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",p1="@firebase/remote-config-compat",g1="@firebase/storage",y1="@firebase/storage-compat",_1="@firebase/firestore",v1="@firebase/ai",E1="@firebase/firestore-compat",T1="firebase",A1="12.6.0";const fm="[DEFAULT]",S1={[hm]:"fire-core",[$b]:"fire-core-compat",[Zb]:"fire-analytics",[Jb]:"fire-analytics-compat",[t1]:"fire-app-check",[Wb]:"fire-app-check-compat",[e1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[s1]:"fire-data-connect",[r1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[p1]:"fire-rc-compat",[g1]:"fire-gcs",[y1]:"fire-gcs-compat",[_1]:"fire-fst",[E1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[T1]:"fire-js-all"};const sh=new Map,b1=new Map,dm=new Map;function mv(s,t){try{s.container.addComponent(t)}catch(i){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ho(s){const t=s.name;if(dm.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,s);for(const i of sh.values())mv(i,s);for(const i of b1.values())mv(i,s);return!0}function zm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Yn(s){return s==null?!1:s.settings!==void 0}const w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new tu("app","Firebase",w1);class R1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Ao=A1;function Z0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:fm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Q0()),!i)throw lr.create("no-options");const c=sh.get(l);if(c){if(ea(i,c.options)&&ea(r,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new xb(l);for(const g of dm.values())d.addComponent(g);const p=new R1(i,r,d);return sh.set(l,p),p}function W0(s=fm){const t=sh.get(s);if(!t&&s===fm&&Q0())return Z0();if(!t)throw lr.create("no-app",{appName:s});return t}function ur(s,t,i){let r=S1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}ho(new na(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const I1="firebase-heartbeat-database",C1=1,Fl="firebase-heartbeat-store";let Yd=null;function tE(){return Yd||(Yd=Gb(I1,C1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Fl)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function N1(s){try{const i=(await tE()).transaction(Fl),r=await i.objectStore(Fl).get(eE(s));return await i.done,r}catch(t){if(t instanceof vs)ps.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});ps.warn(i.message)}}}async function pv(s,t){try{const r=(await tE()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(t,eE(s)),await r.done}catch(i){if(i instanceof vs)ps.warn(i.message);else{const r=lr.create("idb-set",{originalErrorMessage:i?.message});ps.warn(r.message)}}}function eE(s){return`${s.name}!${s.options.appId}`}const D1=1024,O1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new V1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>O1){const l=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:i,unsentEntries:r}=M1(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ps.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function M1(s,t=D1){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class V1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?Tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await N1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yv(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function k1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function U1(s){ho(new na("platform-logger",t=>new Yb(t),"PRIVATE")),ho(new na("heartbeat",t=>new x1(t),"PRIVATE")),ur(hm,dv,s),ur(hm,dv,"esm2020"),ur("fire-js","")}U1("");var L1="firebase",P1="12.7.0";ur(L1,P1,"app");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,nE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,U){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(M[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<S;)if(M[N++]=C[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;M&&U==S||(I[N]=U,M=!1)}this.g=I}var p={};function g(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return W(_(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let M=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),M=M.j(N).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var b=g(0),x=g(1),G=g(16777216);s=d.prototype,s.m=function(){if(it(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(it(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var I=this;let M="";for(;;){const N=Et(I,S).g;I=mt(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=mt(this,C),it(C)?-1:Z(C)?0:1};function W(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(x)}s.abs=function(){return it(this)?W(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=S;N++){let U=M+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,S){return C.add(W(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(it(this))return it(C)?W(this).j(W(C)):W(W(this).j(C));if(it(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,le=C.i(N)>>>16,me=C.i(N)&65535;I[2*M+2*N]+=w*me,Tt(I,2*M+2*N),I[2*M+2*N+1]+=U*me,Tt(I,2*M+2*N+1),I[2*M+2*N+1]+=w*le,Tt(I,2*M+2*N+1),I[2*M+2*N+2]+=U*le,Tt(I,2*M+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Tt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function gt(C,S){this.g=C,this.h=S}function Et(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new gt(b,b);if(it(C))return S=Et(W(C),S),new gt(W(S.g),W(S.h));if(it(S))return S=Et(C,W(S)),new gt(W(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=S;M.l(C)<=0;)I=ee(I),M=ee(M);var N=xt(I,1),U=xt(M,1);for(M=xt(M,2),I=xt(I,2);!Z(M);){var w=U.add(M);w.l(C)<=0&&(N=N.add(I),U=w),M=xt(M,1),I=xt(I,1)}return S=mt(C,N.j(S)),new gt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),w=U.j(S);it(w)||w.l(C)>0;)I-=M,U=_(I),w=U.j(S);Z(U)&&(U=x),N=N.add(U),C=mt(C,w)}return new gt(N,C)}s.B=function(C){return Et(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ee(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function xt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,N=[];for(let U=0;U<M;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,cr=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,Vl,sE,Kc,mm,rE,aE,oE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)tt[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,xt=!1,C=new Tt,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(le,N),le.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=It(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Te={};function ue(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,T,L);return null}return v=Ae(v),u&&u[me]?u.J(m,v,p(T)?!!T.capture:!1,L):$n(u,m,v,!1,T,L)}function $n(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let Ct=St(u);if(Ct||(u[kt]=Ct=new rt(u)),v=Ct.add(m,v,T,tt,B),v.proxy)return v;if(T=Ts(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=ot;return u}function mi(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)mi(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=Ae(v),u&&u[me]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=It(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=St(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,T,L)),(v=u>-1?m[u]:null)&&pi(v))}function pi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent($(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=St(m))?(vt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ht(u)}}}function $(u){return u in Te?Te[u]:Te[u]="on"+u}function ot(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&pi(u),u=v.call(T,m)}return u}function St(u){return u=u[kt],u instanceof rt?u:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ae(u){return typeof u=="function"?u:(u[$t]||(u[$t]=function(m){return u.handleEvent(m)}),u[$t])}function bt(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(bt,M),bt.prototype[me]=!0,bt.prototype.removeEventListener=function(u,m,v,T){mi(this,u,m,v,T)};function ct(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=Jt(B,T,!0,m)&&L;if(B=m.g=u,L=Jt(B,T,!0,m)&&L,L=Jt(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=Jt(B,T,!1,m)&&L}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},bt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Jt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Ct=tt.listener,be=tt.ha||tt.src;tt.fa&&vt(u.i,tt),L=Ct.call(be,T)!==!1&&L}}return L&&!T.defaultPrevented}function un(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ha(u){u.g=un(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class He extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(u){M.call(this),this.h=u,this.g={}}b(Jn,M);var As=[];function Zn(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&pi(m)},u),u.g={}}Jn.prototype.N=function(){Jn.Z.N.call(this),Zn(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,No=d.JSON.parse,Ar=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fa(){}function da(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}b(Ye,N);function kn(){N.call(this,"c")}b(kn,N);var Se={},du=null;function ma(){return du=du||new bt}Se.Ia="serverreachability";function mu(u){N.call(this,Se.Ia,u)}b(mu,N);function yi(u){const m=ma();ct(m,new mu(m))}Se.STAT_EVENT="statevent";function Sr(u,m){N.call(this,Se.STAT_EVENT,u),this.stat=m}b(Sr,N);function Ne(u){const m=ma();ct(m,new Sr(m,u))}Se.Ja="timingevent";function _i(u,m){N.call(this,Se.Ja,u),this.size=m}b(_i,N);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Bh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Ct=B.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var be=Ct[Kt].split("=");if(be.length>1){const pe=be[0];be=be[1];const zn=pe.split("_");tt=zn.length>=2&&zn[1]=="type"?tt+(pe+"="+be+"&"):tt+(pe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function pu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function Ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return gi(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Rr(){}b(Rr,fa),Rr.prototype.g=function(){return new XMLHttpRequest},Oo=new Rr;function Qi(u){return encodeURIComponent(String(u))}function gu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var De={},Fe={};function Ti(u,m,v){u.M=1,u.A=Ir(xe(m)),u.u=v,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),Ai(u),u.B=xe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ni,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new He(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(As[0]=L.toString()),L=As);for(let B=0;B<L.length;B++){const tt=ue(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ri(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ct!=4||be==7||(be==8||Kt<=0?yi(3):yi(2)),Si(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ne(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=_u(this,v),pe==Fe){Ct==4&&(this.m=4,Ne(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==De){this.m=4,Ne(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,pe,null),bi(this,pe);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(tt),tt.P=!0,Ne(11))}}else Ei(this.i,this.l,v,null),bi(this,v);Ct==4&&Sn(this),this.o&&!this.K&&(Ct==4?Iu(this.j,this):(this.o=!1,Ai(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Sn(this),Un(this)}}}catch{}};function Hh(u){if(!yu(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const T=m.length,L=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function yu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _u(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Fe:(v=Number(m.substring(v,T)),isNaN(v)?De:(T+=1,T+v>m.length?Fe:(m=m.slice(T,T+v),u.C=T+v,m)))}ei.prototype.cancel=function(){this.K=!0,Sn(this)};function Ai(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(yi(),Ne(17)),Sn(this),this.m=2,Un(this)):ga(this,this.T-u)};function Un(u){u.j.I==0||u.K||Iu(u.j,u)}function Sn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ba(v),Ds(v);else break t;Vr(v),Ne(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&ba(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const pe=Kt[0];if(!(pe<=v.K))if(v.K=pe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const zn=Kt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Mi=Kt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ai=Kt[5];ai!=null&&typeof ai=="number"&&ai>0&&(T=1.5*ai,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const oi=u.g;if(oi){const kr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=T.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Vo(B,B.h),B.h=null))}if(T.G){const wa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(T.wa=wa,Zt(T.J,T.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Du(T,T.L?T.ba:null,T.W),tt.L){ko(T.h,tt);var Ct=tt,be=T.O;be&&(Ct.H=be),Ct.D&&(Si(Ct),Ai(Ct)),T.g=tt}else wu(T);v.i.length>0&&Oi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||xi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?xi(v,7):Fo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}yi(4)}catch{}}var Oe=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Lo(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(vu))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Ss(this,m[4]),this.h=Ii(m[5]||"",!0),Lo(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,_a,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Po:Eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,Tu)),u.join("")},bn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?Ge(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Ct=L[tt++];Ct=="."?T&&tt==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Lo(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new bn(u)}function Ge(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Lo(u,m,v){m instanceof ws?(u.i=m,Ea(u.i,u.l)):(v||(m=Cr(m,bs)),u.i=new ws(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function Ir(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,Eu=/[#\?:]/g,Po=/[#\?]/g,bs=/[#\?@]/g,Tu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,m){mn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Au(u,m){mn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return mn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function jo(u,m){mn(u);let v=[];if(typeof m=="string")zo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=Rs(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){Au(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Qi(v);v=jo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Qi(v[B])),u.push(tt)}}return this.i=u.join("&")};function Su(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ea(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(Au(this,T),va(this,L,v))},u)),u.j=m}function ii(u,m){const v=new ti;if(d.Image){const T=new Image;T.onload=A(Ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Ln,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Ln,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Bo(u,m){const v=new ti,T=new AbortController,L=setTimeout(()=>{T.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Is(){this.g=new Ar}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ci,fa),Ci.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Nr,bt),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):si(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Ot(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Pn(v),typeof u=="string"?v!=null&&Qi(v):Zt(u,m,v))}function ne(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,bt);var Ni=/^https?$/i,qo=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(qo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ho(u),Ki(u)}function Ho(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ct(this,"complete"),ct(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(ct(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(vu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ni.test(tt?tt.toLowerCase():"")}v=T}if(v)ct(u,"complete"),ct(u,"success");else{u.o=6;try{var L=ri(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ho(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ct(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),No(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=gu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ne(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),Oi(this)};function Fo(u){if(Aa(u),u.I==3){var m=u.V++,v=xe(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),Mr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Ir(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Nu(u)}function Ds(u){u.g&&(Qo(u),u.g.cancel(),u.g=null)}function Aa(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),xt||(ee(),xt=!0),C.add(m,u),u.D=0}}function Sa(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),Cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ei(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),v=xe(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Qi(Pn(B))+"&"+m:this.u&&Dr(v,this.u,B)),Vo(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||Mo(this.h)||Go(this))};function Go(u,m){var v;m?v=m.l:v=u.V++;const T=xe(u.J);Zt(T,"SID",u.M),Zt(T,"RID",v),Zt(T,"AID",u.K),Mr(u,T),u.u&&u.o&&Dr(T,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),Ti(v,T,m)}function Mr(u,m){u.H&&Ot(u.H,function(v,T){Zt(m,T,v)}),u.l&&Ot({},function(v,T){Zt(m,T,v)})}function bu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const be=["count="+v];Ct==-1?v>0?(Ct=L[0].g,be.push("ofs="+Ct)):Ct=0:be.push("ofs="+Ct);let Kt=!0;for(let pe=0;pe<v;pe++){var B=L[pe].g;const zn=L[pe].map;if(B-=Ct,B<0)Ct=Math.max(0,L[pe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=zn instanceof Map?zn:Object.entries(zn);for(const[Mi,ai]of tt){let oi=ai;p(ai)&&(oi=gi(ai)),be.push(B+Mi+"="+encodeURIComponent(oi))}}catch(Mi){throw be.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(zn)}}if(Kt){tt=be.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function wu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),xt||(ee(),xt=!0),C.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),Cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Ds(this),Ru(this))};function Qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(xe(m)),v.u=null,v.R=!0,pa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),Ne(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Iu(u,m){var v=null;if(u.g==m){ba(u),Qo(u),u.g=null;var T=2}else if(Ri(u.h,m))v=m.G,ko(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ma(),ct(T,new _i(T,v)),Oi(u)}else wu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Sa(u,m)||T==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),Ir(T),L?ii(T.toString(),v):Bo(T.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),Nu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Nu(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,v){var T=v instanceof bn?xe(v):new bn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);T&&Ge(B,T),m&&(B.g=m),L&&Ss(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Zt(T,v,m),Zt(T,"VER",u.ka),Mr(u,T),T}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ci({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){bt.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}b(cn,bt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Fo(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gi(u),u=v);m.i.push(new Oe(m.Ya++,u)),m.I==3&&Oi(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,cn.Z.N.call(this)};function Mu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Mu,Ye);function Vu(){kn.call(this),this.status=1}b(Vu,kn);function Xi(u){this.g=u}b(Xi,xu),Xi.prototype.ra=function(){ct(this.g,"a")},Xi.prototype.qa=function(u){ct(this.g,new Mu(u))},Xi.prototype.pa=function(u){ct(this.g,new Vu)},Xi.prototype.oa=function(){ct(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,oE=function(){return new Os},aE=function(){return ma()},rE=Se,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Kc=wr,Do.COMPLETE="complete",sE=Do,da.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Vl=da,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,iE=ne}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",Ev="4.9.3";class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let So="12.7.0";const ia=new Lm("@firebase/firestore");function eo(){return ia.logLevel}function at(s,...t){if(ia.logLevel<=Pt.DEBUG){const i=t.map(jm);ia.debug(`Firestore (${So}): ${s}`,...i)}}function gs(s,...t){if(ia.logLevel<=Pt.ERROR){const i=t.map(jm);ia.error(`Firestore (${So}): ${s}`,...i)}}function fo(s,...t){if(ia.logLevel<=Pt.WARN){const i=t.map(jm);ia.warn(`Firestore (${So}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,lE(s,r,i)}function lE(s,t,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw gs(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||lE(t,l,r)}function Rt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends vs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class uE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class j1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class B1{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class q1{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H1{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new q1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=G1(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function pm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Xd(l)===Xd(c)?zt(l,c):Xd(l)?1:-1}return zt(s.length,t.length)}const Q1=55296,K1=57343;function Xd(s){const t=s.charCodeAt(0);return t>=Q1&&t<=K1}function mo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Av="__name__";class Pi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const r=Pi.isNumericId(t),l=Pi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):pm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class ce extends Pi{construct(t,i,r){return new ce(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const Y1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pi{construct(t,i,r){return new en(t,i,r)}static isValidIdentifier(t){return Y1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new en([Av])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ce.fromString(t))}static fromName(t){return new dt(ce.fromString(t).popFirst(5))}static empty(){return new dt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ce(t.slice()))}}function cE(s,t,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function X1(s,t,i,r){if(t===!0&&r===!0)throw new st(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Sv(s){if(!dt.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function bv(s){if(dt.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function hr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(s);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function ze(s,t){const i={typeString:s};return t&&(i.value=t),i}function nu(s,t){if(!hE(s))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}const wv=-62135596800,Rv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Rv);return new de(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<wv)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ze("string",de._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function $1(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new dr(l,dt.empty(),t)}function J1(s){return new dr(s.readTime,s.key,Gl)}class dr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(At.min(),dt.empty(),Gl)}static max(){return new dr(At.max(),dt.empty(),Gl)}}function Z1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const W1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==W1)throw s;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function ew(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const qm=-1;function bh(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function nw(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const fE="";function iw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Iv(t)),t=sw(s.get(i),t);return Iv(t)}function sw(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case fE:i+="";break;default:i+=c}}return i}function Iv(s){return s+fE+""}function Cv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function vr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function dE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new tn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new qe(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=rw.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(s.seconds),nanos:Ce(s.nanos)}}function Ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const pE="server_timestamp",gE="__type__",yE="__previous_value__",_E="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[gE]?.stringValue===pE}function wh(s){const t=s.mapValue.fields[yE];return Hm(t)?wh(t):t}function Ql(s){const t=mr(s.mapValue.fields[_E].timestampValue);return new de(t.seconds,t.nanos)}class aw{constructor(t,i,r,l,c,d,p,g,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const ah="(default)";class Kl{constructor(t,i){this.projectId=t,this.database=i||ah}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Kl&&t.projectId===this.projectId&&t.database===this.database}}const vE="__type__",ow="__max__",jc={mapValue:{}},EE="__vector__",oh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:uw(s)?9007199254740991:lw(s)?10:11:_t(28295,{value:s})}function Gi(s,t){if(s===t)return!0;const i=gr(s);if(i!==gr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ql(s).isEqual(Ql(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),p=Ce(c.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Cv(d)!==Cv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Gi(d[g],p[g])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Yl(s,t){return(s.values||[]).find((i=>Gi(i,t)))!==void 0}function po(s,t){if(s===t)return 0;const i=gr(s),r=gr(t);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ce(c.integerValue||c.doubleValue),g=Ce(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return Dv(s.timestampValue,t.timestampValue);case 4:return Dv(Ql(s),Ql(t));case 5:return pm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=pr(c),g=pr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=zt(p[_],g[_]);if(A!==0)return A}return zt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(Ce(c.latitude),Ce(d.latitude));return p!==0?p:zt(Ce(c.longitude),Ce(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Ov(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[oh]?.arrayValue,A=g[oh]?.arrayValue,b=zt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Ov(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const x=pm(g[b],A[b]);if(x!==0)return x;const G=po(p[g[b]],_[A[b]]);if(G!==0)return G}return zt(g.length,A.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Dv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=mr(s),r=mr(t),l=zt(i.seconds,r.seconds);return l!==0?l:zt(i.nanos,r.nanos)}function Ov(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=po(i[l],r[l]);if(c)return c}return zt(i.length,r.length)}function go(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=gm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Yc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return vr(r.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function xv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function Mv(s){return!!s&&"nullValue"in s}function Vv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function lw(s){return(s?.mapValue?.fields||{})[vE]?.stringValue===EE}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=zl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=zl(s.arrayValue.values[i]);return t}return{...s}}function uw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ow}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(i)}setAll(t){let i=en.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){vr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Tn(zl(this.value))}}function TE(s){const t=[];return vr(s.fields,((i,r)=>{const l=new en([i]);if(Xc(r)){const c=TE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Mn(t)}class on{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new on(t,0,At.min(),At.min(),At.min(),Tn.empty(),0)}static newFoundDocument(t,i,r,l){return new on(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new on(t,2,i,At.min(),At.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,At.min(),At.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,i){this.position=t,this.inclusive=i}}function kv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=po(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],t.position[i]))return!1;return!0}class Xl{constructor(t,i="asc"){this.field=t,this.dir=i}}function cw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class AE{}class Pe extends AE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new fw(t,i,r):i==="array-contains"?new pw(t,r):i==="in"?new gw(t,r):i==="not-in"?new yw(t,r):i==="array-contains-any"?new _w(t,r):new Pe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new dw(t,r):new mw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(po(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(po(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new fi(t,i)}matches(t){return SE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(s){return s.op==="and"}function bE(s){return hw(s)&&SE(s)}function hw(s){for(const t of s.filters)if(t instanceof fi)return!1;return!0}function _m(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+go(s.value);if(bE(s))return s.filters.map((t=>_m(t))).join(",");{const t=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${t})`}}function wE(s,t){return s instanceof Pe?(function(r,l){return l instanceof Pe&&r.op===l.op&&r.field.isEqual(l.field)&&Gi(r.value,l.value)})(s,t):s instanceof fi?(function(r,l){return l instanceof fi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&wE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function RE(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${go(i.value)}`})(s):s instanceof fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(RE).join(" ,")+"}"})(s):"Filter"}class fw extends Pe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class dw extends Pe{constructor(t,i){super(t,"in",i),this.keys=IE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class mw extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=IE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class pw extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Yl(i.arrayValue,this.value)}}class gw extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class yw extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class _w extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class vw{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Lv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new vw(s,t,i,r,l,c,d)}function Gm(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>_m(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),bh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>go(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>go(r))).join(",")),t.Te=i}return t.Te}function Qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!wE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Uv(s.startAt,t.startAt)&&Uv(s.endAt,t.endAt)}function vm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ro{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ew(s,t,i,r,l,c,d,p){return new Ro(s,t,i,r,l,c,d,p)}function Km(s){return new Ro(s)}function Pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CE(s){return s.collectionGroup!==null}function jl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xl(c,r))})),i.has(en.keyField().canonicalString())||t.Ie.push(new Xl(en.keyField(),r))}return t.Ie}function zi(s){const t=Rt(s);return t.Ee||(t.Ee=Tw(t,jl(s))),t.Ee}function Tw(s,t){if(s.limitType==="F")return Lv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xl(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return Lv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Em(s,t){const i=s.filters.concat([t]);return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,t,i){return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return Qm(zi(s),zi(t))&&s.limitType===t.limitType}function NE(s){return`${Gm(zi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>RE(l))).join(", ")}]`),bh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>go(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>go(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of jl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=kv(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,jl(r),l)||r.endAt&&!(function(d,p,g){const _=kv(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,jl(r),l))})(s,t)}function Aw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function DE(s){return(t,i)=>{let r=!1;for(const l of jl(s)){const c=Sw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Sw(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?po(g,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const bw=new ye(dt.comparator);function ys(){return bw}const OE=new ye(dt.comparator);function kl(...s){let t=OE;for(const i of s)t=t.insert(i.key,i);return t}function xE(s){let t=OE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Zr(){return Bl()}function ME(){return Bl()}function Bl(){return new oa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ww=new ye(dt.comparator),Rw=new qe(dt.comparator);function jt(...s){let t=Rw;for(const i of s)t=t.add(i);return t}const Iw=new qe(zt);function Cw(){return Iw}function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function VE(s){return{integerValue:""+s}}function Nw(s,t){return nw(t)?VE(t):Ym(s,t)}class Ch{constructor(){this._=void 0}}function Dw(s,t,i){return s instanceof $l?(function(l,c){const d={fields:{[gE]:{stringValue:pE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=wh(c)),c&&(d.fields[yE]=c),{mapValue:d}})(i,t):s instanceof Jl?UE(s,t):s instanceof Zl?LE(s,t):(function(l,c){const d=kE(l,c),p=zv(d)+zv(l.Ae);return ym(d)&&ym(l.Ae)?VE(p):Ym(l.serializer,p)})(s,t)}function Ow(s,t,i){return s instanceof Jl?UE(s,t):s instanceof Zl?LE(s,t):i}function kE(s,t){return s instanceof uh?(function(r){return ym(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class $l extends Ch{}class Jl extends Ch{constructor(t){super(),this.elements=t}}function UE(s,t){const i=PE(t);for(const r of s.elements)i.some((l=>Gi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Zl extends Ch{constructor(t){super(),this.elements=t}}function LE(s,t){let i=PE(t);for(const r of s.elements)i=i.filter((l=>!Gi(l,r)));return{arrayValue:{values:i}}}class uh extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function zv(s){return Ce(s.integerValue||s.doubleValue)}function PE(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class xw{constructor(t,i){this.field=t,this.transform=i}}function Mw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Jl&&l instanceof Jl||r instanceof Zl&&l instanceof Zl?mo(r.elements,l.elements,Gi):r instanceof uh&&l instanceof uh?Gi(r.Ae,l.Ae):r instanceof $l&&l instanceof $l})(s.transform,t.transform)}class Vw{constructor(t,i){this.version=t,this.transformResults=i}}class Vn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $c(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Nh{}function zE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Xm(s.key,Vn.none()):new iu(s.key,s.data,Vn.none());{const i=s.data,r=Tn.empty();let l=new qe(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Er(s.key,r,new Mn(l.toArray()),Vn.none())}}function kw(s,t,i){s instanceof iu?(function(l,c,d){const p=l.value.clone(),g=Bv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Er?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Bv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(jE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function ql(s,t,i,r){return s instanceof iu?(function(c,d,p,g){if(!$c(c.precondition,d))return p;const _=c.value.clone(),A=qv(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof Er?(function(c,d,p,g){if(!$c(c.precondition,d))return p;const _=qv(c.fieldTransforms,g,d),A=d.data;return A.setAll(jE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Uw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=kE(r.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,c))}return i||null}function jv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&mo(r,l,((c,d)=>Mw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class iu extends Nh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Nh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Bv(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,Ow(d,p,i[l]))}return r}function qv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Dw(c,d,t))}return r}class Xm extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&kw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=ql(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=ql(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=ME();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=zE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((i,r)=>jv(i,r)))&&mo(this.baseMutations,t.baseMutations,((i,r)=>jv(i,r)))}}class $m{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return ww})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new $m(t,i,r,l)}}class zw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,qt;function Bw(s){switch(s){case Y.OK:return _t(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function BE(s){if(s===void 0)return gs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Le.OK:return Y.OK;case Le.CANCELLED:return Y.CANCELLED;case Le.UNKNOWN:return Y.UNKNOWN;case Le.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Le.INTERNAL:return Y.INTERNAL;case Le.UNAVAILABLE:return Y.UNAVAILABLE;case Le.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Le.NOT_FOUND:return Y.NOT_FOUND;case Le.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Le.ABORTED:return Y.ABORTED;case Le.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Le.DATA_LOSS:return Y.DATA_LOSS;default:return _t(39323,{code:s})}}(qt=Le||(Le={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function qw(){return new TextEncoder}const Hw=new cr([4294967295,4294967295],0);function Hv(s){const t=qw().encode(s),i=new nE;return i.update(t),new Uint8Array(i.digest())}function Fv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new cr([i,r],0),new cr([l,c],0)]}class Jm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(cr.fromNumber(r)));return l.compare(Hw)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Hv(t),[r,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Hv(t),[r,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Dh(At.min(),l,new ye(zt),ys(),jt())}}class su{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new su(r,i,jt(),jt(),jt())}}class Jc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class qE{constructor(t,i){this.targetId=t,this.Ce=i}}class HE{constructor(t,i,r=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Gv{constructor(){this.ve=0,this.Fe=Qv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),r=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new su(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Qv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=Bc(),this.He=Bc(),this.Ye=new ye(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(r===0){const d=new dt(c.path);this.et(i,d,on.newNoDocument(d,At.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=pr(r).toUint8Array()}catch(g){if(g instanceof mE)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Jm(d,l,c)}catch(g){return fo(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&vm(p.target)){const g=new dt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,on.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=jt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ye,this.je,r);return this.je=ys(),this.Je=Bc(),this.He=Bc(),this.Ye=new ye(zt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Gv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Gv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Bc(){return new ye(dt.comparator)}function Qv(){return new ye(dt.comparator)}const Gw={asc:"ASCENDING",desc:"DESCENDING"},Qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kw={and:"AND",or:"OR"};class Yw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Am(s,t){return s.useProto3Json||bh(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Xw(s,t){return ch(s,t.toTimestamp())}function ji(s){return Xt(!!s,49232),At.fromTimestamp((function(i){const r=mr(i);return new de(r.seconds,r.nanos)})(s))}function Zm(s,t){return Sm(s,t).canonicalString()}function Sm(s,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function GE(s){const t=ce.fromString(s);return Xt($E(t),10190,{key:t.toString()}),t}function bm(s,t){return Zm(s.databaseId,t.path)}function $d(s,t){const i=GE(t);if(i.get(1)!==s.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(KE(i))}function QE(s,t){return Zm(s.databaseId,t)}function $w(s){const t=GE(s);return t.length===4?ce.emptyPath():KE(t)}function wm(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Kv(s,t,i){return{name:bm(s,t),fields:i.value.mapValue.fields}}function Jw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),nn.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),nn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:BE(_.code);return new st(A,_.message||"")})(d);i=new HE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=$d(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):At.min(),p=new Tn({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Jc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=$d(s,r.document),c=r.readTime?ji(r.readTime):At.min(),d=on.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=$d(s,r.document),c=r.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new jw(l,c),p=r.targetId;i=new qE(p,d)}}return i}function Zw(s,t){let i;if(t instanceof iu)i={update:Kv(s,t.key,t.value)};else if(t instanceof Xm)i={delete:bm(s,t.key)};else if(t instanceof Er)i={update:Kv(s,t.key,t.data),updateMask:oR(t.fieldMask)};else{if(!(t instanceof Lw))return _t(16599,{Vt:t.type});i={verify:bm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof $l)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Xw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function Ww(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(At.min())&&(d=ji(c)),new Vw(d,l.transformResults||[])})(i,t)))):[]}function tR(s,t){return{documents:[QE(s,t.path)]}}function eR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=QE(s,l);const c=(function(_){if(_.length!==0)return XE(fi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:io(x.field),direction:sR(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function nR(s){let t=$w(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=YE(b);return x instanceof fi&&bE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new Xl(so(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,bh(x)?null:x})(i.limit));let g=null;i.startAt&&(g=(function(b){const x=!!b.before,G=b.values||[];return new lh(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,G=b.values||[];return new lh(G,x)})(i.endAt)),Ew(t,l,d,c,p,"F",g,_)}function iR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return fi.create(i.compositeFilter.filters.map((r=>YE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function sR(s){return Gw[s]}function rR(s){return Qw[s]}function aR(s){return Kw[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return en.fromServerFormat(s.fieldPath)}function XE(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(Vv(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(Mv(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Vv(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(Mv(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:rR(i.op),value:i.value}}})(s):s instanceof fi?(function(i){const r=i.getFilters().map((l=>XE(l)));return r.length===1?r[0]:{compositeFilter:{op:aR(i.op),filters:r}}})(s):_t(54877,{filter:s})}function oR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function $E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ar{constructor(t,i,r,l,c=At.min(),d=At.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lR{constructor(t){this.yt=t}}function uR(s){const t=nR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(t,t.limit,"L"):t}class cR{constructor(){this.Cn=new hR}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(dr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class hR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new qe(ce.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new qe(ce.comparator)).toArray()}}const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(JE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const Xv="LruGarbageCollector",fR=1048576;function $v([s,t],[i,r]){const l=zt(s,i);return l===0?zt(t,r):l}class dR{constructor(t){this.Ir=t,this.buffer=new qe($v),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();$v(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?at(Xv,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Vr(3e5)}))}}class pR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Sh.ce);const r=new dR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Yv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),eo()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function gR(s,t){return new pR(s,t)}class yR{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class vR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&ql(r.mutation,l,Mn.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=jt()){const l=Zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=kl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,jt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ys();const d=Bl(),p=(function(){return Bl()})();return i.forEach(((g,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Er)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ql(A.mutation,_,A.mutation.getFieldMask(),de.now())):d.set(_.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new _R(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Bl();let l=new ye(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=r.get(g)||Mn.empty();A=p.applyToLocalView(_,A),r.set(g,A);const b=(l.get(p.batchId)||jt()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,b=ME();A.forEach((x=>{if(!c.has(x)){const G=zE(i.get(x),r.get(x));G!==null&&b.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):CE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(Zr());let p=Gl,g=c;return d.next((_=>J.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{g=g.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,jt()))).next((A=>({batchId:p,changes:xE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=kl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(g=>{const _=(function(b,x){return new Ro(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,on.newInvalidDocument(A)))}));let p=kl();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&ql(A.mutation,_,Mn.empty(),de.now()),Ih(i,_)&&(p=p.insert(g,_))})),p}))}}class ER{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:uR(l.bundledQuery),readTime:ji(l.readTime)}})(i)),J.resolve()}}class TR{constructor(){this.overlays=new ye(dt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Zr();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=Zr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ye(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=Zr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Zr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return J.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new zw(i,r));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class AR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Wm{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new ce([])),r=new Ke(i,t),l=new Ke(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ce([])),r=new Ke(i,t),l=new Ke(i,t+1);let c=jt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class SR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Pw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ke(i,0),l=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new qe(zt);return i.forEach((l=>{const c=new Ke(l,0),d=new Ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new dt(c),0);let p=new qe(zt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Ke(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ke(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bR{constructor(t){this.ri=t,this.docs=(function(){return new ye(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let r=ys();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ys();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Z1(J1(A),r)<=0||(l.has(A.key)||Ih(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new wR(this)}getSize(t){return J.resolve(this.size)}}class wR extends yR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class RR{constructor(t){this.persistence=t,this.si=new oa((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=yo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class ZE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new AR,this.referenceDelegate=t(this),this.Pi=new RR(this),this.indexManager=new cR,this.remoteDocumentCache=(function(l){return new bR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lR(i),this.Ii=new ER(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new TR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new SR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new IR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class IR extends tw{constructor(t){super(),this.currentSequenceNumber=t}}class tp{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tp(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new oa((r=>iw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=gR(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Yc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ep{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ep(t,i.fromCache,r,l)}}class CR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class NR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vb()?8:ew(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new CR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(eo()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(eo()<=Pt.DEBUG&&at("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(eo()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):J.resolve())}ys(t,i){if(Pv(i))return J.resolve(null);let r=zi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(t,Tm(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,r,l){return Pv(i)||l.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(eo()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(t,d,i,$1(l,Gl)).next((p=>p)))}))}Ds(t,i){let r=new qe(DE(t));return i.forEach(((l,c)=>{Ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return eo()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(t,i,dr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",DR=3e8;class OR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ye(zt),this.xs=new oa((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function xR(s,t,i,r){return new OR(s,t,i,r)}async function WE(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=jt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function MR(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,A){const b=_.batch,x=b.keys();let G=J.resolve();return x.forEach((Z=>{G=G.next((()=>A.getEntry(g,Z))).next((it=>{const W=_.docVersions.get(Z);Xt(W!==null,48541),it.version.compareTo(W)<0&&(b.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function tT(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function VR(s,t){const i=Rt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(nn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(b,G),(function(it,W,mt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=DR?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let g=ys(),_=jt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(kR(c,d,t.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!r.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function kR(s,t,i){let r=jt(),l=jt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ys();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):at(np,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function UR(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function LR(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new ar(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Rm(s,t,i){const r=Rt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;at(np,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Jv(s,t,i){const r=Rt(s);let l=At.min(),c=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const b=Rt(g),x=b.xs.get(A);return x!==void 0?J.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(r,d,zi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:jt()))).next((p=>(PR(r,Aw(t),p),{documents:p,Qs:c})))))}function PR(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Zv{constructor(){this.activeTargetIds=Cw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zR{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jR{Oo(t){}shutdown(){}}const Wv="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Im(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Jd="RestConnection",BR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Im(),p=this.zo(t,i.toUriEncodedString());at(Jd,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),A=To(_);return this.Jo(t,p,g,r,A).then((b=>(at(Jd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw fo(Jd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=BR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class HR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class FR extends qR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Im();return new Promise(((p,g)=>{const _=new iE;_.setWithCredentials(!0),_.listenOnce(sE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const b=_.getResponseJson();at(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Kc.TIMEOUT:at(rn,`RPC '${t}' ${d} timed out`),g(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const x=_.getStatus();if(at(rn,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const it=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Tt)>=0?Tt:Y.UNKNOWN})(Z.status);g(new st(it,Z.message))}else g(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new st(Y.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(rn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(rn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Im(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=oE(),p=aE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const A=c.join("");at(rn,`Creating RPC '${t}' stream ${l}: ${A}`,g);const b=d.createWebChannel(A,g);this.I_(b);let x=!1,G=!1;const Z=new HR({Yo:W=>{G?at(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(at(rn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),at(rn,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),it=(W,mt,Tt)=>{W.listen(mt,(gt=>{try{Tt(gt)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return it(b,Vl.EventType.OPEN,(()=>{G||(at(rn,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),it(b,Vl.EventType.CLOSE,(()=>{G||(G=!0,at(rn,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(b))})),it(b,Vl.EventType.ERROR,(W=>{G||(G=!0,fo(rn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),it(b,Vl.EventType.MESSAGE,(W=>{if(!G){const mt=W.data[0];Xt(!!mt,16349);const Tt=mt,gt=Tt?.error||Tt[0]?.error;if(gt){at(rn,`RPC '${t}' stream ${l} received error:`,gt);const Et=gt.status;let ee=(function(S){const I=Le[S];if(I!==void 0)return BE(I)})(Et),xt=gt.message;ee===void 0&&(ee=Y.INTERNAL,xt="Unknown error status: "+Et+" with message "+gt.message),G=!0,Z.a_(new st(ee,xt)),b.close()}else at(rn,`RPC '${t}' stream ${l} received:`,mt),Z.u_(mt)}})),it(p,rE.STAT_EVENT,(W=>{W.stat===mm.PROXY?at(rn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===mm.NOPROXY&&at(rn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Zd(){return typeof document<"u"?document:null}function Oh(s){return new Yw(s,!0)}class eT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const e0="PersistentStream";class nT{constructor(t,i,r,l,c,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(e0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GR extends nT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Jw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ji(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=vm(g)?{documents:tR(c,g)}:{query:eR(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FE(c,d.resumeToken);const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=Am(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=iR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=wm(this.serializer),i.removeTarget=t,this.q_(i)}}class QR extends nT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ww(t.writeResults,t.commitTime),r=ji(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=wm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Zw(this.serializer,r)))};this.q_(i)}}class KR{}class YR extends KR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Sm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Sm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class $R{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{la(this)&&(at(sa,"Restarting streams for network reachability change."),await(async function(g){const _=Rt(g);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new XR(r,l)}}async function xh(s){if(la(s))for(const t of s.da)await t(!0)}async function ru(s){for(const t of s.da)await t(!1)}function iT(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ap(i)?rp(i):Io(i).O_()&&sp(i,t))}function ip(s,t){const i=Rt(s),r=Io(i);i.Ia.delete(t),r.O_()&&sT(i,t),i.Ia.size===0&&(r.O_()?r.L_():la(i)&&i.Ra.set("Unknown"))}function sp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Io(s).Y_(t)}function sT(s,t){s.Va.Ue(t),Io(s).Z_(t)}function rp(s){s.Va=new Fw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Ra.ua()}function ap(s){return la(s)&&!Io(s).x_()&&s.Ia.size>0}function la(s){return Rt(s).Ea.size===0}function rT(s){s.Va=void 0}async function JR(s){s.Ra.set("Online")}async function ZR(s){s.Ia.forEach(((t,i)=>{sp(s,t)}))}async function WR(s,t){rT(s),ap(s)?(s.Ra.ha(t),rp(s)):s.Ra.set("Unknown")}async function tI(s,t,i){if(s.Ra.set("Online"),t instanceof HE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(s,r)}else if(t instanceof Jc?s.Va.Ze(t):t instanceof qE?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await tT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(nn.EMPTY_BYTE_STRING,A.snapshotVersion)),sT(c,g);const b=new ar(A.target,g,_,A.sequenceNumber);sp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at(sa,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await ru(s),s.Ra.set("Offline"),i||(i=()=>tT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(sa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function aT(s,t){return t().catch((i=>fh(s,i,t)))}async function Mh(s){const t=Rt(s),i=yr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;eI(t);)try{const l=await UR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,nI(t,l)}catch(l){await fh(t,l)}oT(t)&&lT(t)}function eI(s){return la(s)&&s.Ta.length<10}function nI(s,t){s.Ta.push(t);const i=yr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function oT(s){return la(s)&&!yr(s).x_()&&s.Ta.length>0}function lT(s){yr(s).start()}async function iI(s){yr(s).ra()}async function sI(s){const t=yr(s);for(const i of s.Ta)t.ea(i.mutations)}async function rI(s,t,i){const r=s.Ta.shift(),l=$m.from(r,t,i);await aT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function aI(s,t){t&&yr(s).X_&&await(async function(r,l){if((function(d){return Bw(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();yr(r).B_(),await aT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(r)}})(s,t),oT(s)&&lT(s)}async function n0(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),at(sa,"RemoteStore received new credentials");const r=la(i);i.Ea.add(3),await ru(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await xh(i)}async function oI(s,t){const i=Rt(s);t?(i.Ea.delete(2),await xh(i)):t||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(i,r,l){const c=Rt(i);return c.sa(),new GR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:JR.bind(null,s),t_:ZR.bind(null,s),r_:WR.bind(null,s),H_:tI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ap(s)?rp(s):s.Ra.set("Unknown")):(await s.ma.stop(),rT(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const c=Rt(i);return c.sa(),new QR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:iI.bind(null,s),r_:aI.bind(null,s),ta:sI.bind(null,s),na:rI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class op{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new op(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(s,t){if(gs("AsyncQueue",`${t}: ${s}`),wo(s))return new st(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=kl(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class i0{constructor(){this.ga=new ye(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class _o{constructor(t,i,r,l,c,d,p,g,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new _o(t,i,ao.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class lI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uI{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Rt(i),c=l.queries;l.queries=s0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function s0(){return new oa((s=>NE(s)),Rh)}async function cI(s,t){const i=Rt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new lI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=lp(d,`Initialization of query '${no(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&up(i)}async function hI(s,t){const i=Rt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function fI(s,t){const i=Rt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&up(i)}function dI(s,t,i){const r=Rt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function up(s){s.Ca.forEach((t=>{t.next()}))}var Cm,r0;(r0=Cm||(Cm={})).Ma="default",r0.Cache="cache";class mI{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class uT{constructor(t){this.key=t}}class cT{constructor(t){this.key=t}}class pI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=DE(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new i0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),G=Ih(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;x&&G?x.data.isEqual(G.data)?Z!==it&&(r.track({type:3,doc:G}),W=!0):this.su(x,G)||(r.track({type:2,doc:G}),W=!0,(g&&this.eu(G,g)>0||_&&this.eu(G,_)<0)&&(p=!0)):!x&&G?(r.track({type:0,doc:G}),W=!0):x&&!G&&(r.track({type:1,doc:x}),W=!0,(g||_)&&(p=!0)),W&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,Z){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:W})}};return it(G)-it(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new _o(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new cT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new uT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class gI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class yI{constructor(t){this.key=t,this.hu=!1}}class _I{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>NE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new ye(dt.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(s,t,i=!0){const r=gT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await hT(r,t,i,!0),l}async function EI(s,t){const i=gT(s);await hT(i,t,!0,!1)}async function hT(s,t,i,r){const l=await LR(s.localStore,zi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await TI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&iT(s.remoteStore,l),p}async function TI(s,t,i,r,l){s.pu=(b,x,G)=>(async function(it,W,mt,Tt){let gt=W.view.ru(mt);gt.Cs&&(gt=await Jv(it.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,gt))));const Et=Tt&&Tt.targetChanges.get(W.targetId),ee=Tt&&Tt.targetMismatches.get(W.targetId)!=null,xt=W.view.applyChanges(gt,it.isPrimaryClient,Et,ee);return o0(it,W.targetId,xt.au),xt.snapshot})(s,b,x,G);const c=await Jv(s.localStore,t,!0),d=new pI(t,c.Qs),p=d.ru(c.documents),g=su.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);o0(s,i,_.au);const A=new gI(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function AI(s,t,i){const r=Rt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ip(r.remoteStore,l.targetId),Nm(r,l.targetId)})).catch(bo)):(Nm(r,l.targetId),await Rm(r.localStore,l.targetId,!0))}async function SI(s,t){const i=Rt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ip(i.remoteStore,r.targetId))}async function bI(s,t,i){const r=OI(s);try{const l=await(function(d,p){const g=Rt(d),_=de.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),jt());let b,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=ys(),it=jt();return g.Ns.getEntries(G,A).next((W=>{Z=W,Z.forEach(((mt,Tt)=>{Tt.isValidDocument()||(it=it.add(mt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,Z))).next((W=>{b=W;const mt=[];for(const Tt of p){const gt=Uw(Tt,b.get(Tt.key).overlayedDocument);gt!=null&&mt.push(new Er(Tt.key,gt,TE(gt.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,mt,p)})).next((W=>{x=W;const mt=W.applyToLocalDocumentSet(b,it);return g.documentOverlayCache.saveOverlays(G,W.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:xE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new ye(zt)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await au(r,l.changes),await Mh(r.remoteStore)}catch(l){const c=lp(l,"Failed to persist write");i.reject(c)}}async function fT(s,t){const i=Rt(s);try{const r=await VR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await au(i,r,t)}catch(r){await bo(r)}}function a0(s,t,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Rt(d);g.onlineState=p;let _=!1;g.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(p)&&(_=!0)})),_&&up(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wI(s,t,i){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ye(dt.comparator);d=d.insert(c,on.newNoDocument(c,At.min()));const p=jt().add(c),g=new Dh(At.min(),new Map,new ye(zt),d,p);await fT(r,g),r.du=r.du.remove(c),r.Au.delete(t),hp(r)}else await Rm(r.localStore,t,!1).then((()=>Nm(r,t,i))).catch(bo)}async function RI(s,t){const i=Rt(s),r=t.batch.batchId;try{const l=await MR(i.localStore,t);mT(i,r,null),dT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await au(i,l)}catch(l){await bo(l)}}async function II(s,t,i){const r=Rt(s);try{const l=await(function(d,p){const g=Rt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next((b=>(Xt(b!==null,37113),A=b.keys(),g.mutationQueue.removeMutationBatch(_,b)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);mT(r,t,i),dT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await au(r,l)}catch(l){await bo(l)}}function dT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function mT(s,t,i){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Nm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||pT(s,r)}))}function pT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(ip(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),hp(s))}function o0(s,t,i){for(const r of i)r instanceof uT?(s.Ru.addReference(r.key,t),CI(s,r)):r instanceof cT?(at(cp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||pT(s,r.key)):_t(19791,{wu:r})}function CI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(cp,"New document in limbo: "+i),s.Eu.add(r),hp(s))}function hp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ce.fromString(t)),r=s.fu.next();s.Au.set(r,new yI(i)),s.du=s.du.insert(i,r),iT(s.remoteStore,new ar(zi(Km(i.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function au(s,t,i){const r=Rt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ep.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const A=Rt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(_,(x=>J.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(b,x.targetId,G))).next((()=>J.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(b,x.targetId,G)))))))))}catch(b){if(!wo(b))throw b;at(np,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const G=A.Ms.get(x),Z=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(x,it)}}})(r.localStore,c))}async function NI(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){at(cp,"User change. New user:",t.toKey());const r=await WE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new st(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await au(i,r.Ls)}}function DI(s,t){const i=Rt(s),r=i.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function gT(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wI.bind(null,t),t.Pu.H_=fI.bind(null,t.eventManager),t.Pu.yu=dI.bind(null,t.eventManager),t}function OI(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xR(this.persistence,new NR,t.initialUser,this.serializer)}Cu(t){return new ZE(tp.mi,this.serializer)}Du(t){return new zR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class xI extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new ZE((r=>hh.mi(r,i)),this.serializer)}}class Dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await oI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uI})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),r=(function(c){return new FR(c)})(t.databaseInfo);return(function(c,d,p,g){return new YR(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new $R(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>a0(this.syncEngine,i,0)),(function(){return t0.v()?new t0:new jR})())}createSyncEngine(t,i){return(function(l,c,d,p,g,_,A){const b=new _I(l,c,d,p,g,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);at(sa,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class MI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const _r="FirestoreClient";class VI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=lp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Wd(s,t){s.asyncQueue.verifyOperationInProgress(),at(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await WE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function l0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await kI(s);at(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>n0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>n0(t.remoteStore,l))),s._onlineComponents=t}async function kI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(_r,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new dh)}}else at(_r,"Using default OfflineComponentProvider"),await Wd(s,new xI(void 0));return s._offlineComponents}async function yT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(_r,"Using user provided OnlineComponentProvider"),await l0(s,s._uninitializedComponentsProvider._online)):(at(_r,"Using default OnlineComponentProvider"),await l0(s,new Dm))),s._onlineComponents}function UI(s){return yT(s).then((t=>t.syncEngine))}async function u0(s){const t=await yT(s),i=t.eventManager;return i.onListen=vI.bind(null,t.syncEngine),i.onUnlisten=AI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=EI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=SI.bind(null,t.syncEngine),i}function _T(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const c0=new Map;const vT="firestore.googleapis.com",h0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=h0}else this.host=t.host,this.ssl=t.ssl??h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fR)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}X1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new z1;switch(r.type){case"firstParty":return new H1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=c0.get(i);r&&(at("ComponentProvider","Removing Datastore"),c0.delete(i),r.terminate())})(this),Promise.resolve()}}function LI(s,t,i,r={}){s=hr(s,Vh);const l=To(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Y0(`https://${p}`),X0("Firestore",!0)),c.host!==vT&&c.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!ea(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=an.MOCK_USER;else{_=cb(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new an(b)}s._authCredentials=new j1(new uE(_,A))}}class ua{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class je{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(nu(i,je._jsonSchema))return new je(t,r||null,new dt(ce.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ze("string",je._jsonSchemaVersion),referencePath:ze("string")};class fr extends ua{constructor(t,i,r){super(t,i,Km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new dt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function fn(s,t,...i){if(s=Ee(s),cE("collection","path",t),s instanceof Vh){const r=ce.fromString(t,...i);return bv(r),new fr(s,null,r)}{if(!(s instanceof je||s instanceof fr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ce.fromString(t,...i));return bv(r),new fr(s.firestore,null,r)}}function xn(s,t,...i){if(s=Ee(s),arguments.length===1&&(t=Bm.newId()),cE("doc","path",t),s instanceof Vh){const r=ce.fromString(t,...i);return Sv(r),new je(s,null,new dt(r))}{if(!(s instanceof je||s instanceof fr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ce.fromString(t,...i));return Sv(r),new je(s.firestore,s instanceof fr?s.converter:null,new dt(r))}}const d0="AsyncQueue";class m0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const r=Zd();r&&at(d0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;at(d0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",p0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=op.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function p0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function g0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vo extends Vh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new m0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new m0(t),this._firestoreClient=void 0,await t}}}function PI(s,t){const i=typeof s=="object"?s:W0(),r=typeof s=="string"?s:ah,l=zm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=lb("firestore");c&&LI(l,...c)}return l}function fp(s){if(s._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zI(s),s._firestoreClient}function zI(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new aw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_T(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new VI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(nn.fromBase64String(t))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:ze("string",Xn._jsonSchemaVersion),bytes:ze("string")};class ou{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kh{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:ze("string",Bi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:ze("string",qi._jsonSchemaVersion),vectorValues:ze("object")};const jI=/^__.*__$/;class BI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new iu(t,this.data,i,this.fieldTransforms)}}class ET{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function TT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class dp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(TT(this.Ac)&&jI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Oh(t)}Cc(t,i,r,l=!1){return new dp({Ac:t,methodName:i,Dc:r,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(s){const t=s._freezeSettings(),i=Oh(s._databaseId);return new qI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function AT(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);pp("Data must be an object, but it was:",d,r);const p=wT(r,d);let g,_;if(c.merge)g=new Mn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=Om(t,b,i);if(!d.contains(x))throw new st(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IT(A,x)||A.push(x)}g=new Mn(A),_=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,_=d.fieldTransforms;return new BI(new Tn(p),g,_)}class Lh extends kh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lh}}class mp extends kh{_toFieldTransform(t){return new xw(t.path,new $l)}isEqual(t){return t instanceof mp}}function ST(s,t,i,r){const l=s.Cc(1,t,i);pp("Data must be an object, but it was:",l,r);const c=[],d=Tn.empty();vr(r,((g,_)=>{const A=gp(t,g,i);_=Ee(_);const b=l.yc(A);if(_ instanceof Lh)c.push(A);else{const x=lu(_,b);x!=null&&(c.push(A),d.set(A,x))}}));const p=new Mn(c);return new ET(d,p,l.fieldTransforms)}function bT(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Om(t,r,i)],g=[l];if(c.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Om(t,c[x])),g.push(c[x+1]);const _=[],A=Tn.empty();for(let x=p.length-1;x>=0;--x)if(!IT(_,p[x])){const G=p[x];let Z=g[x];Z=Ee(Z);const it=d.yc(G);if(Z instanceof Lh)_.push(G);else{const W=lu(Z,it);W!=null&&(_.push(G),A.set(G,W))}}const b=new Mn(_);return new ET(A,b,d.fieldTransforms)}function HI(s,t,i,r=!1){return lu(i,s.Cc(r?4:3,t))}function lu(s,t){if(RT(s=Ee(s)))return pp("Unsupported field value:",t,s),wT(s,t);if(s instanceof kh)return(function(r,l){if(!TT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=lu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=de.fromDate(r);return{timestampValue:ch(l.serializer,c)}}if(r instanceof de){const c=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:FE(l.serializer,r._byteString)};if(r instanceof je){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof qi)return(function(d,p){return{mapValue:{fields:{[vE]:{stringValue:EE},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ym(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ah(r)}`)})(s,t)}function wT(s,t){const i={};return dE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(s,((r,l)=>{const c=lu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function RT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof de||s instanceof Bi||s instanceof Xn||s instanceof je||s instanceof kh||s instanceof qi)}function pp(s,t,i){if(!RT(i)||!hE(i)){const r=Ah(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Om(s,t,i){if((t=Ee(t))instanceof ou)return t._internalPath;if(typeof t=="string")return gp(s,t);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FI=new RegExp("[~\\*/\\[\\]]");function gp(s,t,i){if(t.search(FI)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ou(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new st(Y.INVALID_ARGUMENT,p+s+g)}function IT(s,t){return s.some((i=>i.isEqual(t)))}class CT{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(yp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GI extends CT{data(){return super.data()}}function yp(s,t){return typeof t=="string"?gp(s,t):t instanceof ou?t._internalPath:t._delegate._internalPath}function QI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class NT extends _p{}function tm(s,t,...i){let r=[];t instanceof _p&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((g=>g instanceof Ep)).length,p=c.filter((g=>g instanceof vp)).length;if(d>1||d>0&&p>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class vp extends NT{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new vp(t,i,r)}_apply(t){const i=this._parse(t);return DT(t._query,i),new ua(t.firestore,t.converter,Em(t._query,i))}_parse(t){const i=Uh(t.firestore);return(function(c,d,p,g,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){v0(b,A);const Z=[];for(const it of b)Z.push(_0(g,c,it));x={arrayValue:{values:Z}}}else x=_0(g,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||v0(b,A),x=HI(p,d,b,A==="in"||A==="not-in");return Pe.create(_,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends _p{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ep(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:fi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)DT(d,g),d=Em(d,g)})(t._query,i),new ua(t.firestore,t.converter,Em(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tp extends NT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Tp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(c,d)})(t._query,this._field,this._direction);return new ua(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ro(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function y0(s,t="asc"){const i=t,r=yp("orderBy",s);return Tp._create(r,i)}function _0(s,t,i){if(typeof(i=Ee(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(t)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ce.fromString(i));if(!dt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(s,new dt(r))}if(i instanceof je)return xv(s,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function v0(s,t){if(!Array.isArray(s)||s.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class KI{convertValue(t,i="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return vr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((r=>Ce(r.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=wh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const i=mr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ce.fromString(t);Xt($E(r),9688,{name:t});const l=new Kl(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OT(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Ll{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends CT{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(yp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:ze("string",ta._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Zc extends ta{data(t={}){return super.data(t)}}class oo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ll(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Zc(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ll(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ll(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:YI(p.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:ze("string",oo._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class xT extends KI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function XI(s,t,i,...r){s=hr(s,je);const l=hr(s.firestore,vo),c=Uh(l);let d;return d=typeof(t=Ee(t))=="string"||t instanceof ou?bT(c,"updateDoc",s._key,t,i,r):ST(c,"updateDoc",s._key,t),Ap(l,[d.toMutation(s._key,Vn.exists(!0))])}function Hc(s,t){const i=hr(s.firestore,vo),r=xn(s),l=OT(s.converter,t);return Ap(i,[AT(Uh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then((()=>r))}function em(s,...t){s=Ee(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||g0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(g0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof je)d=hr(s.firestore,vo),p=Km(s._key.path),c={next:g=>{t[r]&&t[r]($I(d,s,g))},error:t[r+1],complete:t[r+2]};else{const g=hr(s,ua);d=hr(g.firestore,vo),p=g._query;const _=new xT(d);c={next:A=>{t[r]&&t[r](new oo(d,_,g,A))},error:t[r+1],complete:t[r+2]},QI(s._query)}return(function(_,A,b,x){const G=new MI(x),Z=new mI(A,G,b);return _.asyncQueue.enqueueAndForget((async()=>cI(await u0(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>hI(await u0(_),Z)))}})(fp(d),p,l,c)}function Ap(s,t){return(function(r,l){const c=new Wr;return r.asyncQueue.enqueueAndForget((async()=>bI(await UI(r),l,c))),c.promise})(fp(s),t)}function $I(s,t,i){const r=i.docs.get(t._key),l=new xT(s);return new ta(s,l,t._key,r,new Ll(i.hasPendingWrites,i.fromCache),t.converter)}class JI{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Uh(t)}set(t,i,r){this._verifyNotCommitted();const l=nm(t,this._firestore),c=OT(l.converter,i,r),d=AT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,Vn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=nm(t,this._firestore);let d;return d=typeof(i=Ee(i))=="string"||i instanceof ou?bT(this._dataReader,"WriteBatch.update",c._key,i,r,l):ST(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Vn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=nm(t,this._firestore);return this._mutations=this._mutations.concat(new Xm(i._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(s,t){if((s=Ee(s)).firestore!==t)throw new st(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Fc(){return new mp("serverTimestamp")}function Gc(s){return fp(s=hr(s,vo)),new JI(s,(t=>Ap(s,t)))}(function(t,i=!0){(function(l){So=l})(Ao),ho(new na("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new vo(new B1(r.getProvider("auth-internal")),new F1(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(vv,Ev,t),ur(vv,Ev,"esm2020")})();function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=MT,VT=new tu("auth","Firebase",MT());const ph=new Lm("@firebase/auth");function WI(s,...t){ph.logLevel<=Pt.WARN&&ph.warn(`Auth (${Ao}): ${s}`,...t)}function Wc(s,...t){ph.logLevel<=Pt.ERROR&&ph.error(`Auth (${Ao}): ${s}`,...t)}function di(s,...t){throw Sp(s,...t)}function Hi(s,...t){return Sp(s,...t)}function kT(s,t,i){const r={...ZI(),[t]:i};return new tu("auth","Firebase",r).create(t,{appName:s.name})}function ds(s){return kT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return VT.create(s,...t)}function yt(s,t,...i){if(!s)throw Sp(t,...i)}function hs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Wc(t),new Error(t)}function _s(s,t){s||hs(t)}function xm(){return typeof self<"u"&&self.location?.href||""}function t2(){return E0()==="http:"||E0()==="https:"}function E0(){return typeof self<"u"&&self.location?.protocol||null}function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t2()||gb()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class uu{constructor(t,i){this.shortDelay=t,this.longDelay=i,_s(i>t,"Short delay should be less than long delay!"),this.isMobile=db()||yb()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bp(s,t){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class UT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const i2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const s2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r2=new uu(3e4,6e4);function Tr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Es(s,t,i,r,l={}){return LT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=eu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...c};return pb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(_.credentials="include"),UT.fetch()(await PT(s,s.config.apiHost,i,p),_)})}async function LT(s,t,i){s._canInitEmulator=!1;const r={...i2,...t};try{const l=new o2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Qc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Qc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Qc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw kT(s,A,_);di(s,A)}}catch(l){if(l instanceof vs)throw l;di(s,"network-request-failed",{message:String(l)})}}async function cu(s,t,i,r,l={}){const c=await Es(s,t,i,r,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function PT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?bp(s.config,l):`${s.config.apiScheme}://${l}`;return s2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function a2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),r2.get())})}}function Qc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Hi(s,t,r);return l.customData._tokenResponse=i,l}function T0(s){return s!==void 0&&s.enterprise!==void 0}class l2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return a2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u2(s,t){return Es(s,"GET","/v2/recaptchaConfig",Tr(s,t))}async function c2(s,t){return Es(s,"POST","/v1/accounts:delete",t)}async function gh(s,t){return Es(s,"POST","/v1/accounts:lookup",t)}function Hl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h2(s,t=!1){const i=Ee(s),r=await i.getIdToken(t),l=wp(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Hl(im(l.auth_time)),issuedAtTime:Hl(im(l.iat)),expirationTime:Hl(im(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(s){return Number(s)*1e3}function wp(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=F0(i);return l?JSON.parse(l):(Wc("Failed to decode base64 JWT payload"),null)}catch(l){return Wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A0(s){const t=wp(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Eo(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof vs&&f2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function f2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class d2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(s){const t=s.auth,i=await s.getIdToken(),r=await Eo(s,gh(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?zT(l.providerUserInfo):[],d=p2(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function m2(s){const t=Ee(s);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function p2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function zT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function g2(s,t){const i=await LT(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await PT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function y2(s,t){return Es(s,"POST","/v2/accounts:revokeToken",Tr(s,t))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):A0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=A0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await g2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new lo;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return hs("not implemented")}}function tr(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new d2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Eo(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return h2(this,t)}reload(){return m2(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await Eo(this,c2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:G,providerData:Z,stsTokenManager:it}=i;yt(b&&it,t,"internal-error");const W=lo.fromJSON(this.name,it);yt(typeof b=="string",t,"internal-error"),tr(r,t.name),tr(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof G=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(p,t.name),tr(g,t.name),tr(_,t.name),tr(A,t.name);const mt=new hi({uid:b,auth:t,email:l,emailVerified:x,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(Tt=>({...Tt}))),g&&(mt._redirectEventId=g),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new lo;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await yh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?zT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new lo;p.updateFromIdToken(r);const g=new hi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const S0=new Map;function fs(s){_s(s instanceof Function,"Expected a class definition");let t=S0.get(s);return t?(_s(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,S0.set(s,t),t)}class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}jT.type="NONE";const b0=jT;function th(s,t,i){return`firebase:${s}:${t}:${i}`}class uo{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=th(this.userKey,l.apiKey,c),this.fullPersistenceKey=th("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await gh(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new uo(fs(b0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||fs(b0);const d=th(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const x=await gh(t,{idToken:A}).catch(()=>{});if(!x)break;b=await hi._fromGetAccountInfoResponse(t,x,A)}else b=hi._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new uo(c,t,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new uo(c,t,r))}}function w0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QT(t))return"Blackberry";if(KT(t))return"Webos";if(qT(t))return"Safari";if((t.includes("chrome/")||HT(t))&&!t.includes("edge/"))return"Chrome";if(GT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function BT(s=ln()){return/firefox\//i.test(s)}function qT(s=ln()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function HT(s=ln()){return/crios\//i.test(s)}function FT(s=ln()){return/iemobile/i.test(s)}function GT(s=ln()){return/android/i.test(s)}function QT(s=ln()){return/blackberry/i.test(s)}function KT(s=ln()){return/webos/i.test(s)}function Rp(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _2(s=ln()){return Rp(s)&&!!window.navigator?.standalone}function v2(){return _b()&&document.documentMode===10}function YT(s=ln()){return Rp(s)||GT(s)||KT(s)||QT(s)||/windows phone/i.test(s)||FT(s)}function XT(s,t=[]){let i;switch(s){case"Browser":i=w0(ln());break;case"Worker":i=`${w0(ln())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ao}/${r}`}class E2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function T2(s,t={}){return Es(s,"GET","/v2/passwordPolicy",Tr(s,t))}const A2=6;class S2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??A2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class b2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await gh(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(ds(this));const i=t?Ee(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await T2(this),i=new S2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await y2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&fs(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&WI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ca(s){return Ee(s)}class R0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rb(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w2(s){Ph=s}function $T(s){return Ph.loadJS(s)}function R2(){return Ph.recaptchaEnterpriseScript}function I2(){return Ph.gapiScript}function C2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class N2{constructor(){this.enterprise=new D2}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class D2{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const O2="recaptcha-enterprise",JT="NO_RECAPTCHA";class x2{constructor(t){this.type=O2,this.auth=ca(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{u2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new l2(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;T0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(JT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&T0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=R2();g.length!==0&&(g+=p),$T(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function I0(s,t,i,r=!1,l=!1){const c=new x2(s);let d;if(l)d=JT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Vm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await I0(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await I0(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function M2(s,t){const i=zm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ea(c,t??{}))return l;di(l,"already-initialized")}return i.initialize({options:t})}function V2(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(fs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function k2(s,t,i){const r=ca(s);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ZT(t),{host:d,port:p}=U2(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(ea(_,r.config.emulator)&&ea(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,To(d)?(Y0(`${c}//${d}${g}`),X0("Auth",!0)):L2()}function ZT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function U2(s){const t=ZT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:C0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:C0(d)}}}function C0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function L2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ip{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,i){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function P2(s,t){return Es(s,"POST","/v1/accounts:signUp",t)}async function z2(s,t){return cu(s,"POST","/v1/accounts:signInWithPassword",Tr(s,t))}async function j2(s,t){return cu(s,"POST","/v1/accounts:signInWithEmailLink",Tr(s,t))}async function B2(s,t){return cu(s,"POST","/v1/accounts:signInWithEmailLink",Tr(s,t))}class Wl extends Ip{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Wl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Wl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(t,i,"signInWithPassword",z2);case"emailLink":return j2(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(t,r,"signUpPassword",P2);case"emailLink":return B2(t,{idToken:i,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function co(s,t){return cu(s,"POST","/v1/accounts:signInWithIdp",Tr(s,t))}const q2="http://localhost";class ra extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return co(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,co(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,co(t,i)}buildRequest(){const t={requestUri:q2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=eu(i)}return t}}function H2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F2(s){const t=xl(Ml(s)).link,i=t?xl(Ml(t)).deep_link_id:null,r=xl(Ml(s)).deep_link_id;return(r?xl(Ml(r)).link:null)||r||i||t||s}class Cp{constructor(t){const i=xl(Ml(t)),r=i.apiKey??null,l=i.oobCode??null,c=H2(i.mode??null);yt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=F2(t);try{return new Cp(i)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(t,i){return Wl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Cp.parseLink(i);return yt(r,"argument-error"),Wl._fromEmailAndCode(t,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class WT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hu extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends hu{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ir.credential(i,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends hu{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends hu{constructor(){super("twitter.com")}static credential(t,i){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return rr.credential(i,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function G2(s,t){return cu(s,"POST","/v1/accounts:signUp",Tr(s,t))}class aa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await hi._fromIdTokenResponse(t,r,l),d=N0(r);return new aa({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=N0(r);return new aa({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function N0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class _h extends vs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new _h(t,i,r,l)}}function tA(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(s,c,t,r):c})}async function Q2(s,t,i=!1){const r=await Eo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return aa._forOperation(s,"link",r)}async function K2(s,t,i=!1){const{auth:r}=s;if(Yn(r.app))return Promise.reject(ds(r));const l="reauthenticate";try{const c=await Eo(s,tA(r,l,t,s),i);yt(c.idToken,r,"internal-error");const d=wp(c.idToken);yt(d,r,"internal-error");const{sub:p}=d;return yt(s.uid===p,r,"user-mismatch"),aa._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function eA(s,t,i=!1){if(Yn(s.app))return Promise.reject(ds(s));const r="signIn",l=await tA(s,r,t),c=await aa._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function Y2(s,t){return eA(ca(s),t)}async function nA(s){const t=ca(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function X2(s,t,i){if(Yn(s.app))return Promise.reject(ds(s));const r=ca(s),d=await Vm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&nA(s),g}),p=await aa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function $2(s,t,i){return Yn(s.app)?Promise.reject(ds(s)):Y2(Ee(s),Co.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nA(s),r})}async function J2(s,t){return Es(s,"POST","/v1/accounts:update",t)}async function Z2(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=Ee(s),c={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Eo(r,J2(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function W2(s,t,i,r){return Ee(s).onIdTokenChanged(t,i,r)}function tC(s,t,i){return Ee(s).beforeAuthStateChanged(t,i)}function eC(s,t,i,r){return Ee(s).onAuthStateChanged(t,i,r)}function nC(s){return Ee(s).signOut()}const vh="__sak";class iA{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const iC=1e3,sC=10;class sA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);v2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,sC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sA.type="LOCAL";const rC=sA;class rA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rA.type="SESSION";const aA=rA;function aC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new zh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await aC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Np(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class oC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Np("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function lC(s){Fi().location.href=s}function oA(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function uC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cC(){return navigator?.serviceWorker?.controller||null}function hC(){return oA()?self:null}const lA="firebaseLocalStorageDb",fC=1,Eh="firebaseLocalStorage",uA="fbase_key";class fu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jh(s,t){return s.transaction([Eh],t?"readwrite":"readonly").objectStore(Eh)}function dC(){const s=indexedDB.deleteDatabase(lA);return new fu(s).toPromise()}function km(){const s=indexedDB.open(lA,fC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Eh,{keyPath:uA})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Eh)?t(r):(r.close(),await dC(),t(await km()))})})}async function D0(s,t,i){const r=jh(s,!0).put({[uA]:t,value:i});return new fu(r).toPromise()}async function mC(s,t){const i=jh(s,!1).get(t),r=await new fu(i).toPromise();return r===void 0?null:r.value}function O0(s,t){const i=jh(s,!0).delete(t);return new fu(i).toPromise()}const pC=800,gC=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>gC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(hC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uC(),!this.activeServiceWorker)return;this.sender=new oC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await km();return await D0(t,vh,"1"),await O0(t,vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>D0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>mC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>O0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=jh(l,!1).getAll();return new fu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const yC=cA;new uu(3e4,6e4);function _C(s,t){return t?fs(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dp extends Ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,i){return co(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function vC(s){return eA(s.auth,new Dp(s),s.bypassAuthState)}function EC(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),K2(i,new Dp(s),s.bypassAuthState)}async function TC(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Q2(i,new Dp(s),s.bypassAuthState)}class hA{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:di(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AC=new uu(2e3,1e4);class ro extends hA{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AC.get())};t()}}ro.currentPopupAction=null;const SC="pendingRedirect",eh=new Map;class bC extends hA{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=eh.get(this.auth._key());if(!t){try{const r=await wC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}eh.set(this.auth._key(),t)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(s,t){const i=CC(t),r=IC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function RC(s,t){eh.set(s._key(),t)}function IC(s){return fs(s._redirectPersistence)}function CC(s){return th(SC,s.config.apiKey,s.name)}async function NC(s,t,i=!1){if(Yn(s.app))return Promise.reject(ds(s));const r=ca(s),l=_C(r,t),d=await new bC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const DC=600*1e3;class OC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(t))}saveEventToCache(t){this.cachedEventUids.add(x0(t)),this.lastProcessedEventTime=Date.now()}}function x0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function xC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(s);default:return!1}}async function MC(s,t={}){return Es(s,"GET","/v1/projects",t)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;async function UC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await MC(s);for(const i of t)try{if(LC(i))return}catch{}di(s,"unauthorized-domain")}function LC(s){const t=xm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!kC.test(i))return!1;if(VC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const PC=new uu(3e4,6e4);function M0(){const s=Fi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function zC(s){return new Promise((t,i)=>{function r(){M0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{M0(),i(Hi(s,"network-request-failed"))},timeout:PC.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const l=C2("iframefcb");return Fi()[l]=()=>{gapi.load?r():i(Hi(s,"network-request-failed"))},$T(`${I2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw nh=null,t})}let nh=null;function jC(s){return nh=nh||zC(s),nh}const BC=new uu(5e3,15e3),qC="__/auth/iframe",HC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?bp(t,HC):`https://${s.config.authDomain}/${qC}`,r={apiKey:t.apiKey,appName:s.name,v:Ao},l=GC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${eu(r).slice(1)}`}async function KC(s){const t=await jC(s),i=Fi().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:QC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),p=Fi().setTimeout(()=>{c(d)},BC.get());function g(){Fi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,$C=600,JC="_blank",ZC="http://localhost";class V0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(s,t,i,r=XC,l=$C){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...YC,width:r.toString(),height:l.toString(),top:c,left:d},_=ln().toLowerCase();i&&(p=HT(_)?JC:i),BT(_)&&(t=t||ZC,g.scrollbars="yes");const A=Object.entries(g).reduce((x,[G,Z])=>`${x}${G}=${Z},`,"");if(_2(_)&&p!=="_self")return tN(t||"",p),new V0(null);const b=window.open(t||"",p,A);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new V0(b)}function tN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eN="__/auth/handler",nN="emulator/auth/handler",iN=encodeURIComponent("fac");async function k0(s,t,i,r,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ao,eventId:l};if(t instanceof WT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",wb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof hu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),_=g?`#${iN}=${encodeURIComponent(g)}`:"";return`${sN(s)}?${eu(p).slice(1)}${_}`}function sN({config:s}){return s.emulator?bp(s,nN):`https://${s.authDomain}/${eN}`}const sm="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=NC,this._overrideRedirectResult=RC}async _openPopup(t,i,r,l){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await k0(t,i,r,xm(),l);return WC(t,c,Np())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await k0(t,i,r,xm(),l);return lC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await KC(t),r=new OC(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sm,{type:sm},l=>{const c=l?.[0]?.[sm];c!==void 0&&i(!!c),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=UC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return YT()||qT()||Rp()}}const aN=rN;var U0="@firebase/auth",L0="1.12.0";class oN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uN(s){ho(new na("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(s)},_=new b2(r,l,c,g);return V2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ho(new na("auth-internal",t=>{const i=ca(t.getProvider("auth").getImmediate());return(r=>new oN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(U0,L0,lN(s)),ur(U0,L0,"esm2020")}const cN=300,hN=K0("authIdTokenMaxAge")||cN;let P0=null;const fN=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>hN)return;const l=i?.token;P0!==l&&(P0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dN(s=W0()){const t=zm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=M2(s,{popupRedirectResolver:aN,persistence:[yC,rC,aA]}),r=K0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=fN(c.toString());tC(i,d,()=>d(i.currentUser)),W2(i,p=>d(p))}}const l=G0("auth");return l&&k2(i,`http://${l}`),i}function mN(){return document.getElementsByTagName("head")?.[0]??document}w2({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Hi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",mN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uN("Browser");const pN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),z0=s=>{const t=gN(s);return t.charAt(0).toUpperCase()+t.slice(1)},dA=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),yN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var _N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vN=oe.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>oe.createElement("svg",{ref:g,..._N,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:dA("lucide",l),...!c&&!yN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>oe.createElement(_,A)),...Array.isArray(c)?c:[c]]));const An=(s,t)=>{const i=oe.forwardRef(({className:r,...l},c)=>oe.createElement(vN,{ref:c,iconNode:t,className:dA(`lucide-${pN(z0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=z0(s),i};const EN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TN=An("arrow-left",EN);const AN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SN=An("arrow-right",AN);const bN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wN=An("circle-check-big",bN);const RN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IN=An("download",RN);const CN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rm=An("link",CN);const NN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],j0=An("loader-circle",NN);const DN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ON=An("log-out",DN);const xN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],am=An("plus",xN);const MN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B0=An("refresh-cw",MN);const VN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],kN=An("square-pen",VN);const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LN=An("trash-2",UN);const PN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zN=An("upload",PN);const jN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],om=An("wallet",jN);const BN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ol=An("x",BN),qN={BASE_URL:"/WebAccounting/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",VITE_FIREBASE_APP_ID:"1:1024117334016:web:649f65fe4c6209a94f78e5",VITE_FIREBASE_AUTH_DOMAIN:"web-accounting-482a0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1024117334016",VITE_FIREBASE_PROJECT_ID:"web-accounting-482a0",VITE_FIREBASE_STORAGE_BUCKET:"web-accounting-482a0.firebasestorage.app"};let ms=null,Ie="default-app";try{typeof __firebase_config<"u"&&(ms=JSON.parse(__firebase_config),Ie=typeof __app_id<"u"?__app_id:"default-app-id",console.log(" Environment: Preview Mode (Chat)"))}catch{}if(!ms)try{import.meta&&qN&&(ms={apiKey:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",authDomain:"web-accounting-482a0.firebaseapp.com",projectId:"web-accounting-482a0",storageBucket:"web-accounting-482a0.firebasestorage.app",messagingSenderId:"1024117334016",appId:"1:1024117334016:web:649f65fe4c6209a94f78e5"},Ie="1:1024117334016:web:649f65fe4c6209a94f78e5",console.log(" Environment: Production Mode (.env)"),console.log(ms.projectId))}catch{console.warn(" Production config check skipped.")}ms||(console.error(" No Firebase config found."),ms={});let lm,er,Gt;try{ms.apiKey&&(lm=Z0(ms),er=dN(lm),Gt=PI(lm))}catch(s){console.error("Firebase init failed:",s)}function HN(){const[s,t]=oe.useState(null),[i,r]=oe.useState(!0),[l,c]=oe.useState("dashboard"),[d,p]=oe.useState(null),[g,_]=oe.useState(null),[A,b]=oe.useState(""),[x,G]=oe.useState(""),[Z,it]=oe.useState(!1),[W,mt]=oe.useState(""),[Tt,gt]=oe.useState(!1),[Et,ee]=oe.useState([]),[xt,C]=oe.useState([]),[S,I]=oe.useState([]),[M,N]=oe.useState(!1),[U,w]=oe.useState(!1),[le,me]=oe.useState(!1),[H,et]=oe.useState(!1),[ht,Ot]=oe.useState(!1);oe.useEffect(()=>{if(!er){r(!1);return}const $=eC(er,ot=>{t(ot),r(!1)});return()=>$()},[]);const Qt=async $=>{if($.preventDefault(),!er){mt("Firebase  ( Project ID)");return}mt(""),gt(!0);try{if(Z){const ot=await X2(er,A,x);await Z2(ot.user,{displayName:A.split("@")[0]})}else await $2(er,A,x)}catch(ot){console.error(ot);let St="";ot.code==="auth/invalid-credential"&&(St=""),ot.code==="auth/email-already-in-use"&&(St=""),ot.code==="auth/weak-password"&&(St=" (6)"),ot.code==="auth/invalid-api-key"&&(St="API Key  ( .env )"),mt(St)}finally{gt(!1)}},O=async()=>{er&&await nC(er),ee([]),C([]),I([]),c("dashboard"),p(null),_(null)};oe.useEffect(()=>{if(!s||!Gt)return;const $=tm(fn(Gt,"artifacts",Ie,"users",s.uid,"categories"),y0("createdAt","asc")),ot=em($,ct=>{const Jt=ct.docs.map(un=>({id:un.id,...un.data()}));ee(Jt),Jt.length===0&&Hc(fn(Gt,"artifacts",Ie,"users",s.uid,"categories"),{name:"",isDefault:!0,createdAt:Fc()})},ct=>console.error("Cat Error:",ct)),St=tm(fn(Gt,"artifacts",Ie,"users",s.uid,"boards")),$t=em(St,ct=>{C(ct.docs.map(Jt=>({id:Jt.id,...Jt.data()})))},ct=>console.error("Board Error:",ct)),Ae=tm(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"),y0("date","desc")),bt=em(Ae,ct=>{I(ct.docs.map(Jt=>({id:Jt.id,...Jt.data()})))},ct=>console.error("Tx Error:",ct));return()=>{ot(),$t(),bt()}},[s]),oe.useEffect(()=>{if(Et.length>0&&!d){const $=Et.find(ot=>ot.isDefault);p($||Et[0])}if(Et.length>0&&d&&!Et.find(ot=>ot.id===d.id)){const ot=Et.find(St=>St.isDefault);p(ot||Et[0])}},[Et,d]);const K=async $=>{if(!(!$.trim()||!Gt))try{await Hc(fn(Gt,"artifacts",Ie,"users",s.uid,"categories"),{name:$,isDefault:!1,createdAt:Fc()}),N(!1)}catch(ot){console.error(ot)}},nt=async $=>{if(!Gt)return;if(Et.find(ct=>ct.id===$).isDefault)return alert("");const St=Et.find(ct=>ct.isDefault);if(!St)return;const $t=Gc(Gt);xt.filter(ct=>ct.categoryId===$).forEach(ct=>{const Jt=xn(Gt,"artifacts",Ie,"users",s.uid,"boards",ct.id);$t.update(Jt,{categoryId:St.id})});const bt=xn(Gt,"artifacts",Ie,"users",s.uid,"categories",$);$t.delete(bt),await $t.commit()},rt=async $=>{if(!Gt)return;let ot=d?.id;if(!ot){const bt=Et.find(ct=>ct.isDefault);if(bt)ot=bt.id;else if(Et.length>0)ot=Et[0].id;else return alert("")}const St=Gc(Gt),$t=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"boards")),Ae={name:$.name,categoryId:ot,parentId:$.parentId||null,status:"active",createdAt:Fc()};if(St.set($t,Ae),$.parentId&&$.allocationAmount){const bt=parseFloat($.allocationAmount),ct=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(ct,{boardId:$.parentId,amount:-bt,type:"allocation_out",linkedBoardId:$t.id,description:` -> ${$.name}`,date:new Date().toISOString()});const Jt=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(Jt,{boardId:$t.id,amount:bt,type:"allocation_in",linkedBoardId:$.parentId,description:" <- ",date:new Date().toISOString()})}await St.commit(),w(!1)},vt=async($,ot,St)=>{if(!(!Gt||!$))try{const $t=xn(Gt,"artifacts",Ie,"users",s.uid,"boards",$);await XI($t,{name:ot,categoryId:St}),g&&g.id===$&&_(Ae=>({...Ae,name:ot,categoryId:St})),Ot(!1)}catch($t){console.error("Update board failed",$t),alert("")}},It=async()=>{if(!g||!g.parentId||!Gt)return;const ot=S.filter(bt=>bt.boardId===g.id).reduce((bt,ct)=>bt+parseFloat(ct.amount),0),St=Gc(Gt),$t=new Date().toISOString();if(ot>0){const bt=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(bt,{boardId:g.id,amount:-ot,type:"return_out",description:" -> ",date:$t});const ct=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(ct,{boardId:g.parentId,amount:ot,type:"return_in",description:` <- ${g.name}`,date:$t})}else if(ot<0){const bt=Math.abs(ot),ct=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(ct,{boardId:g.id,amount:bt,type:"cover_in",description:" <- ",date:$t});const Jt=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));St.set(Jt,{boardId:g.parentId,amount:-bt,type:"cover_out",description:` -> ${g.name}`,date:$t})}const Ae=xn(Gt,"artifacts",Ie,"users",s.uid,"boards",g.id);St.update(Ae,{status:"closed"}),await St.commit(),et(!1)},kt=async $=>{if(Gt){if(!g)return alert("");await Hc(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"),{boardId:g.id,amount:$.type==="expense"?-Math.abs($.amount):Math.abs($.amount),description:$.description,type:"normal",date:new Date().toISOString()}),me(!1)}},Te=()=>{if(!g)return;const $=S.filter(un=>un.boardId===g.id),ot=`BoardName,${g.name},ParentID,${g.parentId||"None"},Status,${g.status}`,St="Date,Description,Amount,Type",$t=$.map(un=>`${un.date},"${un.description}",${un.amount},${un.type}`).join(`
`),Ae=`${ot}
${St}
${$t}`,bt=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),ct=URL.createObjectURL(bt),Jt=document.createElement("a");Jt.href=ct,Jt.setAttribute("download",`${g.name}_export.csv`),document.body.appendChild(Jt),Jt.click()},ue=$=>{const ot=$.target.files[0];if(!ot||!Gt)return;let St=d?.id;if(!St){const Ae=Et.find(bt=>bt.isDefault);St=Ae?Ae.id:Et[0]?.id}if(!St)return alert("");const $t=new FileReader;$t.onload=async Ae=>{const ct=Ae.target.result.split(`
`);if(ct.length<2)return alert("");const un=ct[0].split(",")[1]||"Imported Board",ha=await Hc(fn(Gt,"artifacts",Ie,"users",s.uid,"boards"),{name:un+" (Imported)",categoryId:St,parentId:null,status:"active",createdAt:Fc()}),He=Gc(Gt);for(let Jn=2;Jn<ct.length;Jn++){const As=ct[Jn];if(!As.trim())continue;const Zn=As.split(","),gi=Zn[0],No=Zn[1]?Zn[1].replace(/"/g,""):"",Ar=parseFloat(Zn[2]),fa=Zn[3]?.trim()||"normal";if(!isNaN(Ar)){const da=xn(fn(Gt,"artifacts",Ie,"users",s.uid,"transactions"));He.set(da,{boardId:ha.id,amount:Ar,description:No,date:gi,type:fa})}}await He.commit(),alert("")},$t.readAsText(ot)},$n=$=>S.filter(ot=>ot.boardId===$).reduce((ot,St)=>ot+parseFloat(St.amount),0),Ts=xt.filter($=>$.categoryId===d?.id),mi=S.filter($=>$.boardId===g?.id),pi=g?$n(g.id):0;return i?k.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-400",children:k.jsx(j0,{className:"w-8 h-8 animate-spin"})}):s?k.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-800 font-sans overflow-hidden",children:[k.jsxs("div",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl z-20",children:[k.jsxs("div",{className:"p-6",children:[k.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[k.jsx(om,{className:"w-6 h-6 text-emerald-400"}),"FinanceFlow"]}),k.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-500 bg-slate-800/50 p-2 rounded-lg",children:[k.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:s.displayName?.[0]?.toUpperCase()||s.email?.[0]?.toUpperCase()}),k.jsxs("div",{className:"flex flex-col overflow-hidden",children:[k.jsx("span",{className:"truncate font-medium text-slate-300",children:s.displayName||""}),k.jsx("span",{className:"truncate text-[10px]",children:s.email})]}),k.jsx("button",{onClick:O,title:"",className:"ml-auto hover:text-white p-1",children:k.jsx(ON,{className:"w-4 h-4"})})]})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-2",children:[k.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 mt-4",children:[k.jsx("span",{children:"Categories"}),k.jsx("button",{onClick:()=>N(!0),className:"hover:text-white transition-colors",children:k.jsx(am,{className:"w-4 h-4"})})]}),Et.map($=>k.jsxs("div",{onClick:()=>{p($),c("dashboard")},className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${d?.id===$.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50":"hover:bg-slate-800"}`,children:[k.jsx("span",{className:"truncate font-medium",children:$.name}),!$.isDefault&&k.jsx("button",{onClick:ot=>{ot.stopPropagation(),nt($.id)},className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-1",children:k.jsx(LN,{className:"w-3 h-3"})})]},$.id))]})]}),k.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[k.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-8 justify-between shadow-sm z-10",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[l==="board-detail"&&k.jsx("button",{onClick:()=>c("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:k.jsx(TN,{className:"w-5 h-5"})}),k.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l==="dashboard"?d?.name:g?.name,l==="board-detail"&&g&&k.jsx("button",{onClick:()=>Ot(!0),className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"/",children:k.jsx(kN,{className:"w-4 h-4"})})]}),l==="board-detail"&&g?.parentId&&k.jsxs("span",{className:"flex items-center gap-1 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded-full border border-blue-100",children:[k.jsx(rm,{className:"w-3 h-3"})," "]}),l==="board-detail"&&g?.status==="closed"&&k.jsxs("span",{className:"flex items-center gap-1 text-xs bg-slate-100 text-slate-500 px-2 py-1 rounded-full border border-slate-200",children:[k.jsx(wN,{className:"w-3 h-3"})," "]})]}),k.jsx("div",{className:"flex items-center gap-3",children:l==="board-detail"&&k.jsxs(k.Fragment,{children:[k.jsxs("label",{className:"cursor-pointer p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Import CSV",children:[k.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:ue}),k.jsx(zN,{className:"w-5 h-5"})]}),k.jsx("button",{onClick:Te,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Export CSV",children:k.jsx(IN,{className:"w-5 h-5"})}),g?.parentId&&g.status==="active"&&k.jsxs("button",{onClick:()=>et(!0),className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[k.jsx(B0,{className:"w-4 h-4"}),""]})]})})]}),k.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:[l==="dashboard"&&k.jsx("div",{children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[k.jsxs("button",{onClick:()=>w(!0),className:"group flex flex-col items-center justify-center h-48 rounded-xl border-2 border-dashed border-slate-300 hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer",children:[k.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:k.jsx(am,{className:"w-6 h-6 text-slate-400 group-hover:text-indigo-500"})}),k.jsx("span",{className:"text-slate-500 font-medium group-hover:text-indigo-600",children:""})]}),Ts.map($=>{const ot=$n($.id);return k.jsxs("div",{onClick:()=>{_($),c("board-detail")},className:`relative bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:-translate-y-1 transition-all cursor-pointer flex flex-col justify-between h-48 overflow-hidden group ${$.status==="closed"?"opacity-60 grayscale":""}`,children:[k.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${ot>=0?"bg-emerald-400":"bg-rose-400"}`}),k.jsxs("div",{children:[k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsx("h3",{className:"font-semibold text-lg text-slate-800 line-clamp-1 pr-2",children:$.name}),$.parentId&&k.jsx(rm,{className:"w-4 h-4 text-blue-400 shrink-0"})]}),k.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Updated ",new Date($.createdAt?.seconds*1e3).toLocaleDateString()]})]}),k.jsxs("div",{children:[k.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Current Balance"}),k.jsxs("div",{className:`text-3xl font-bold tracking-tight mt-1 ${ot>=0?"text-slate-800":"text-rose-600"}`,children:["",ot.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),k.jsx("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity",children:k.jsx("div",{className:"bg-slate-100 p-2 rounded-full text-slate-600",children:k.jsx(SN,{className:"w-4 h-4"})})})]},$.id)})]})}),l==="board-detail"&&g&&k.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8 flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h4",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:""}),k.jsxs("div",{className:`text-5xl font-bold mt-2 ${pi>=0?"text-slate-800":"text-rose-600"}`,children:["",pi.toLocaleString()]}),g.status==="closed"&&k.jsx("span",{className:"text-red-500 text-sm font-bold mt-2 block",children:""})]}),g.status==="active"&&k.jsxs("button",{onClick:()=>me(!0),className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-slate-900/20 transition-all hover:scale-105 active:scale-95",children:[k.jsx(am,{className:"w-5 h-5"})," "]})]}),k.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[k.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[k.jsx("h3",{className:"font-bold text-slate-700",children:""}),k.jsxs("span",{className:"text-xs text-slate-400",children:[mi.length," "]})]}),k.jsx("div",{className:"divide-y divide-slate-100",children:mi.length===0?k.jsx("div",{className:"p-12 text-center text-slate-400",children:""}):mi.map($=>k.jsxs("div",{className:"px-6 py-4 hover:bg-slate-50 transition-colors flex items-center justify-between group",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 
                            ${["allocation_in","return_in","cover_in"].includes($.type)?"bg-blue-100 text-blue-600":["allocation_out","return_out","cover_out"].includes($.type)?"bg-purple-100 text-purple-600":parseFloat($.amount)>0?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:["allocation_in","allocation_out"].includes($.type)?k.jsx(rm,{className:"w-5 h-5"}):["return_in","return_out","cover_in","cover_out"].includes($.type)?k.jsx(B0,{className:"w-5 h-5"}):k.jsx(om,{className:"w-5 h-5"})}),k.jsxs("div",{children:[k.jsx("div",{className:"font-medium text-slate-800",children:$.description}),k.jsx("div",{className:"text-xs text-slate-400",children:new Date($.date).toLocaleString()})]})]}),k.jsxs("div",{className:`font-bold font-mono text-lg 
                           ${parseFloat($.amount)>0?"text-emerald-600":"text-slate-800"}`,children:[parseFloat($.amount)>0?"+":"",parseFloat($.amount).toLocaleString()]})]},$.id))})]})]})]})]}),M&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:k.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[k.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:k.jsx(Ol,{className:"w-5 h-5"})}),k.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),k.jsxs("form",{onSubmit:$=>{$.preventDefault(),K($.target.catName.value)},children:[k.jsx("input",{name:"catName",autoFocus:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),U&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:k.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[k.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:k.jsx(Ol,{className:"w-5 h-5"})}),k.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),k.jsxs("form",{onSubmit:$=>{$.preventDefault();const ot=new FormData($.target);rt({name:ot.get("name"),parentId:ot.get("parentId"),allocationAmount:ot.get("allocation")})},children:[k.jsx("input",{name:"name",required:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),!d&&k.jsxs("p",{className:"text-xs text-orange-500 mb-2",children:[' "',Et.find($=>$.isDefault)?.name||"",'"']}),k.jsxs("select",{name:"parentId",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 bg-white outline-none",children:[k.jsx("option",{value:"",children:" ()"}),xt.filter($=>$.status==="active").map($=>k.jsxs("option",{value:$.id,children:[$.name," (: ",$n($.id),")"]},$.id))]}),k.jsx("input",{name:"allocation",type:"number",step:"0.01",placeholder:" ()",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none focus:border-indigo-500"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),ht&&g&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:k.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[k.jsx("button",{onClick:()=>Ot(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:k.jsx(Ol,{className:"w-5 h-5"})}),k.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),k.jsxs("form",{onSubmit:$=>{$.preventDefault();const ot=new FormData($.target);vt(g.id,ot.get("name"),ot.get("categoryId"))},children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),k.jsx("input",{name:"name",defaultValue:g.name,required:!0,className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),k.jsx("select",{name:"categoryId",defaultValue:g.categoryId,className:"w-full border border-slate-300 rounded-lg p-3 mb-6 bg-white outline-none",children:Et.map($=>k.jsxs("option",{value:$.id,children:[$.name," ",$.isDefault?"()":""]},$.id))}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>Ot(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),le&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:k.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[k.jsx("button",{onClick:()=>me(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:k.jsx(Ol,{className:"w-5 h-5"})}),k.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),k.jsxs("form",{onSubmit:$=>{$.preventDefault();const ot=new FormData($.target);kt({amount:ot.get("amount"),description:ot.get("desc"),type:ot.get("type")})},children:[k.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-100 p-1 rounded-lg",children:[k.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[k.jsx("input",{type:"radio",name:"type",value:"expense",defaultChecked:!0,className:"hidden peer"}),k.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-rose-600 shadow-sm transition-all",children:""})]}),k.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[k.jsx("input",{type:"radio",name:"type",value:"income",className:"hidden peer"}),k.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-emerald-600 shadow-sm transition-all",children:""})]})]}),k.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,placeholder:"0.00",className:"w-full text-3xl font-bold text-center border-b-2 p-4 mb-4 outline-none bg-transparent"}),k.jsx("input",{name:"desc",required:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none"}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>me(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),H&&k.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:k.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[k.jsx("button",{onClick:()=>et(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:k.jsx(Ol,{className:"w-5 h-5"})}),k.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"?"}),k.jsxs("p",{className:"text-slate-500 text-sm mb-6 text-center",children:[" ",k.jsx("span",{className:"font-bold",children:pi})," "]}),k.jsxs("div",{className:"flex justify-end gap-2",children:[k.jsx("button",{type:"button",onClick:()=>et(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),k.jsx("button",{onClick:It,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})})]}):k.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-800 p-4",children:[k.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:k.jsx(om,{className:"w-8 h-8 text-emerald-400"})}),k.jsx("h1",{className:"text-3xl font-bold mb-2",children:"FinanceFlow Pro"}),k.jsx("p",{className:"text-slate-500 mb-8 text-center max-w-sm",children:Z?"":""}),k.jsxs("form",{onSubmit:Qt,className:"w-full max-w-sm bg-white p-8 rounded-2xl shadow-lg border border-slate-100",children:[W&&k.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[k.jsx("span",{className:"font-bold",children:"Error:"})," ",W]}),!ms.apiKey&&k.jsx("div",{className:"mb-4 p-3 bg-yellow-50 text-yellow-700 text-xs rounded-lg",children:"  .env "}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),k.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"name@example.com",value:A,onChange:$=>b($.target.value)})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),k.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"",value:x,onChange:$=>G($.target.value)})]})]}),k.jsx("button",{type:"submit",disabled:Tt,className:"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:Tt?k.jsx(j0,{className:"w-5 h-5 animate-spin"}):Z?"":""}),k.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[Z?"":"",k.jsx("button",{type:"button",onClick:()=>{it(!Z),mt("")},className:"ml-1 text-indigo-600 font-bold hover:underline",children:Z?"":""})]})]})]})}WS.createRoot(document.getElementById("root")).render(k.jsx(oe.StrictMode,{children:k.jsx(HN,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Fd={exports:{}},Ol={};var tv;function Wb(){if(tv)return Ol;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ol.Fragment=t,Ol.jsx=i,Ol.jsxs=i,Ol}var ev;function tS(){return ev||(ev=1,Fd.exports=Wb()),Fd.exports}var M=tS(),Gd={exports:{}},St={};var nv;function eS(){if(nv)return St;nv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function mt(x,X,it){this.props=x,this.context=X,this.refs=W,this.updater=it||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},mt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function At(){}At.prototype=mt.prototype;function gt(x,X,it){this.props=x,this.context=X,this.refs=W,this.updater=it||Z}var Tt=gt.prototype=new At;Tt.constructor=gt,st(Tt,mt.prototype),Tt.isPureReactComponent=!0;var ee=Array.isArray;function Ot(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,X,it){var at=it.ref;return{$$typeof:s,type:x,key:X,ref:at!==void 0?at:null,props:it}}function V(x,X){return I(x.type,X,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function U(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return X[it]})}var w=/\/+/g;function le(x,X){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):X.toString(36)}function de(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ot,Ot):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,X,it,at,yt){var Rt=typeof x;(Rt==="undefined"||Rt==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(Rt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case s:case t:Vt=!0;break;case A:return Vt=x._init,H(Vt(x._payload),X,it,at,yt)}}if(Vt)return yt=yt(x),Vt=at===""?"."+le(x,0):at,ee(yt)?(it="",Vt!=null&&(it=Vt.replace(w,"$&/")+"/"),H(yt,X,it,"",function(Qi){return Qi})):yt!=null&&(N(yt)&&(yt=V(yt,it+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Vt)),X.push(yt)),1;Vt=0;var ve=at===""?".":at+":";if(ee(x))for(var ue=0;ue<x.length;ue++)at=x[ue],Rt=ve+le(at,ue),Vt+=H(at,X,it,Rt,yt);else if(ue=G(x),typeof ue=="function")for(x=ue.call(x),ue=0;!(at=x.next()).done;)at=at.value,Rt=ve+le(at,ue++),Vt+=H(at,X,it,Rt,yt);else if(Rt==="object"){if(typeof x.then=="function")return H(de(x),X,it,at,yt);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(x,X,it){if(x==null)return x;var at=[],yt=0;return H(x,at,"","",function(Rt){return X.call(it,Rt,yt++)}),at}function ht(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var Mt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},xt={map:nt,forEach:function(x,X,it){nt(x,function(){X.apply(this,arguments)},it)},count:function(x){var X=0;return nt(x,function(){X++}),X},toArray:function(x){return nt(x,function(X){return X})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=b,St.Children=xt,St.Component=mt,St.Fragment=i,St.Profiler=l,St.PureComponent=gt,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,X,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=st({},x.props),yt=x.key;if(X!=null)for(Rt in X.key!==void 0&&(yt=""+X.key),X)!S.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(at[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var Vt=Array(Rt),ve=0;ve<Rt;ve++)Vt[ve]=arguments[ve+2];at.children=Vt}return I(x.type,yt,at)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,X,it){var at,yt={},Rt=null;if(X!=null)for(at in X.key!==void 0&&(Rt=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=X[at]);var Vt=arguments.length-2;if(Vt===1)yt.children=it;else if(1<Vt){for(var ve=Array(Vt),ue=0;ue<Vt;ue++)ve[ue]=arguments[ue+2];yt.children=ve}if(x&&x.defaultProps)for(at in Vt=x.defaultProps,Vt)yt[at]===void 0&&(yt[at]=Vt[at]);return I(x,Rt,yt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:g,render:x}},St.isValidElement=N,St.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ht}},St.memo=function(x,X){return{$$typeof:_,type:x,compare:X===void 0?null:X}},St.startTransition=function(x){var X=C.T,it={};C.T=it;try{var at=x(),yt=C.S;yt!==null&&yt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ot,Mt)}catch(Rt){Mt(Rt)}finally{X!==null&&it.types!==null&&(X.types=it.types),C.T=X}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(x){return C.H.use(x)},St.useActionState=function(x,X,it){return C.H.useActionState(x,X,it)},St.useCallback=function(x,X){return C.H.useCallback(x,X)},St.useContext=function(x){return C.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,X){return C.H.useDeferredValue(x,X)},St.useEffect=function(x,X){return C.H.useEffect(x,X)},St.useEffectEvent=function(x){return C.H.useEffectEvent(x)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(x,X,it){return C.H.useImperativeHandle(x,X,it)},St.useInsertionEffect=function(x,X){return C.H.useInsertionEffect(x,X)},St.useLayoutEffect=function(x,X){return C.H.useLayoutEffect(x,X)},St.useMemo=function(x,X){return C.H.useMemo(x,X)},St.useOptimistic=function(x,X){return C.H.useOptimistic(x,X)},St.useReducer=function(x,X,it){return C.H.useReducer(x,X,it)},St.useRef=function(x){return C.H.useRef(x)},St.useState=function(x){return C.H.useState(x)},St.useSyncExternalStore=function(x,X,it){return C.H.useSyncExternalStore(x,X,it)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.3",St}var iv;function Hm(){return iv||(iv=1,Gd.exports=eS()),Gd.exports}var te=Hm(),Qd={exports:{}},Ml={},Kd={exports:{}},Yd={};var sv;function nS(){return sv||(sv=1,(function(s){function t(H,nt){var ht=H.length;H.push(nt);t:for(;0<ht;){var Mt=ht-1>>>1,xt=H[Mt];if(0<l(xt,nt))H[Mt]=nt,H[ht]=xt,ht=Mt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ht=H.pop();if(ht!==nt){H[0]=ht;t:for(var Mt=0,xt=H.length,x=xt>>>1;Mt<x;){var X=2*(Mt+1)-1,it=H[X],at=X+1,yt=H[at];if(0>l(it,ht))at<xt&&0>l(yt,it)?(H[Mt]=yt,H[at]=ht,Mt=at):(H[Mt]=it,H[X]=ht,Mt=X);else if(at<xt&&0>l(yt,ht))H[Mt]=yt,H[at]=ht,Mt=at;else break t}}return nt}function l(H,nt){var ht=H.sortIndex-nt.sortIndex;return ht!==0?ht:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,b=null,O=3,G=!1,Z=!1,st=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Tt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=H)r(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(_)}}function ee(H){if(st=!1,Tt(H),!Z)if(i(p)!==null)Z=!0,Ot||(Ot=!0,U());else{var nt=i(_);nt!==null&&de(ee,nt.startTime-H)}}var Ot=!1,C=-1,S=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<S)}function N(){if(W=!1,Ot){var H=s.unstable_now();I=H;var nt=!0;try{t:{Z=!1,st&&(st=!1,At(C),C=-1),G=!0;var ht=O;try{e:{for(Tt(H),b=i(p);b!==null&&!(b.expirationTime>H&&V());){var Mt=b.callback;if(typeof Mt=="function"){b.callback=null,O=b.priorityLevel;var xt=Mt(b.expirationTime<=H);if(H=s.unstable_now(),typeof xt=="function"){b.callback=xt,Tt(H),nt=!0;break e}b===i(p)&&r(p),Tt(H)}else r(p);b=i(p)}if(b!==null)nt=!0;else{var x=i(_);x!==null&&de(ee,x.startTime-H),nt=!1}}break t}finally{b=null,O=ht,G=!1}nt=void 0}}finally{nt?U():Ot=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,le=w.port2;w.port1.onmessage=N,U=function(){le.postMessage(null)}}else U=function(){mt(N,0)};function de(H,nt){C=mt(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var ht=O;O=nt;try{return H()}finally{O=ht}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=O;O=H;try{return nt()}finally{O=ht}},s.unstable_scheduleCallback=function(H,nt,ht){var Mt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Mt+ht:Mt):ht=Mt,H){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=ht+xt,H={id:A++,callback:nt,priorityLevel:H,startTime:ht,expirationTime:xt,sortIndex:-1},ht>Mt?(H.sortIndex=ht,t(_,H),i(p)===null&&H===i(_)&&(st?(At(C),C=-1):st=!0,de(ee,ht-Mt))):(H.sortIndex=xt,t(p,H),Z||G||(Z=!0,Ot||(Ot=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var nt=O;return function(){var ht=O;O=nt;try{return H.apply(this,arguments)}finally{O=ht}}}})(Yd)),Yd}var rv;function iS(){return rv||(rv=1,Kd.exports=nS()),Kd.exports}var Xd={exports:{}},cn={};var av;function sS(){if(av)return cn;av=1;var s=Hm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},cn.flushSync=function(p){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=A,r.d.f()}},cn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},cn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},cn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,b=g(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:G}):A==="script"&&r.d.X(p,{crossOrigin:b,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},cn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=g(A,_.crossOrigin);r.d.L(p,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},cn.requestFormReset=function(p){r.d.r(p)},cn.unstable_batchedUpdates=function(p,_){return p(_)},cn.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var ov;function rS(){if(ov)return Xd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=sS(),Xd.exports}var lv;function aS(){if(lv)return Ml;lv=1;var s=iS(),t=Hm(),i=rS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case ee:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case gt:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var de=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Mt=[],xt=-1;function x(e){return{current:e}}function X(e){0>xt||(e.current=Mt[xt],Mt[xt]=null,xt--)}function it(e,n){xt++,Mt[xt]=e.current,e.current=n}var at=x(null),yt=x(null),Rt=x(null),Vt=x(null);function ve(e,n){switch(it(Rt,n),it(yt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=b_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function ue(){X(at),X(yt),X(Rt)}function Qi(e){e.memoizedState!==null&&it(Vt,e);var n=at.current,a=S_(n,e.type);n!==a&&(it(yt,e),it(at,a))}function bs(e){yt.current===e&&(X(at),X(yt)),Vt.current===e&&(X(Vt),Cl._currentValue=ht)}var Ss,ws;function Pn(e){if(Ss===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+e+ws}var Cr=!1;function Ki(e,n){if(!e||Cr)return"";Cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){j=q}e.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Cr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Pn(a):""}function Nr(e,n){switch(e.tag){case 26:case 27:case 5:return Pn(e.type);case 16:return Pn("Lazy");case 13:return e.child!==n&&n!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Ki(e.type,!1);case 11:return Ki(e.type.render,!1);case 1:return Ki(e.type,!0);case 31:return Pn("Activity");default:return""}}function Dr(e){try{var n="",a=null;do n+=Nr(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,mi=s.unstable_cancelCallback,K=s.unstable_shouldYield,et=s.unstable_requestPaint,ct=s.unstable_now,Ft=s.unstable_getCurrentPriorityLevel,Ae=s.unstable_ImmediatePriority,qt=s.unstable_UserBlockingPriority,_t=s.unstable_NormalPriority,ae=s.unstable_LowPriority,Me=s.unstable_IdlePriority,pi=s.log,gi=s.unstable_setDisableYieldValue,Ce=null,be=null;function Ve(e){if(typeof pi=="function"&&gi(e),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Ce,e)}catch{}}var ce=Math.clz32?Math.clz32:va,Rs=Math.log,Yi=Math.LN2;function va(e){return e>>>=0,e===0?32:31-(Rs(e)/Yi|0)|0}var yi=256,xr=262144,ke=4194304;function _i(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=_i(o):(y&=E,y!==0?h=_i(y):a||(a=E&~e,a!==0&&(h=_i(a))))):(E=o&~f,E!==0?h=_i(E):y!==0?h=_i(y):a||(a=o&~e,a!==0&&(h=_i(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),e}function Ei(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-ce(a),$=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}a&=~$}o!==0&&Mr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Mr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Mo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ce(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Vo(e,n){var a=n&-n;return a=(a&42)!==0?1:Vr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function ti(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ei=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ei,Xe="__reactProps$"+ei,Ti="__reactContainer$"+ei,Ea="__reactEvents$"+ei,Xh="__reactListeners$"+ei,_u="__reactHandles$"+ei,vu="__reactResources$"+ei,Ai="__reactMarker$"+ei;function Ta(e){delete e[Ue],delete e[Xe],delete e[Ea],delete e[Xh],delete e[_u]}function bi(e){var n=e[Ue];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ti]||a[Ue]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Ue])return a;e=x_(e)}return n}e=a,a=e.parentNode}return null}function zn(e){if(e=e[Ue]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Si(e){var n=e[vu];return n||(n=e[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Le(e){e[Ai]=!0}var ko=new Set,Uo={};function wi(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Uo[e]=n,e=0;e<n.length;e++)ko.add(n[e])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},zo={};function Eu(e){return Te.call(zo,e)?!0:Te.call(Po,e)?!1:Lo.test(e)?zo[e]=!0:(Po[e]=!0,!1)}function Aa(e,n,a){if(Eu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Nn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pe(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Is(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=Is(e)?"checked":"value";e._valueTracker=jo(e,n,""+e[n])}}function kr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Is(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function yn(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$e(n)):e.value!==""+$e(n)&&(e.value=""+$e(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Bo(e,y,$e(n)):a!=null?Bo(e,y,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Tu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}a=a!=null?""+$e(a):"",n=n!=null?""+$e(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Jt(e)}function Bo(e,n,a){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Au(e,n,a){if(n!=null&&(n=""+$e(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+$e(a):""}function Ns(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(de(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$e(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||bu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ho(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&qo(e,f,n[f])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(e){return Ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var Fo=null;function jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,Ci=null;function Lr(e){var n=zn(e);if(n&&(e=n.stateNode)){var a=e[Xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ba(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Xe]||null;if(!h)throw Error(r(90));ba(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&kr(o)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Cs(e,!!a.multiple,n,!1)}}}var Ra=!1;function Os(e,n,a){if(Ra)return e(n,a);Ra=!0;try{var o=e(n);return o}finally{if(Ra=!1,(xs!==null||Ci!==null)&&(yc(),xs&&(n=xs,e=Ci,Ci=xs=null,Lr(n),e)))for(n=0;n<e.length;n++)Lr(e[n])}}function ii(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Xe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Bn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Pr=!1}var Ni=null,Go=null,zr=null;function Qo(){if(zr)return zr;var e,n=Go,a=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return zr=h.slice(e,1<o?1-o:void 0)}function jr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function si(){return!1}function We(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:si,this.isPropagationStopped=si,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=We(Ji),Ms=b({},Ji,{view:0,detail:0}),Ko=We(Ms),Vs,Ia,xi,Ca=b({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Vs=e.screenX-xi.screenX,Ia=e.screenY-xi.screenY):Ia=Vs=0,xi=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),Yo=We(Ca),Br=b({},Ca,{dataTransfer:0}),wu=We(Br),Ru=b({},Ms,{relatedTarget:0}),qr=We(Ru),Xo=b({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=We(Xo),Na=b({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cu=We(Na),Nu=b({},Ji,{data:0}),Oi=We(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ou[e])?!!n[e]:!1}function ks(){return Mu}var pn=b({},Ms,{key:function(e){if(e.key){var n=Du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=We(pn),ku=b({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=We(ku),u=b({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=We(u),v=b({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=We(v),L=b({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=We(L),tt=b({},Ji,{newState:0,oldState:0}),It=We(tt),Ne=[9,13,27,32],Yt=Bn&&"CompositionEvent"in window,ye=null;Bn&&"documentMode"in document&&(ye=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ye,Mi=Bn&&(!Yt||ye&&8<ye&&11>=ye),ri=" ",ai=!1;function Hr(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function bA(e,n){switch(e){case"compositionend":return Da(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function SA(e,n){if(xa)return e==="compositionend"||!Yt&&Hr(e,n)?(e=Qo(),zr=Go=Ni=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wA[e.type]:n==="textarea"}function kp(e,n,a,o){xs?Ci?Ci.push(o):Ci=[o]:xs=o,n=Sc(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var $o=null,Jo=null;function RA(e){y_(e,0)}function Uu(e){var n=Cn(e);if(kr(n))return e}function Up(e,n){if(e==="change")return n}var Lp=!1;if(Bn){var $h;if(Bn){var Jh="oninput"in document;if(!Jh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Jh=typeof Pp.oninput=="function"}$h=Jh}else $h=!1;Lp=$h&&(!document.documentMode||9<document.documentMode)}function zp(){$o&&($o.detachEvent("onpropertychange",jp),Jo=$o=null)}function jp(e){if(e.propertyName==="value"&&Uu(Jo)){var n=[];kp(n,Jo,e,jn(e)),Os(RA,n)}}function IA(e,n,a){e==="focusin"?(zp(),$o=n,Jo=a,$o.attachEvent("onpropertychange",jp)):e==="focusout"&&zp()}function CA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Jo)}function NA(e,n){if(e==="click")return Uu(n)}function DA(e,n){if(e==="input"||e==="change")return Uu(n)}function xA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:xA;function Zo(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(n,h)||!Dn(e[h],n[h]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,n){var a=Bp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var OA=Bn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Wh=null,Wo=null,tf=!1;function Gp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||Oa==null||Oa!==Ii(o)||(o=Oa,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=Sc(Wh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Oa)))}function Fr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ma={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},ef={},Qp={};Bn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Gr(e){if(ef[e])return ef[e];if(!Ma[e])return e;var n=Ma[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return ef[e]=n[a];return e}var Kp=Gr("animationend"),Yp=Gr("animationiteration"),Xp=Gr("animationstart"),MA=Gr("transitionrun"),VA=Gr("transitionstart"),kA=Gr("transitioncancel"),$p=Gr("transitionend"),Jp=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function oi(e,n){Jp.set(e,n),wi(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],Va=0,sf=0;function Pu(){for(var e=Va,n=sf=Va=0;n<e;){var a=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function zu(e,n,a,o){Hn[Va++]=e,Hn[Va++]=n,Hn[Va++]=a,Hn[Va++]=o,sf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rf(e,n,a,o){return zu(e,n,a,o),ju(e)}function Qr(e,n){return zu(e,null,null,n),ju(e)}function Zp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ju(e){if(50<Tl)throw Tl=0,md=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ka={};function UA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,a,o){return new UA(e,n,a,o)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var a=e.alternate;return a===null?(a=xn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")af(e)&&(y=1);else if(typeof e=="string")y=Bb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=xn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return Kr(a.children,h,f,n);case W:y=8,h|=24;break;case mt:return e=xn(12,a,n,h|2),e.elementType=mt,e.lanes=f,e;case ee:return e=xn(13,a,n,h),e.elementType=ee,e.lanes=f,e;case Ot:return e=xn(19,a,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:y=10;break t;case At:y=9;break t;case Tt:y=11;break t;case C:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=xn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Kr(e,n,a,o){return e=xn(7,e,o,n),e.lanes=a,e}function of(e,n,a){return e=xn(6,e,null,n),e.lanes=a,e}function tg(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function lf(e,n,a){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var eg=new WeakMap;function Fn(e,n){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Dr(n)},eg.set(e,n),n)}return{value:e,source:n,stack:Dr(n)}}var Ua=[],La=0,qu=null,tl=0,Gn=[],Qn=0,Us=null,Vi=1,ki="";function ts(e,n){Ua[La++]=tl,Ua[La++]=qu,qu=e,tl=n}function ng(e,n,a){Gn[Qn++]=Vi,Gn[Qn++]=ki,Gn[Qn++]=Us,Us=e;var o=Vi;e=ki;var h=32-ce(o)-1;o&=~(1<<h),a+=1;var f=32-ce(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Vi=1<<32-ce(n)+h|a<<h|o,ki=f+e}else Vi=1<<f|a<<h|o,ki=e}function uf(e){e.return!==null&&(ts(e,1),ng(e,1,0))}function cf(e){for(;e===qu;)qu=Ua[--La],Ua[La]=null,tl=Ua[--La],Ua[La]=null;for(;e===Us;)Us=Gn[--Qn],Gn[Qn]=null,ki=Gn[--Qn],Gn[Qn]=null,Vi=Gn[--Qn],Gn[Qn]=null}function ig(e,n){Gn[Qn++]=Vi,Gn[Qn++]=ki,Gn[Qn++]=Us,Vi=n.id,ki=n.overflow,Us=e}var tn=null,me=null,Ht=!1,Ls=null,Kn=!1,hf=Error(r(519));function Ps(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Fn(n,e)),hf}function sg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ue]=e,n[Xe]=o,a){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<bl.length;a++)Ut(bl[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),Tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||T_(n.textContent,a)?(o.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),o.onScroll!=null&&Ut("scroll",n),o.onScrollEnd!=null&&Ut("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Ps(e,!0)}function rg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:tn=tn.return}}function Pa(e){if(e!==tn)return!1;if(!Ht)return rg(e),Ht=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nd(e.type,e.memoizedProps)),a=!a),a&&me&&Ps(e),rg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=D_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=D_(e)}else n===27?(n=me,Zs(e.type)?(e=Vd,Vd=null,me=e):me=n):me=tn?Xn(e.stateNode.nextSibling):null;return!0}function Yr(){me=tn=null,Ht=!1}function ff(){var e=Ls;return e!==null&&(An===null?An=e:An.push.apply(An,e),Ls=null),e}function el(e){Ls===null?Ls=[e]:Ls.push(e)}var df=x(null),Xr=null,es=null;function zs(e,n,a){it(df,n._currentValue),n._currentValue=a}function ns(e){e._currentValue=df.current,X(df)}function mf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function pf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),mf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),mf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function za(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Dn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&pf(n,e,a,o),n.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $r(e){Xr=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return ag(Xr,e)}function Fu(e,n){return Xr===null&&$r(e),ag(e,n)}function ag(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},es===null){if(e===null)throw Error(r(308));es=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else es=es.next=n;return a}var LA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},PA=s.unstable_scheduleCallback,zA=s.unstable_NormalPriority,ze={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new LA,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&PA(zA,function(){e.controller.abort()})}var il=null,yf=0,ja=0,Ba=null;function jA(e,n){if(il===null){var a=il=[];yf=0,ja=Ed(),Ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(og,og),n}function og(){if(--yf===0&&il!==null){Ba!==null&&(Ba.status="fulfilled");var e=il;il=null,ja=0,Ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function BA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=H.S;H.S=function(e,n){Gy=ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jA(e,n),lg!==null&&lg(e,n)};var Jr=x(null);function _f(){var e=Jr.current;return e!==null?e:oe.pooledCache}function Gu(e,n){n===null?it(Jr,Jr.current):it(Jr,n.pool)}function ug(){var e=_f();return e===null?null:{parent:ze._currentValue,pool:e}}var qa=Error(r(460)),vf=Error(r(474)),Qu=Error(r(542)),Ku={then:function(){}};function cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ni,ni),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e}throw Wr=n,qa}}function Zr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,qa):a}}var Wr=null;function fg(){if(Wr===null)throw Error(r(459));var e=Wr;return Wr=null,e}function dg(e){if(e===qa||e===Qu)throw Error(r(483))}var Ha=null,sl=0;function Yu(e){var n=sl;return sl+=1,Ha===null&&(Ha=[]),hg(Ha,e,n)}function rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Wi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=of(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,Q){var ft=P.type;return ft===st?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Zr(ft)===D.type)?(D=h(D,P.props),rl(D,P),D.return=k,D):(D=Bu(P.type,P.key,P.props,null,k.mode,Q),rl(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=lf(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ft){return D===null||D.tag!==7?(D=Kr(P,k.mode,Q,ft),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=of(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Bu(D.type,D.key,D.props,null,k.mode,P),rl(P,D),P.return=k,P;case Z:return D=lf(D,k.mode,P),D.return=k,D;case S:return D=Zr(D),$(k,D,P)}if(de(D)||U(D))return D=Kr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Yu(D),P);if(D.$$typeof===gt)return $(k,Fu(k,D),P);Xu(k,D)}return null}function j(k,D,P,Q){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ft?R(k,D,P,Q):null;case Z:return P.key===ft?z(k,D,P,Q):null;case S:return P=Zr(P),j(k,D,P,Q)}if(de(P)||U(P))return ft!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Yu(P),Q);if(P.$$typeof===gt)return j(k,D,Fu(k,P),Q);Xu(k,P)}return null}function q(k,D,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,R(D,k,Q,ft);case Z:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ft);case S:return Q=Zr(Q),q(k,D,P,Q,ft)}if(de(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ft,null);if(typeof Q.then=="function")return q(k,D,P,Yu(Q),ft);if(Q.$$typeof===gt)return q(k,D,P,Fu(D,Q),ft);Xu(D,Q)}return null}function lt(k,D,P,Q){for(var ft=null,Qt=null,ut=D,Dt=D=0,Pt=null;ut!==null&&Dt<P.length;Dt++){ut.index>Dt?(Pt=ut,ut=null):Pt=ut.sibling;var Kt=j(k,ut,P[Dt],Q);if(Kt===null){ut===null&&(ut=Pt);break}e&&ut&&Kt.alternate===null&&n(k,ut),D=f(Kt,D,Dt),Qt===null?ft=Kt:Qt.sibling=Kt,Qt=Kt,ut=Pt}if(Dt===P.length)return a(k,ut),Ht&&ts(k,Dt),ft;if(ut===null){for(;Dt<P.length;Dt++)ut=$(k,P[Dt],Q),ut!==null&&(D=f(ut,D,Dt),Qt===null?ft=ut:Qt.sibling=ut,Qt=ut);return Ht&&ts(k,Dt),ft}for(ut=o(ut);Dt<P.length;Dt++)Pt=q(ut,k,Dt,P[Dt],Q),Pt!==null&&(e&&Pt.alternate!==null&&ut.delete(Pt.key===null?Dt:Pt.key),D=f(Pt,D,Dt),Qt===null?ft=Pt:Qt.sibling=Pt,Qt=Pt);return e&&ut.forEach(function(ir){return n(k,ir)}),Ht&&ts(k,Dt),ft}function pt(k,D,P,Q){if(P==null)throw Error(r(151));for(var ft=null,Qt=null,ut=D,Dt=D=0,Pt=null,Kt=P.next();ut!==null&&!Kt.done;Dt++,Kt=P.next()){ut.index>Dt?(Pt=ut,ut=null):Pt=ut.sibling;var ir=j(k,ut,Kt.value,Q);if(ir===null){ut===null&&(ut=Pt);break}e&&ut&&ir.alternate===null&&n(k,ut),D=f(ir,D,Dt),Qt===null?ft=ir:Qt.sibling=ir,Qt=ir,ut=Pt}if(Kt.done)return a(k,ut),Ht&&ts(k,Dt),ft;if(ut===null){for(;!Kt.done;Dt++,Kt=P.next())Kt=$(k,Kt.value,Q),Kt!==null&&(D=f(Kt,D,Dt),Qt===null?ft=Kt:Qt.sibling=Kt,Qt=Kt);return Ht&&ts(k,Dt),ft}for(ut=o(ut);!Kt.done;Dt++,Kt=P.next())Kt=q(ut,k,Dt,Kt.value,Q),Kt!==null&&(e&&Kt.alternate!==null&&ut.delete(Kt.key===null?Dt:Kt.key),D=f(Kt,D,Dt),Qt===null?ft=Kt:Qt.sibling=Kt,Qt=Kt);return e&&ut.forEach(function(Zb){return n(k,Zb)}),Ht&&ts(k,Dt),ft}function re(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===st){if(D.tag===7){a(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Zr(ft)===D.type){a(k,D.sibling),Q=h(D,P.props),rl(Q,P),Q.return=k,k=Q;break t}a(k,D);break}else n(k,D);D=D.sibling}P.type===st?(Q=Kr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Bu(P.type,P.key,P.props,null,k.mode,Q),rl(Q,P),Q.return=k,k=Q)}return y(k);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{a(k,D);break}else n(k,D);D=D.sibling}Q=lf(P,k.mode,Q),Q.return=k,k=Q}return y(k);case S:return P=Zr(P),re(k,D,P,Q)}if(de(P))return lt(k,D,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),pt(k,D,P,Q)}if(typeof P.then=="function")return re(k,D,Yu(P),Q);if(P.$$typeof===gt)return re(k,D,Fu(k,P),Q);Xu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(a(k,D),Q=of(P,k.mode,Q),Q.return=k,k=Q),y(k)):a(k,D)}return function(k,D,P,Q){try{sl=0;var ft=re(k,D,P,Q);return Ha=null,ft}catch(ut){if(ut===qa||ut===Qu)throw ut;var Qt=xn(29,ut,null,k.mode);return Qt.lanes=Q,Qt.return=k,Qt}}}var ta=mg(!0),pg=mg(!1),js=!1;function Ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),Zp(e,null,a),n}return zu(e,o,n,a),ju(e)}function al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Mo(e,a)}}function Af(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var bf=!1;function ol(){if(bf){var e=Ba;if(e!==null)throw e}}function ll(e,n,a,o){bf=!1;var h=e.updateQueue;js=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;y=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Lt&j)===j:(o&j)===j){j!==0&&j===ja&&(bf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var re=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){$=lt.call(re,$,j);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(re,$,j):lt,j==null)break t;$=b({},$,j);break t;case 2:js=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=$):F=F.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ks|=y,e.lanes=y,e.memoizedState=$}}function gg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function yg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gg(a[e],n)}var Fa=x(null),$u=x(0);function _g(e,n){e=hs,it($u,e),it(Fa,n),hs=e|n.baseLanes}function Sf(){it($u,hs),it(Fa,Fa.current)}function wf(){hs=$u.current,X(Fa),X($u)}var On=x(null),Yn=null;function Hs(e){var n=e.alternate;it(De,De.current&1),it(On,e),Yn===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(Yn=e)}function Rf(e){it(De,De.current),it(On,e),Yn===null&&(Yn=e)}function vg(e){e.tag===22?(it(De,De.current),it(On,e),Yn===null&&(Yn=e)):Fs()}function Fs(){it(De,De.current),it(On,On.current)}function Mn(e){X(On),Yn===e&&(Yn=null),X(De)}var De=x(0);function Ju(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Md(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ct=null,ie=null,je=null,Zu=!1,Ga=!1,ea=!1,Wu=0,ul=0,Qa=null,qA=0;function Se(){throw Error(r(321))}function If(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dn(e[a],n[a]))return!1;return!0}function Cf(e,n,a,o,h,f){return is=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?ny:Hf,ea=!1,f=a(o,h),ea=!1,Ga&&(f=Tg(n,a,o,h)),Eg(e),f}function Eg(e){H.H=fl;var n=ie!==null&&ie.next!==null;if(is=0,je=ie=Ct=null,Zu=!1,ul=0,Qa=null,n)throw Error(r(300));e===null||Be||(e=e.dependencies,e!==null&&Hu(e)&&(Be=!0))}function Tg(e,n,a,o){Ct=e;var h=0;do{if(Ga&&(Qa=null),ul=0,Ga=!1,25<=h)throw Error(r(301));if(h+=1,je=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=iy,f=n(a,o)}while(Ga);return f}function HA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?cl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Nf(){var e=Wu!==0;return Wu=0,e}function Df(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function xf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}is=0,je=ie=Ct=null,Ga=!1,ul=Wu=0,Qa=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ct.memoizedState=je=e:je=je.next=e,je}function xe(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=je===null?Ct.memoizedState:je.next;if(n!==null)je=n,ie=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},je===null?Ct.memoizedState=je=e:je=je.next=e}return je}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var n=ul;return ul+=1,Qa===null&&(Qa=[]),e=hg(Qa,e,n),n=Ct,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ny:Hf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===gt)return en(e)}throw Error(r(438,String(e)))}function Of(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tc(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function ss(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=xe();return Mf(n,ie,e)}function Mf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,F=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Lt&$)===$:(is&$)===$){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ja&&(F=!0);else if((is&j)===j){z=z.next,j===ja&&(F=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,y=f):R=R.next=$,Ct.lanes|=j,Ks|=j;$=z.action,ea&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Ct.lanes|=$,Ks|=$;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!Dn(f,e.memoizedState)&&(Be=!0,F&&(a=Ba,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Vf(e){var n=xe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Dn(f,n.memoizedState)||(Be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(e,n,a){var o=Ct,h=xe(),f=Ht;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Dn((ie||h).memoizedState,a);if(y&&(h.memoizedState=a,Be=!0),h=h.queue,Lf(wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||je!==null&&je.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),oe===null)throw Error(r(349));f||(is&127)!==0||bg(o,n,a)}return a}function bg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=tc(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sg(e,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&Ig(e)}function wg(e,n,a){return a(function(){Rg(n)&&Ig(e)})}function Rg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dn(e,a)}catch{return!0}}function Ig(e){var n=Qr(e,2);n!==null&&bn(n,e,2)}function kf(e){var n=gn();if(typeof e=="function"){var a=e;if(e=a(),ea){Ve(!0);try{a()}finally{Ve(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function Cg(e,n,a,o){return e.baseState=a,Mf(e,ie,typeof o=="function"?o:ss)}function FA(e,n,a,o,h){if(rc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ng(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ng(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(h,o),R=H.S;R!==null&&R(y,E),Dg(e,n,E)}catch(z){Uf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,o),Dg(e,n,f)}catch(z){Uf(e,n,z)}}function Dg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xg(e,n,o)},function(o){return Uf(e,n,o)}):xg(e,n,a)}function xg(e,n,a){n.status="fulfilled",n.value=a,Og(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ng(e,a)))}function Uf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==o)}e.action=null}function Og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mg(e,n){return n}function Vg(e,n){if(Ht){var a=oe.formState;if(a!==null){t:{var o=Ct;if(Ht){if(me){e:{for(var h=me,f=Kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=Xn(h.nextSibling),o=h.data==="F!";break t}}Ps(o)}o=!1}o&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=o,a=Wg.bind(null,Ct,o),o.dispatch=a,o=kf(!1),f=qf.bind(null,Ct,!1,o.queue),o=gn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=FA.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function kg(e){var n=xe();return Ug(n,ie,e)}function Ug(e,n,a){if(n=Mf(e,n,Mg)[0],e=nc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=cl(n)}catch(y){throw y===qa?Qu:y}else o=n;n=xe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,Ka(9,{destroy:void 0},GA.bind(null,h,a),null)),[o,f,e]}function GA(e,n){e.action=n}function Lg(e){var n=xe(),a=ie;if(a!==null)return Ug(n,a,e);xe(),n=n.memoizedState,a=xe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ka(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=tc(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Pg(){return xe().memoizedState}function ic(e,n,a,o){var h=gn();Ct.flags|=e,h.memoizedState=Ka(1|n,{destroy:void 0},a,o===void 0?null:o)}function sc(e,n,a,o){var h=xe();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&If(o,ie.memoizedState.deps)?h.memoizedState=Ka(n,f,a,o):(Ct.flags|=e,h.memoizedState=Ka(1|n,f,a,o))}function zg(e,n){ic(8390656,8,e,n)}function Lf(e,n){sc(2048,8,e,n)}function QA(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=tc(),Ct.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function jg(e){var n=xe().memoizedState;return QA({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Bg(e,n){return sc(4,2,e,n)}function qg(e,n){return sc(4,4,e,n)}function Hg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fg(e,n,a){a=a!=null?a.concat([e]):null,sc(4,4,Hg.bind(null,n,e),a)}function Pf(){}function Gg(e,n){var a=xe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&If(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Qg(e,n){var a=xe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&If(n,o[1]))return o[0];if(o=e(),ea){Ve(!0);try{e()}finally{Ve(!1)}}return a.memoizedState=[o,n],o}function zf(e,n,a){return a===void 0||(is&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ky(),Ct.lanes|=e,Ks|=e,a)}function Kg(e,n,a,o){return Dn(a,n)?a:Fa.current!==null?(e=zf(e,a,o),Dn(e,n)||(Be=!0),e):(is&42)===0||(is&1073741824)!==0&&(Lt&261930)===0?(Be=!0,e.memoizedState=a):(e=Ky(),Ct.lanes|=e,Ks|=e,n)}function Yg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,qf(e,!1,n,a);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=BA(R,o);hl(e,n,F,Un(e))}else hl(e,n,o,Un(e))}catch($){hl(e,n,{then:function(){},status:"rejected",reason:$},Un())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}function KA(){}function jf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Xg(e).queue;Yg(e,h,n,ht,a===null?KA:function(){return $g(e),a(o)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Xg(e);n.next===null&&(n=e.alternate.memoizedState),hl(e,n.next.queue,{},Un())}function Bf(){return en(Cl)}function Jg(){return xe().memoizedState}function Zg(){return xe().memoizedState}function YA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();e=Bs(a);var o=qs(n,e,a);o!==null&&(bn(o,n,a),al(o,n,a)),n={cache:gf()},e.payload=n;return}n=n.return}}function XA(e,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?ty(n,a):(a=rf(e,n,a,o),a!==null&&(bn(a,e,o),ey(a,n,o)))}function Wg(e,n,a){var o=Un();hl(e,n,a,o)}function hl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))ty(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,y))return zu(e,n,h,0),oe===null&&Pu(),!1}catch{}if(a=rf(e,n,h,o),a!==null)return bn(a,e,o),ey(a,n,o),!0}return!1}function qf(e,n,a,o){if(o={lane:2,revertLane:Ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(n)throw Error(r(479))}else n=rf(e,a,o,2),n!==null&&bn(n,e,2)}function rc(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function ty(e,n){Ga=Zu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ey(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Mo(e,a)}}var fl={readContext:en,use:ec,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};fl.useEffectEvent=Se;var ny={readContext:en,use:ec,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:zg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ic(4194308,4,Hg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var a=gn();n=n===void 0?null:n;var o=e();if(ea){Ve(!0);try{e()}finally{Ve(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=gn();if(a!==void 0){var h=a(n);if(ea){Ve(!0);try{a(n)}finally{Ve(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=XA.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=kf(e);var n=e.queue,a=Wg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(e,n){var a=gn();return zf(a,e,n)},useTransition:function(){var e=kf(!1);return e=Yg.bind(null,Ct,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=gn();if(Ht){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),oe===null)throw Error(r(349));(Lt&127)!==0||bg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,zg(wg.bind(null,o,f,e),[e]),o.flags|=2048,Ka(9,{destroy:void 0},Sg.bind(null,o,f,a,n),null),a},useId:function(){var e=gn(),n=oe.identifierPrefix;if(Ht){var a=ki,o=Vi;a=(o&~(1<<32-ce(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=qA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Bf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qf.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:Of,useCacheRefresh:function(){return gn().memoizedState=YA.bind(null,Ct)},useEffectEvent:function(e){var n=gn(),a={impl:e};return n.memoizedState=a,function(){if((Xt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:en,use:ec,useCallback:Gg,useContext:en,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:nc,useRef:Pg,useState:function(){return nc(ss)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=xe();return Kg(a,ie.memoizedState,e,n)},useTransition:function(){var e=nc(ss)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:cl(e),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Bf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var a=xe();return Cg(a,ie,e,n)},useMemoCache:Of,useCacheRefresh:Zg};Hf.useEffectEvent=jg;var iy={readContext:en,use:ec,useCallback:Gg,useContext:en,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Vf,useRef:Pg,useState:function(){return Vf(ss)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=xe();return ie===null?zf(a,e,n):Kg(a,ie.memoizedState,e,n)},useTransition:function(){var e=Vf(ss)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:cl(e),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Bf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,n){var a=xe();return ie!==null?Cg(a,ie,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Zg};iy.useEffectEvent=jg;function Ff(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Un(),h=Bs(o);h.payload=n,a!=null&&(h.callback=a),n=qs(e,h,o),n!==null&&(bn(n,e,o),al(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Un(),h=Bs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=qs(e,h,o),n!==null&&(bn(n,e,o),al(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Un(),o=Bs(a);o.tag=2,n!=null&&(o.callback=n),n=qs(e,o,a),n!==null&&(bn(n,e,a),al(n,e,a))}};function sy(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function ry(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Gf.enqueueReplaceState(n,n.state,null)}function na(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ay(e){Lu(e)}function oy(e){console.error(e)}function ly(e){Lu(e)}function ac(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function uy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,n,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,n)},a}function cy(e){return e=Bs(e),e.tag=3,e}function hy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){uy(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){uy(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $A(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&za(n,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?_c():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yd(e,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yd(e,o,h)),!1}throw Error(r(435,a.tag))}return yd(e,o,h),_c(),!1}if(Ht)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==hf&&(e=Error(r(422),{cause:o}),el(Fn(e,a)))):(o!==hf&&(n=Error(r(423),{cause:o}),el(Fn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Fn(o,a),h=Qf(e.stateNode,o,h),Af(e,h),we!==4&&(we=2)),!1;var f=Error(r(520),{cause:o});if(f=Fn(f,a),El===null?El=[f]:El.push(f),we!==4&&(we=2),n===null)return!0;o=Fn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,o,e),Af(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,e,a,o),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Kf=Error(r(461)),Be=!1;function nn(e,n,a,o){n.child=e===null?pg(n,null,a,o):ta(n,e.child,a,o)}function fy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return $r(n),o=Cf(e,n,a,y,f,h),E=Nf(),e!==null&&!Be?(Df(e,n,h),rs(e,n,h)):(Ht&&E&&uf(n),n.flags|=1,nn(e,n,o,h),n.child)}function dy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,my(e,n,f,o,h)):(e=Bu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ed(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(y,o)&&e.ref===n.ref)return rs(e,n,h)}return n.flags|=1,e=Wi(f,o),e.ref=n.ref,e.return=n,n.child=e}function my(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Zo(f,o)&&e.ref===n.ref)if(Be=!1,n.pendingProps=o=f,ed(e,h))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,rs(e,n,h)}return Yf(e,n,a,o,h)}function py(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return gy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):Sf(),vg(n);else return o=n.lanes=536870912,gy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(n,f.cachePool),_g(n,f),Fs(),n.memoizedState=null):(e!==null&&Gu(n,null),Sf(),Fs());return nn(e,n,h,a),n.child}function dl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(e,n,a,o,h){var f=_f();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Gu(n,null),Sf(),vg(n),e!==null&&za(e,n,o,!0),n.childLanes=h,null}function oc(e,n){return n=uc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yy(e,n,a){return ta(n,e.child,null,a),e=oc(n,n.pendingProps),e.flags|=2,Mn(n),n.memoizedState=null,e}function JA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,dl(null,e);if(Rf(n),(e=me)?(e=N_(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=n,n.child=a,tn=n,me=null)):e=null,e===null)throw Ps(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Rf(n),h)if(n.flags&256)n.flags&=-257,n=yy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Be||za(e,n,a,!1),h=(a&e.childLanes)!==0,Be||h){if(o=oe,o!==null&&(y=Vo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Qr(e,y),bn(o,e,y),Kf;_c(),n=yy(e,n,a)}else e=f.treeContext,me=Xn(y.nextSibling),tn=n,Ht=!0,Ls=null,Kn=!1,e!==null&&ig(n,e),n=oc(n,o),n.flags|=4096;return n}return e=Wi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Yf(e,n,a,o,h){return $r(n),a=Cf(e,n,a,o,void 0,h),o=Nf(),e!==null&&!Be?(Df(e,n,h),rs(e,n,h)):(Ht&&o&&uf(n),n.flags|=1,nn(e,n,a,h),n.child)}function _y(e,n,a,o,h,f){return $r(n),n.updateQueue=null,a=Tg(n,o,a,h),Eg(e),o=Nf(),e!==null&&!Be?(Df(e,n,f),rs(e,n,f)):(Ht&&o&&uf(n),n.flags|=1,nn(e,n,a,f),n.child)}function vy(e,n,a,o,h){if($r(n),n.stateNode===null){var f=ka,y=a.contextType;typeof y=="object"&&y!==null&&(f=en(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ef(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?en(y):ka,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ff(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Gf.enqueueReplaceState(f,f.state,null),ll(n,o,f,h),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=na(a,E);f.props=R;var z=f.context,F=a.contextType;y=ka,typeof F=="object"&&F!==null&&(y=en(F));var $=a.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&ry(n,f,o,y),js=!1;var j=n.memoizedState;f.state=j,ll(n,o,f,h),ol(),z=n.memoizedState,E||j!==z||js?(typeof $=="function"&&(Ff(n,a,$,o),z=n.memoizedState),(R=js||sy(n,a,R,o,j,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Tf(e,n),y=n.memoizedProps,F=na(a,y),f.props=F,$=n.pendingProps,j=f.context,z=a.contextType,R=ka,typeof z=="object"&&z!==null&&(R=en(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||j!==R)&&ry(n,f,o,R),js=!1,j=n.memoizedState,f.state=j,ll(n,o,f,h),ol();var q=n.memoizedState;y!==$||j!==q||js||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof E=="function"&&(Ff(n,a,E,o),q=n.memoizedState),(F=js||sy(n,a,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ta(n,e.child,null,h),n.child=ta(n,null,a,h)):nn(e,n,a,h),n.memoizedState=f.state,e=n.child):e=rs(e,n,h),e}function Ey(e,n,a,o){return Yr(),n.flags|=256,nn(e,n,a,o),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(e){return{baseLanes:e,cachePool:ug()}}function Jf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=kn),e}function Ty(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?Hs(n):Fs(),(e=me)?(e=N_(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=n,n.child=a,tn=n,me=null)):e=null,e===null)throw Ps(n);return Md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=Kr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(e,y,a),n.memoizedState=Xf,dl(null,o)):(Hs(n),Zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Wf(e,n,a)):n.memoizedState!==null?(Fs(),n.child=e.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=Kr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ta(n,e.child,null,a),o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(e,y,a),n.memoizedState=Xf,n=dl(null,o));else if(Hs(n),Md(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,el({value:o,source:null,stack:null}),n=Wf(e,n,a)}else if(Be||za(e,n,a,!1),y=(a&e.childLanes)!==0,Be||y){if(y=oe,y!==null&&(o=Vo(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Qr(e,o),bn(y,e,o),Kf;Od(E)||_c(),n=Wf(e,n,a)}else Od(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,me=Xn(E.nextSibling),tn=n,Ht=!0,Ls=null,Kn=!1,e!==null&&ig(n,e),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Wi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Wi(z,E):(E=Kr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,dl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=$f(a):(h=E.cachePool,h!==null?(R=ze._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Jf(e,y,a),n.memoizedState=Xf,dl(e.child,o)):(Hs(n),a=e.child,e=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Zf(e,n){return n=uc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uc(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Wf(e,n,a){return ta(n,e.child,null,a),e=Zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ay(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),mf(e.return,n,a)}function td(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function by(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=De.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,it(De,y),nn(e,n,o,a),o=Ht?tl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,a,n);else if(e.tag===19)Ay(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),td(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}td(n,!0,a,null,f,o);break;case"together":td(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ks|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(za(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Wi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Wi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function ZA(e,n,a){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),zs(n,ze,e.memoizedState.cache),Yr();break;case 27:case 5:Qi(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ty(e,n,a):(Hs(n),e=rs(e,n,a),e!==null?e.sibling:null);Hs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(za(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(De,De.current),o)break;return null;case 22:return n.lanes=0,py(e,n,a,n.pendingProps);case 24:zs(n,ze,e.memoizedState.cache)}return rs(e,n,a)}function Sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!ed(e,a)&&(n.flags&128)===0)return Be=!1,ZA(e,n,a);Be=(e.flags&131072)!==0}else Be=!1,Ht&&(n.flags&1048576)!==0&&ng(n,tl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Zr(n.elementType),n.type=e,typeof e=="function")af(e)?(o=na(e,o),n.tag=1,n=vy(null,n,e,o,a)):(n.tag=0,n=Yf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=fy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=dy(null,n,e,o,a);break t}}throw n=le(e)||e,Error(r(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=na(o,n.pendingProps),vy(e,n,o,h,a);case 3:t:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Tf(e,n),ll(n,o,null,a);var y=n.memoizedState;if(o=y.cache,zs(n,ze,o),o!==f.cache&&pf(n,[ze],a,!0),ol(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ey(e,n,o,a);break t}else if(o!==h){h=Fn(Error(r(424)),n),el(h),n=Ey(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,me=Xn(e.firstChild),tn=n,Ht=!0,Ls=null,Kn=!0,a=pg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yr(),o===h){n=rs(e,n,a);break t}nn(e,n,o,a)}n=n.child}return n;case 26:return lc(e,n),e===null?(a=k_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,e=n.pendingProps,o=wc(Rt.current).createElement(a),o[Ue]=n,o[Xe]=e,sn(o,a,e),Le(o),n.stateNode=o):n.memoizedState=k_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qi(n),e===null&&Ht&&(o=n.stateNode=O_(n.type,n.pendingProps,Rt.current),tn=n,Kn=!0,h=me,Zs(n.type)?(Vd=h,me=Xn(o.firstChild)):me=h),nn(e,n,n.pendingProps.children,a),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=me)&&(o=Cb(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,tn=n,me=Xn(o.firstChild),Kn=!1,h=!0):h=!1),h||Ps(n)),Qi(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Nd(h,f)?o=null:y!==null&&Nd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(e,n,HA,null,null,a),Cl._currentValue=h),lc(e,n),nn(e,n,o,a),n.child;case 6:return e===null&&Ht&&((e=a=me)&&(a=Nb(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,tn=n,me=null,e=!0):e=!1),e||Ps(n)),null;case 13:return Ty(e,n,a);case 4:return ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ta(n,null,o,a):nn(e,n,o,a),n.child;case 11:return fy(e,n,n.type,n.pendingProps,a);case 7:return nn(e,n,n.pendingProps,a),n.child;case 8:return nn(e,n,n.pendingProps.children,a),n.child;case 12:return nn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),nn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$r(n),h=en(h),o=o(h),n.flags|=1,nn(e,n,o,a),n.child;case 14:return dy(e,n,n.type,n.pendingProps,a);case 15:return my(e,n,n.type,n.pendingProps,a);case 19:return by(e,n,a);case 31:return JA(e,n,a);case 22:return py(e,n,a,n.pendingProps);case 24:return $r(n),o=en(ze),e===null?(h=_f(),h===null&&(h=oe,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Ef(n),zs(n,ze,h)):((e.lanes&a)!==0&&(Tf(e,n),ll(n,null,null,a),ol()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,ze,o)):(o=f.cache,zs(n,ze,o),o!==h.cache&&pf(n,[ze],a,!0))),nn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(e){e.flags|=4}function nd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw Wr=Ku,vf}else e.flags&=-16777217}function wy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j_(n))if(Jy())e.flags|=8192;else throw Wr=Ku,vf}function cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?gu():536870912,e.lanes|=n,Ja|=n)}function ml(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function WA(e,n,a){var o=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(ze),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(n)?as(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),pe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(as(n),f!==null?(pe(n),wy(n,f)):(pe(n),nd(n,h,null,o,a))):f?f!==e.memoizedState?(as(n),pe(n),wy(n,f)):(pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&as(n),pe(n),nd(n,h,e,o,a)),null;case 27:if(bs(n),a=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pe(n),null}e=at.current,Pa(n)?sg(n):(e=O_(h,o,a),n.stateNode=e,as(n))}return pe(n),null;case 5:if(bs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pe(n),null}if(f=at.current,Pa(n))sg(n);else{var y=wc(Rt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Ue]=n,f[Xe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&as(n)}}return pe(n),nd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Rt.current,Pa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ue]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T_(e.nodeValue,a)),e||Ps(n,!0)}else e=wc(e).createTextNode(o),e[Ue]=n,n.stateNode=e}return pe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Pa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ue]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),e=!1}else a=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ue]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),h=!1}else h=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),cc(n,n.updateQueue),pe(n),null);case 4:return ue(),e===null&&Sd(n.stateNode.containerInfo),pe(n),null;case 10:return ns(n.type),pe(n),null;case 19:if(X(De),o=n.memoizedState,o===null)return pe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ju(e),f!==null){for(n.flags|=128,ml(o,!1),e=f.updateQueue,n.updateQueue=e,cc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Wp(a,e),a=a.sibling;return it(De,De.current&1|2),Ht&&ts(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ct()>pc&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,cc(n,e),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return pe(n),null}else 2*ct()-o.renderingStartTime>pc&&a!==536870912&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,a=De.current,it(De,h?a&1|2:a&1),Ht&&ts(n,o.treeForkCount),e):(pe(n),null);case 22:case 23:return Mn(n),wf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),a=n.updateQueue,a!==null&&cc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&X(Jr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(ze),pe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function tb(e,n){switch(cf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(ze),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return bs(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(r(340));Yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(De),null;case 4:return ue(),null;case 10:return ns(n.type),null;case 22:case 23:return Mn(n),wf(),e!==null&&X(Jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ns(ze),null;case 25:return null;default:return null}}function Ry(e,n){switch(cf(n),n.tag){case 3:ns(ze),ue();break;case 26:case 27:case 5:bs(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:X(De);break;case 10:ns(n.type);break;case 22:case 23:Mn(n),wf(),e!==null&&X(Jr);break;case 24:ns(ze)}}function pl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Wt(n,n.return,E)}}function Gs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(F){Wt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Wt(n,n.return,F)}}function Iy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{yg(n,a)}catch(o){Wt(e,e.return,o)}}}function Cy(e,n,a){a.props=na(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function gl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function Ui(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function Ny(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function id(e,n,a){try{var o=e.stateNode;Ab(o,e.type,a,n),o[Xe]=n}catch(h){Wt(e,e.return,h)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Zs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,a),e=e.sibling;e!==null;)rd(e,n,a),e=e.sibling}function hc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Zs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hc(e,n,a),e=e.sibling;e!==null;)hc(e,n,a),e=e.sibling}function xy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,a),n[Ue]=e,n[Xe]=a}catch(f){Wt(e,e.return,f)}}var os=!1,qe=!1,ad=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Je=null;function eb(e,n){if(e=e.containerInfo,Id=Oc,e=Fp(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,F=0,$=e,j=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(R=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++F===o&&(R=y),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:e,selectionRange:a},Oc=!1,Je=n;Je!==null;)if(n=Je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Je=e;else for(;Je!==null;){switch(n=Je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=na(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Wt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Je=e;break}Je=n.return}}function My(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(e,a),o&4&&pl(5,a);break;case 1:if(us(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Wt(a,a.return,y)}else{var h=na(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(a,a.return,y)}}o&64&&Iy(a),o&512&&gl(a,a.return);break;case 3:if(us(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(e,n)}catch(y){Wt(a,a.return,y)}}break;case 27:n===null&&o&4&&xy(a);case 26:case 5:us(e,a),n===null&&o&4&&Ny(a),o&512&&gl(a,a.return);break;case 12:us(e,a);break;case 31:us(e,a),o&4&&Uy(e,a);break;case 13:us(e,a),o&4&&Ly(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cb.bind(null,a),Db(e,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||qe,h=os;var f=qe;os=o,(qe=n)&&!f?cs(e,a,(a.subtreeFlags&8772)!==0):us(e,a),os=h,qe=f}break;case 30:break;default:us(e,a)}}function Vy(e){var n=e.alternate;n!==null&&(e.alternate=null,Vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,vn=!1;function ls(e,n,a){for(a=a.child;a!==null;)ky(e,n,a),a=a.sibling}function ky(e,n,a){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Ce,a)}catch{}switch(a.tag){case 26:qe||Ui(a,n),ls(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Ui(a,n);var o=_e,h=vn;Zs(a.type)&&(_e=a.stateNode,vn=!1),ls(e,n,a),wl(a.stateNode),_e=o,vn=h;break;case 5:qe||Ui(a,n);case 6:if(o=_e,h=vn,_e=null,ls(e,n,a),_e=o,vn=h,_e!==null)if(vn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:_e!==null&&(vn?(e=_e,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ro(e)):I_(_e,a.stateNode));break;case 4:o=_e,h=vn,_e=a.stateNode.containerInfo,vn=!0,ls(e,n,a),_e=o,vn=h;break;case 0:case 11:case 14:case 15:Gs(2,a,n),qe||Gs(4,a,n),ls(e,n,a);break;case 1:qe||(Ui(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,n,o)),ls(e,n,a);break;case 21:ls(e,n,a);break;case 22:qe=(o=qe)||a.memoizedState!==null,ls(e,n,a),qe=o;break;default:ls(e,n,a)}}function Uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(a){Wt(n,n.return,a)}}}function Ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(a){Wt(n,n.return,a)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Oy),n;default:throw Error(r(435,e.tag))}}function fc(e,n){var a=nb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=hb.bind(null,e,o);o.then(h,h)}})}function En(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Zs(E.type)){_e=E.stateNode,vn=!1;break t}break;case 5:_e=E.stateNode,vn=!1;break t;case 3:case 4:_e=E.stateNode.containerInfo,vn=!0;break t}E=E.return}if(_e===null)throw Error(r(160));ky(f,y,h),_e=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Py(n,e),n=n.sibling}var li=null;function Py(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(n,e),Tn(e),o&4&&(Gs(3,e,e.return),pl(3,e),Gs(5,e,e.return));break;case 1:En(n,e),Tn(e),o&512&&(qe||a===null||Ui(a,a.return)),o&64&&os&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=li;if(En(n,e),Tn(e),o&512&&(qe||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,a),f[Ue]=e,Le(f),o=f;break t;case"link":var y=P_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;case"meta":if(y=P_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ue]=e,Le(f),o=f}e.stateNode=o}else z_(h,e.type,e.stateNode);else e.stateNode=L_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z_(h,e.type,e.stateNode):L_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&id(e,e.memoizedProps,a.memoizedProps)}break;case 27:En(n,e),Tn(e),o&512&&(qe||a===null||Ui(a,a.return)),a!==null&&o&4&&id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(En(n,e),Tn(e),o&512&&(qe||a===null||Ui(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(lt){Wt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,id(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(En(n,e),Tn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Wt(e,e.return,lt)}}break;case 3:if(Cc=null,h=li,li=Rc(n.containerInfo),En(n,e),li=h,Tn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(lt){Wt(e,e.return,lt)}ad&&(ad=!1,zy(e));break;case 4:o=li,li=Rc(e.stateNode.containerInfo),En(n,e),Tn(e),li=o;break;case 12:En(n,e),Tn(e);break;case 31:En(n,e),Tn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:En(n,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=ct()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=os,F=qe;if(os=z||h,qe=F||R,En(n,e),qe=F,os=z,Tn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||os||qe||ia(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Wt(R,R.return,lt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Wt(R,R.return,lt)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?C_(q,!0):C_(R.stateNode,!1)}catch(lt){Wt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fc(e,a))));break;case 19:En(n,e),Tn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:En(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=sd(e);hc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(_n(y,""),a.flags&=-33);var E=sd(e);hc(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=sd(e);rd(e,z,R);break;default:throw Error(r(161))}}catch(F){Wt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(e,n.alternate,n),n=n.sibling}function ia(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),ia(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Cy(n,n.return,a),ia(n);break;case 27:wl(n.stateNode);case 26:case 5:Ui(n,n.return),ia(n);break;case 22:n.memoizedState===null&&ia(n);break;case 30:ia(n);break;default:ia(n)}e=e.sibling}}function cs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),pl(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],E)}catch(z){Wt(o,o.return,z)}}a&&y&64&&Iy(f),gl(f,f.return);break;case 27:xy(f);case 26:case 5:cs(h,f,a),a&&o===null&&y&4&&Ny(f),gl(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&y&4&&Uy(h,f);break;case 13:cs(h,f,a),a&&y&4&&Ly(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),gl(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function od(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function ld(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&nl(e))}function ui(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(e,n,a,o),n=n.sibling}function jy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,a,o),h&2048&&pl(9,n);break;case 1:ui(e,n,a,o);break;case 3:ui(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){ui(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ui(e,n,a,o);break;case 31:ui(e,n,a,o);break;case 13:ui(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,a,o):yl(e,n):f._visibility&2?ui(e,n,a,o):(f._visibility|=2,Ya(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&od(y,n);break;case 24:ui(e,n,a,o),h&2048&&ld(n.alternate,n);break;default:ui(e,n,a,o)}}function Ya(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ya(f,y,E,R,h),pl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ya(f,y,E,R,h):yl(f,y):(F._visibility|=2,Ya(f,y,E,R,h)),h&&z&2048&&od(y.alternate,y);break;case 24:Ya(f,y,E,R,h),h&&z&2048&&ld(y.alternate,y);break;default:Ya(f,y,E,R,h)}n=n.sibling}}function yl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:yl(a,o),h&2048&&od(o.alternate,o);break;case 24:yl(a,o),h&2048&&ld(o.alternate,o);break;default:yl(a,o)}n=n.sibling}}var _l=8192;function Xa(e,n,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)By(e,n,a),e=e.sibling}function By(e,n,a){switch(e.tag){case 26:Xa(e,n,a),e.flags&_l&&e.memoizedState!==null&&qb(a,li,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,n,a);break;case 3:case 4:var o=li;li=Rc(e.stateNode.containerInfo),Xa(e,n,a),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,Xa(e,n,a),_l=o):Xa(e,n,a));break;default:Xa(e,n,a)}}function qy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Fy(o,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Gs(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dc(e)):vl(e);break;default:vl(e)}}function dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Je=o,Fy(o,e)}qy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),dc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function Fy(e,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Gs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Je=o;else t:for(a=e;Je!==null;){o=Je;var h=o.sibling,f=o.return;if(Vy(o),o===a){Je=null;break t}if(h!==null){h.return=f,Je=h;break t}Je=f}}}var ib={getCacheForType:function(e){var n=en(ze),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return en(ze).controller.signal}},sb=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,kt=null,Lt=0,Zt=0,Vn=null,Qs=!1,$a=!1,ud=!1,hs=0,we=0,Ks=0,sa=0,cd=0,kn=0,Ja=0,El=null,An=null,hd=!1,mc=0,Gy=0,pc=1/0,gc=null,Ys=null,Ke=0,Xs=null,Za=null,fs=0,fd=0,dd=null,Qy=null,Tl=0,md=null;function Un(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:H.T!==null?Ed():yu()}function Ky(){if(kn===0)if((Lt&536870912)===0||Ht){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),kn=e}else kn=536870912;return e=On.current,e!==null&&(e.flags|=32),kn}function bn(e,n,a){(e===oe&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),$s(e,Lt,kn,!1)),Or(e,a),((Xt&2)===0||e!==oe)&&(e===oe&&((Xt&2)===0&&(sa|=a),we===4&&$s(e,Lt,kn,!1)),Li(e))}function Yy(e,n,a){if((Xt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?ob(e,n):gd(e,n,!0),f=o;do{if(h===0){$a&&!o&&$s(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!rb(a)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=El;var R=E.current.memoizedState.isDehydrated;if(R&&(Wa(E,y).flags|=256),y=gd(E,y,!1),y!==2){if(ud&&!R){E.errorRecoveryDisabledLanes|=f,sa|=f,h=4;break t}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Wa(e,0),$s(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,kn,!Qs);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=mc+300-ct(),10<h)){if($s(o,n,kn,!Qs),vi(o,0,!0)!==0)break t;fs=n,o.timeoutHandle=w_(Xy.bind(null,o,a,An,gc,hd,n,kn,sa,Ja,Qs,f,"Throttled",-0,0),h);break t}Xy(o,a,An,gc,hd,n,kn,sa,Ja,Qs,f,null,-0,0)}}break}while(!0);Li(e)}function Xy(e,n,a,o,h,f,y,E,R,z,F,$,j,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},By(n,f,$);var lt=(f&62914560)===f?mc-ct():(f&4194048)===f?Gy-ct():0;if(lt=Hb($,lt),lt!==null){fs=f,e.cancelPendingCommit=lt(i_.bind(null,e,n,f,a,o,h,y,E,R,F,$,null,j,q)),$s(e,f,y,!z);return}}i_(e,n,f,a,o,h,y,E,R)}function rb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(e,n,a,o){n&=~cd,n&=~sa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Mr(e,a,n)}function yc(){return(Xt&6)===0?(Al(0),!1):!0}function pd(){if(kt!==null){if(Zt===0)var e=kt.return;else e=kt,es=Xr=null,xf(e),Ha=null,sl=0,e=kt;for(;e!==null;)Ry(e.alternate,e),e=e.return;kt=null}}function Wa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fs=0,pd(),oe=e,kt=a=Wi(e.current,null),Lt=n,Zt=0,Vn=null,Qs=!1,$a=Wn(e,n),ud=!1,Ja=kn=cd=sa=Ks=we=0,An=El=null,hd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return hs=n,Pu(),a}function $y(e,n){Ct=null,H.H=fl,n===qa||n===Qu?(n=fg(),Zt=3):n===vf?(n=fg(),Zt=4):Zt=n===Kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,kt===null&&(we=1,ac(e,Fn(n,e.current)))}function Jy(){var e=On.current;return e===null?!0:(Lt&4194048)===Lt?Yn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Yn:!1}function Zy(){var e=H.H;return H.H=fl,e===null?fl:e}function Wy(){var e=H.A;return H.A=ib,e}function _c(){we=4,Qs||(Lt&4194048)!==Lt&&On.current!==null||($a=!0),(Ks&134217727)===0&&(sa&134217727)===0||oe===null||$s(oe,Lt,kn,!1)}function gd(e,n,a){var o=Xt;Xt|=2;var h=Zy(),f=Wy();(oe!==e||Lt!==n)&&(gc=null,Wa(e,n)),n=!1;var y=we;t:do try{if(Zt!==0&&kt!==null){var E=kt,R=Vn;switch(Zt){case 8:pd(),y=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var z=Zt;if(Zt=0,Vn=null,to(e,E,R,z),a&&$a){y=0;break t}break;default:z=Zt,Zt=0,Vn=null,to(e,E,R,z)}}ab(),y=we;break}catch(F){$y(e,F)}while(!0);return n&&e.shellSuspendCounter++,es=Xr=null,Xt=o,H.H=h,H.A=f,kt===null&&(oe=null,Lt=0,Pu()),y}function ab(){for(;kt!==null;)t_(kt)}function ob(e,n){var a=Xt;Xt|=2;var o=Zy(),h=Wy();oe!==e||Lt!==n?(gc=null,pc=ct()+500,Wa(e,n)):$a=Wn(e,n);t:do try{if(Zt!==0&&kt!==null){n=kt;var f=Vn;e:switch(Zt){case 1:Zt=0,Vn=null,to(e,n,f,1);break;case 2:case 9:if(cg(f)){Zt=0,Vn=null,e_(n);break}n=function(){Zt!==2&&Zt!==9||oe!==e||(Zt=7),Li(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:cg(f)?(Zt=0,Vn=null,e_(n)):(Zt=0,Vn=null,to(e,n,f,7));break;case 5:var y=null;switch(kt.tag){case 26:y=kt.memoizedState;case 5:case 27:var E=kt;if(y?j_(y):E.stateNode.complete){Zt=0,Vn=null;var R=E.sibling;if(R!==null)kt=R;else{var z=E.return;z!==null?(kt=z,vc(z)):kt=null}break e}}Zt=0,Vn=null,to(e,n,f,5);break;case 6:Zt=0,Vn=null,to(e,n,f,6);break;case 8:pd(),we=6;break t;default:throw Error(r(462))}}lb();break}catch(F){$y(e,F)}while(!0);return es=Xr=null,H.H=o,H.A=h,Xt=a,kt!==null?0:(oe=null,Lt=0,Pu(),we)}function lb(){for(;kt!==null&&!K();)t_(kt)}function t_(e){var n=Sy(e.alternate,e,hs);e.memoizedProps=e.pendingProps,n===null?vc(e):kt=n}function e_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:xf(n);default:Ry(a,n),n=kt=Wp(n,hs),n=Sy(a,n,hs)}e.memoizedProps=e.pendingProps,n===null?vc(e):kt=n}function to(e,n,a,o){es=Xr=null,xf(n),Ha=null,sl=0;var h=n.return;try{if($A(e,h,n,a,Lt)){we=1,ac(e,Fn(a,e.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;we=1,ac(e,Fn(a,e.current)),kt=null;return}n.flags&32768?(Ht||o===1?e=!0:$a||(Lt&536870912)!==0?e=!1:(Qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),n_(n,e)):vc(n)}function vc(e){var n=e;do{if((n.flags&32768)!==0){n_(n,Qs);return}e=n.return;var a=WA(n.alternate,n,hs);if(a!==null){kt=a;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=e}while(n!==null);we===0&&(we=5)}function n_(e,n){do{var a=tb(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);we=6,kt=null}function i_(e,n,a,o,h,f,y,E,R){e.cancelPendingCommit=null;do Ec();while(Ke!==0);if((Xt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=sf,Yh(e,a,f,y,E,R),e===oe&&(kt=oe=null,Lt=0),Za=n,Xs=e,fs=a,fd=f,dd=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fb(_t,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,y=Xt,Xt|=4;try{eb(e,n,a)}finally{Xt=y,nt.p=h,H.T=o}}Ke=1,s_(),r_(),a_()}}function s_(){if(Ke===1){Ke=0;var e=Xs,n=Za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{Py(n,e);var f=Cd,y=Fp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(R!==null&&Zh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),re=R.end===void 0?pt:Math.min(R.end,lt);!q.extend&&pt>re&&(y=re,re=pt,pt=y);var k=qp(E,pt),D=qp(E,re);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>re?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Oc=!!Id,Cd=Id=null}finally{Xt=h,nt.p=o,H.T=a}}e.current=n,Ke=2}}function r_(){if(Ke===2){Ke=0;var e=Xs,n=Za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{My(e,n.alternate,n)}finally{Xt=h,nt.p=o,H.T=a}}Ke=3}}function a_(){if(Ke===4||Ke===3){Ke=0,et();var e=Xs,n=Za,a=fs,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,Za=Xs=null,o_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ys=null),Xi(a),n=n.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Ce,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(fs&3)!==0&&Ec(),Li(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===md?Tl++:(Tl=0,md=e):Tl=0,Al(0)}}function o_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,nl(n)))}function Ec(){return s_(),r_(),a_(),l_()}function l_(){if(Ke!==5)return!1;var e=Xs,n=fd;fd=0;var a=Xi(fs),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=dd,dd=null;var f=Xs,y=fs;if(Ke=0,Za=Xs=null,fs=0,(Xt&6)!==0)throw Error(r(331));var E=Xt;if(Xt|=4,Hy(f.current),jy(f,f.current,y,a),Xt=E,Al(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Ce,f)}catch{}return!0}finally{nt.p=h,H.T=o,o_(e,n)}}function u_(e,n,a){n=Fn(a,n),n=Qf(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(Or(e,2),Li(e))}function Wt(e,n,a){if(e.tag===3)u_(e,e,a);else for(;n!==null;){if(n.tag===3){u_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){e=Fn(a,e),a=cy(2),o=qs(n,a,2),o!==null&&(hy(a,o,n,e),Or(o,2),Li(o));break}}n=n.return}}function yd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new sb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),e=ub.bind(null,e,n,a),n.then(e,e))}function ub(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(Lt&a)===a&&(we===4||we===3&&(Lt&62914560)===Lt&&300>ct()-mc?(Xt&2)===0&&Wa(e,0):cd|=a,Ja===Lt&&(Ja=0)),Li(e)}function c_(e,n){n===0&&(n=gu()),e=Qr(e,n),e!==null&&(Or(e,n),Li(e))}function cb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),c_(e,a)}function hb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),c_(e,a)}function fb(e,n){return Ie(e,n)}var Tc=null,eo=null,_d=!1,Ac=!1,vd=!1,Js=0;function Li(e){e!==eo&&e.next===null&&(eo===null?Tc=eo=e:eo=eo.next=e),Ac=!0,_d||(_d=!0,mb())}function Al(e,n){if(!vd&&Ac){vd=!0;do for(var a=!1,o=Tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m_(o,f))}else f=Lt,f=vi(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(a=!0,m_(o,f));o=o.next}while(a);vd=!1}}function db(){h_()}function h_(){Ac=_d=!1;var e=0;Js!==0&&Sb()&&(e=Js);for(var n=ct(),a=null,o=Tc;o!==null;){var h=o.next,f=f_(o,n);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(eo=a)):(a=o,(e!==0||(f&3)!==0)&&(Ac=!0)),o=h}Ke!==0&&Ke!==5||Al(e),Js!==0&&(Js=0)}function f_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ce(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=oe,a=Lt,a=vi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mi(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&mi(o),Xi(a)){case 2:case 8:a=qt;break;case 32:a=_t;break;case 268435456:a=Me;break;default:a=_t}return o=d_.bind(null,e),a=Ie(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&mi(o),e.callbackPriority=2,e.callbackNode=null,2}function d_(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ec()&&e.callbackNode!==a)return null;var o=Lt;return o=vi(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,n),f_(e,ct()),e.callbackNode!=null&&e.callbackNode===a?d_.bind(null,e):null)}function m_(e,n){if(Ec())return null;Yy(e,n,!0)}function mb(){Rb(function(){(Xt&6)!==0?Ie(Ae,db):h_()})}function Ed(){if(Js===0){var e=ja;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Js=e}return Js}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wa(""+e)}function g_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function pb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=p_((h[Xe]||null).action),y=o.submitter;y&&(n=(n=y[Xe]||null)?p_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var R=y?g_(h,y):new FormData(h);jf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?g_(h,y):new FormData(h),jf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Td=0;Td<nf.length;Td++){var Ad=nf[Td],gb=Ad.toLowerCase(),yb=Ad[0].toUpperCase()+Ad.slice(1);oi(gb,"on"+yb)}oi(Kp,"onAnimationEnd"),oi(Yp,"onAnimationIteration"),oi(Xp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(MA,"onTransitionRun"),oi(VA,"onTransitionStart"),oi(kA,"onTransitionCancel"),oi($p,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function y_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Lu(F)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Lu(F)}h.currentTarget=null,f=R}}}}function Ut(e,n){var a=n[Ea];a===void 0&&(a=n[Ea]=new Set);var o=e+"__bubble";a.has(o)||(__(n,e,2,!1),a.add(o))}function bd(e,n,a){var o=0;n&&(o|=4),__(a,e,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[bc]){e[bc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(_b.has(a)||bd(a,!1,e),bd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,bd("selectionchange",!1,n))}}function __(e,n,a,o){switch(K_(n)){case 2:var h=Qb;break;case 8:h=Kb;break;default:h=zd}a=h.bind(null,n,a,e),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function wd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=bi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Os(function(){var z=f,F=jn(a),$=[];t:{var j=Jp.get(e);if(j!==void 0){var q=Di,lt=e;switch(e){case"keypress":if(jr(a)===0)break t;case"keydown":case"keyup":q=Vu;break;case"focusin":lt="focus",q=qr;break;case"focusout":lt="blur",q=qr;break;case"beforeblur":case"afterblur":q=qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Kp:case Yp:case Xp:q=Iu;break;case $p:q=T;break;case"scroll":case"scrollend":q=Ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zi;break;case"toggle":case"beforetoggle":q=It}var pt=(n&4)!==0,re=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ii(D,k),Q!=null&&pt.push(Sl(D,Q,P))),re)break;D=D.return}0<pt.length&&(j=new q(j,lt,null,a,F),$.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Fo&&(lt=a.relatedTarget||a.fromElement)&&(bi(lt)||lt[Ti]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=z,lt=lt?bi(lt):null,lt!==null&&(re=c(lt),pt=lt.tag,lt!==re||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(pt=Yo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Zi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),re=q==null?j:Cn(q),P=lt==null?j:Cn(lt),j=new pt(Q,D+"leave",q,a,F),j.target=re,j.relatedTarget=P,Q=null,bi(F)===z&&(pt=new pt(k,D+"enter",lt,a,F),pt.target=P,pt.relatedTarget=re,Q=pt),re=Q,q&&lt)e:{for(pt=vb,k=q,D=lt,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ft=D;ft;ft=pt(ft))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;q!==null&&v_($,j,q,pt,!1),lt!==null&&re!==null&&v_($,re,lt,pt,!0)}}t:{if(j=z?Cn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Qt=Up;else if(Vp(j))if(Lp)Qt=DA;else{Qt=CA;var ut=IA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Sa(z.elementType)&&(Qt=Up):Qt=NA;if(Qt&&(Qt=Qt(e,z))){kp($,Qt,a,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Bo(j,"number",j.value)}switch(ut=z?Cn(z):window,e){case"focusin":(Vp(ut)||ut.contentEditable==="true")&&(Oa=ut,Wh=z,Wo=null);break;case"focusout":Wo=Wh=Oa=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Gp($,a,F);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":Gp($,a,F)}var Dt;if(Yt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else xa?Hr(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Mi&&a.locale!=="ko"&&(xa||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&xa&&(Dt=Qo()):(Ni=F,Go="value"in Ni?Ni.value:Ni.textContent,xa=!0)),ut=Sc(z,Pt),0<ut.length&&(Pt=new Oi(Pt,e,null,a,F),$.push({event:Pt,listeners:ut}),Dt?Pt.data=Dt:(Dt=Da(a),Dt!==null&&(Pt.data=Dt)))),(Dt=qn?bA(e,a):SA(e,a))&&(Pt=Sc(z,"onBeforeInput"),0<Pt.length&&(ut=new Oi("onBeforeInput","beforeinput",null,a,F),$.push({event:ut,listeners:Pt}),ut.data=Dt)),pb($,e,z,a,F)}y_($,n)})}function Sl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Sc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,a),h!=null&&o.unshift(Sl(e,h,f)),h=ii(e,n),h!=null&&o.push(Sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ii(a,f),z!=null&&y.unshift(Sl(a,z,R))):h||(z=ii(a,f),z!=null&&y.push(Sl(a,z,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Tb,"")}function T_(e,n){return n=E_(n),E_(e)===n}function se(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":Nn(e,"class",o);break;case"tabIndex":Nn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(e,a,o);break;case"style":Ho(e,o,f);break;case"data":if(n!=="object"){Nn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=wa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=wa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=wa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),Aa(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Aa(e,a,o))}}function Rd(e,n,a,o,h,f){switch(a){case"style":Ho(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Aa(e,a,o)}}}function sn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,f,y,a,null)}}h&&se(e,n,"srcSet",a.srcSet,a,null),o&&se(e,n,"src",a.src,a,null);return;case"input":Ut("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:se(e,n,o,F,a,null)}}Tu(e,f,E,R,z,y,h,!1);return;case"select":Ut("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:se(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?Cs(e,!!o,n,!1):a!=null&&Cs(e,!!o,a,!0);return;case"textarea":Ut("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:se(e,n,y,E,a,null)}Ns(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,R,o,a,null));return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ut(bl[o],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,z,o,a,null)}return;default:if(Sa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Rd(e,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&se(e,n,E,o,a,null))}function Ab(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,F=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(q)||se(e,n,q,null,o,$)}}for(var j in o){var q=o[j];if($=a[j],o.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==$&&se(e,n,j,q,o,$)}}ba(e,y,E,R,z,F,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&se(e,n,h,f,o,R)}n=E,a=y,o=q,j!=null?Cs(e,!!a,j,!1):!!o!=!!a&&(n!=null?Cs(e,!!a,n,!0):Cs(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&se(e,n,y,h,o,f)}Au(e,j,q);return;case"option":for(var lt in a)j=a[lt],a.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:se(e,n,lt,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&se(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:se(e,n,z,j,o,q)}return;default:if(Sa(n)){for(var re in a)j=a[re],a.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&Rd(e,n,re,void 0,o,j);for(F in o)j=o[F],q=a[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Rd(e,n,F,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,j);for($ in o)j=o[$],q=a[$],!o.hasOwnProperty($)||j===q||j==null&&q==null||se(e,n,$,j,o,q)}function A_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&A_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var F=R.transferSize,$=R.initiatorType;F&&A_($)&&(R=R.responseEnd,y+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Cd=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dd=null;function Sb(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(Ib)}:w_;function Ib(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function I_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ro(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);ro(n)}function C_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function Nb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xn(e.nextSibling),e===null))return null;return e}function N_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Db(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vd=null;function D_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Xn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function x_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function O_(e,n,a){switch(n=wc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ta(e)}var $n=new Map,M_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=nt.d;nt.d={f:xb,r:Ob,D:Mb,C:Vb,L:kb,m:Ub,X:Pb,S:Lb,M:zb};function xb(){var e=ds.f(),n=yc();return e||n}function Ob(e){var n=zn(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):ds.r(e)}var no=typeof document>"u"?null:document;function V_(e,n,a){var o=no;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",e),Le(n),o.head.appendChild(n)))}}function Mb(e){ds.D(e),V_("dns-prefetch",e,null)}function Vb(e,n){ds.C(e,n),V_("preconnect",e,n)}function kb(e,n,a){ds.L(e,n,a);var o=no;if(o&&e&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(e)+'"]';var f=h;switch(n){case"style":f=io(e);break;case"script":f=so(e)}$n.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),$n.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Rl(f))||n==="script"&&o.querySelector(Il(f))||(n=o.createElement("link"),sn(n,"link",e),Le(n),o.head.appendChild(n)))}}function Ub(e,n){ds.m(e,n);var a=no;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(e)}if(!$n.has(f)&&(e=b({rel:"modulepreload",href:e},n),$n.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),sn(o,"link",e),Le(o),a.head.appendChild(o)}}}function Lb(e,n,a){ds.S(e,n,a);var o=no;if(o&&e){var h=Si(o).hoistableStyles,f=io(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Rl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=$n.get(f))&&kd(e,a);var R=y=o.createElement("link");Le(R),sn(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Pb(e,n){ds.X(e,n);var a=no;if(a&&e){var o=Si(a).hoistableScripts,h=so(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=b({src:e,async:!0},n),(n=$n.get(h))&&Ud(e,n),f=a.createElement("script"),Le(f),sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zb(e,n){ds.M(e,n);var a=no;if(a&&e){var o=Si(a).hoistableScripts,h=so(e),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=$n.get(h))&&Ud(e,n),f=a.createElement("script"),Le(f),sn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k_(e,n,a,o){var h=(h=Rt.current)?Rc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=io(a.href),a=Si(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=io(a.href);var f=Si(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Rl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),f||jb(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(a),a=Si(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function io(e){return'href="'+yn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",a),Le(n),e.head.appendChild(n))}function so(e){return'[src="'+yn(e)+'"]'}function Il(e){return"script[async]"+e}function L_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return n.instance=o,Le(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Le(o),sn(o,"style",h),Ic(o,a.precedence,e),n.instance=o;case"stylesheet":h=io(a.href);var f=e.querySelector(Rl(h));if(f)return n.state.loading|=4,n.instance=f,Le(f),f;o=U_(a),(h=$n.get(h))&&kd(o,h),f=(e.ownerDocument||e).createElement("link"),Le(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),sn(f,"link",o),n.state.loading|=4,Ic(f,a.precedence,e),n.instance=f;case"script":return f=so(a.src),(h=e.querySelector(Il(f)))?(n.instance=h,Le(h),h):(o=a,(h=$n.get(f))&&(o=b({},a),Ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Le(h),sn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,a.precedence,e));return n.instance}function Ic(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cc=null;function P_(e,n,a){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(a,o)}else h=Cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Ai]||f[Ue]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function z_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Bb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=io(o.href),f=n.querySelector(Rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Le(f);return}f=n.ownerDocument||n,o=U_(o),(h=$n.get(h))&&kd(o,h),f=f.createElement("link"),Le(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),sn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Nc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function Hb(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ld===0&&(Ld=62500*bb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ld?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,n.forEach(Fb,e),Dc=null,Nc.call(e))}function Fb(e,n){if(!(n.state.loading&4)){var a=Dc.get(e);if(a)var o=a.get(null);else{a=new Map,Dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Cl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Gb(e,n,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function B_(e,n,a,o,h,f,y,E,R,z,F,$){return e=new Gb(e,n,a,y,R,z,F,$,E),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Ef(f),e}function q_(e){return e?(e=ka,e):ka}function H_(e,n,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=qs(e,o,n),a!==null&&(bn(a,e,n),al(a,e,n))}function F_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Pd(e,n){F_(e,n),(e=e.alternate)&&F_(e,n)}function G_(e){if(e.tag===13||e.tag===31){var n=Qr(e,67108864);n!==null&&bn(n,e,67108864),Pd(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var n=Un();n=Vr(n);var a=Qr(e,n);a!==null&&bn(a,e,n),Pd(e,n)}}var Oc=!0;function Qb(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,zd(e,n,a,o)}finally{nt.p=f,H.T=h}}function Kb(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,zd(e,n,a,o)}finally{nt.p=f,H.T=h}}function zd(e,n,a,o){if(Oc){var h=jd(o);if(h===null)wd(e,n,o,Mc,a),Y_(e,o);else if(Xb(h,e,n,a,o))o.stopPropagation();else if(Y_(e,o),n&4&&-1<Yb.indexOf(e)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=_i(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ce(y);E.entanglements[1]|=R,y&=~R}Li(f),(Xt&6)===0&&(pc=ct()+500,Al(0))}}break;case 31:case 13:E=Qr(f,2),E!==null&&bn(E,f,2),yc(),Pd(f,2)}if(f=jd(o),f===null&&wd(e,n,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else wd(e,n,o,null,a)}}function jd(e){return e=jn(e),Bd(e)}var Mc=null;function Bd(e){if(Mc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Ae:return 2;case qt:return 8;case _t:case ae:return 32;case Me:return 268435456;default:return 32}default:return 32}}var qd=!1,Ws=null,tr=null,er=null,Nl=new Map,Dl=new Map,nr=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,n){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function xl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&G_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Xb(e,n,a,o,h){switch(n){case"focusin":return Ws=xl(Ws,e,n,a,o,h),!0;case"dragenter":return tr=xl(tr,e,n,a,o,h),!0;case"mouseover":return er=xl(er,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,xl(Nl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,xl(Dl.get(f)||null,e,n,a,o,h)),!0}return!1}function X_(e){var n=bi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,ti(e.priority,function(){Q_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,ti(e.priority,function(){Q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Fo=o,a.target.dispatchEvent(o),Fo=null}else return n=zn(a),n!==null&&G_(n),e.blockedOn=a,!1;n.shift()}return!0}function $_(e,n,a){Vc(e)&&a.delete(n)}function $b(){qd=!1,Ws!==null&&Vc(Ws)&&(Ws=null),tr!==null&&Vc(tr)&&(tr=null),er!==null&&Vc(er)&&(er=null),Nl.forEach($_),Dl.forEach($_)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$b)))}var Uc=null;function J_(e){Uc!==e&&(Uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=zn(a);f!==null&&(e.splice(n,3),n-=3,jf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ro(e){function n(R){return kc(R,e)}Ws!==null&&kc(Ws,e),tr!==null&&kc(tr,e),er!==null&&kc(er,e),Nl.forEach(n),Dl.forEach(n);for(var a=0;a<nr.length;a++){var o=nr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Xe]||null;if(typeof f=="function")y||J_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Xe]||null)E=y.formAction;else if(Bd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),J_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(e){this._internalRoot=e}Lc.prototype.render=Hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();H_(a,o,e,n,null,null)},Lc.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;H_(e.current,2,null,e,null,null),yc(),n[Ti]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=yu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<nr.length&&n!==0&&n<nr[a].priority;a++);nr.splice(a,0,e),a===0&&X_(e)}};var W_=t.version;if(W_!=="19.2.3")throw Error(r(527,W_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Jb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Ce=Pc.inject(Jb),be=Pc}catch{}}return Ml.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ay,f=oy,y=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=B_(e,1,!1,null,null,a,o,null,h,f,y,Z_),e[Ti]=n.current,Sd(e),new Hd(n)},Ml.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ay,y=oy,E=ly,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=B_(e,1,!0,n,a??null,o,h,R,f,y,E,Z_),n.context=q_(null),a=n.current,o=Un(),o=Vr(o),h=Bs(o),h.callback=null,qs(a,h,o),a=o,n.current.lanes=a,Or(n,a),Li(n),e[Ti]=n.current,Sd(e),new Lc(n)},Ml.version="19.2.3",Ml}var uv;function oS(){if(uv)return Qd.exports;uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qd.exports=aS(),Qd.exports}var lS=oS();const uS=()=>{};var cv={};const K0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},cS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,A=c>>2,b=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,G=_&63;p||(G=64,d||(O=64)),r.push(i[A],i[b],i[O],i[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(K0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):cS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||b==null)throw new hS;const O=c<<2|g>>4;if(r.push(O),_!==64){const G=g<<4&240|_>>2;if(r.push(G),b!==64){const Z=_<<6&192|b;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(s){const t=K0(s);return Y0.encodeByteArray(t,!0)},sh=function(s){return fS(s).replace(/\./g,"")},X0=function(s){try{return Y0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mS=()=>dS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof cv>"u")return;const s=cv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&X0(s[1]);return t&&JSON.parse(t)},Ah=()=>{try{return uS()||mS()||pS()||gS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$0=s=>Ah()?.emulatorHosts?.[s],yS=s=>{const t=$0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},J0=()=>Ah()?.config,Z0=s=>Ah()?.[`_${s}`];class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function wo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(s){return(await fetch(s,{credentials:"include"})).ok}function vS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Bl={};function ES(){const s={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?s.emulator.push(t):s.prod.push(t);return s}function TS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let hv=!1;function tE(s,t){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Bl[s]===t||Bl[s]||hv)return;Bl[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=ES().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function p(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{hv=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=TS(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),At=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;g(gt),A(W,st);const Tt=_();p(At,mt),gt.append(At,Z,W,Tt),document.body.appendChild(gt)}c?(Z.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function bS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function DS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xS="FirebaseError";class Ts extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=xS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?OS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,g,r)}}function OS(s,t){return s.replace(MS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const MS=/\{\$([^}]+)}/g;function VS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ua(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(fv(c)&&fv(d)){if(!ua(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function fv(s){return s!==null&&typeof s=="object"}function su(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function kl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Ul(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function kS(s,t){const i=new US(s,t);return i.subscribe.bind(i)}class US{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");LS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}function Re(s){return s&&s._delegate?s._delegate:s}class ca{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ra="[DEFAULT]";class PS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new _S;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jS(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(s){return s===ra?void 0:s}function jS(s){return s.instantiationMode==="EAGER"}class BS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const qS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},HS=zt.INFO,FS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},GS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=FS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=HS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const QS=(s,t)=>t.some(i=>s instanceof i);let dv,mv;function KS(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,pm=new WeakMap,nE=new WeakMap,Jd=new WeakMap,Gm=new WeakMap;function XS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eE.set(i,s)}).catch(()=>{}),Gm.set(t,s),t}function $S(s){if(pm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,t)}let gm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return pm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function JS(s){gm=s(gm)}function ZS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Zd(this),t,...i);return nE.set(r,t.sort?t.sort():[t]),hr(r)}:YS().includes(s)?function(...t){return s.apply(Zd(this),t),hr(eE.get(this))}:function(...t){return hr(s.apply(Zd(this),t))}}function WS(s){return typeof s=="function"?ZS(s):(s instanceof IDBTransaction&&$S(s),QS(s,KS())?new Proxy(s,gm):s)}function hr(s){if(s instanceof IDBRequest)return XS(s);if(Jd.has(s))return Jd.get(s);const t=WS(s);return t!==s&&(Jd.set(s,t),Gm.set(t,s)),t}const Zd=s=>Gm.get(s);function t1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=hr(d);return r&&d.addEventListener("upgradeneeded",p=>{r(hr(d.result),p.oldVersion,p.newVersion,hr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const e1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],Wd=new Map;function pv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=n1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||e1.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Wd.set(t,c),c}JS(s=>({...s,get:(t,i,r)=>pv(t,i)||s.get(t,i,r),has:(t,i)=>!!pv(t,i)||s.has(t,i)}));class i1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(s1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function s1(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",gv="0.14.6";const ys=new Fm("@firebase/app"),r1="@firebase/app-compat",a1="@firebase/analytics-compat",o1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",d1="@firebase/data-connect",m1="@firebase/database-compat",p1="@firebase/functions",g1="@firebase/functions-compat",y1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",E1="@firebase/messaging-compat",T1="@firebase/performance",A1="@firebase/performance-compat",b1="@firebase/remote-config",S1="@firebase/remote-config-compat",w1="@firebase/storage",R1="@firebase/storage-compat",I1="@firebase/firestore",C1="@firebase/ai",N1="@firebase/firestore-compat",D1="firebase",x1="12.6.0";const _m="[DEFAULT]",O1={[ym]:"fire-core",[r1]:"fire-core-compat",[o1]:"fire-analytics",[a1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[c1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[d1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[p1]:"fire-fn",[g1]:"fire-fn-compat",[y1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[E1]:"fire-fcm-compat",[T1]:"fire-perf",[A1]:"fire-perf-compat",[b1]:"fire-rc",[S1]:"fire-rc-compat",[w1]:"fire-gcs",[R1]:"fire-gcs-compat",[I1]:"fire-fst",[N1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[D1]:"fire-js-all"};const rh=new Map,M1=new Map,vm=new Map;function yv(s,t){try{s.container.addComponent(t)}catch(i){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function yo(s){const t=s.name;if(vm.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;vm.set(t,s);for(const i of rh.values())yv(i,s);for(const i of M1.values())yv(i,s);return!0}function Qm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Jn(s){return s==null?!1:s.settings!==void 0}const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new iu("app","Firebase",V1);class k1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ro=x1;function iE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:_m,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=J0()),!i)throw fr.create("no-options");const c=rh.get(l);if(c){if(ua(i,c.options)&&ua(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new BS(l);for(const p of vm.values())d.addComponent(p);const g=new k1(i,r,d);return rh.set(l,g),g}function sE(s=_m){const t=rh.get(s);if(!t&&s===_m&&J0())return iE();if(!t)throw fr.create("no-app",{appName:s});return t}function dr(s,t,i){let r=O1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}yo(new ca(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const U1="firebase-heartbeat-database",L1=1,Kl="firebase-heartbeat-store";let tm=null;function rE(){return tm||(tm=t1(U1,L1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),tm}async function P1(s){try{const i=(await rE()).transaction(Kl),r=await i.objectStore(Kl).get(aE(s));return await i.done,r}catch(t){if(t instanceof Ts)ys.warn(t.message);else{const i=fr.create("idb-get",{originalErrorMessage:t?.message});ys.warn(i.message)}}}async function _v(s,t){try{const r=(await rE()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(t,aE(s)),await r.done}catch(i){if(i instanceof Ts)ys.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(r.message)}}}function aE(s){return`${s.name}!${s.options.appId}`}const z1=1024,j1=30;class B1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new H1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>j1){const l=F1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:i,unsentEntries:r}=q1(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ys.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function q1(s,t=z1){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Ev(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class H1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?DS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await P1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ev(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function F1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function G1(s){yo(new ca("platform-logger",t=>new i1(t),"PRIVATE")),yo(new ca("heartbeat",t=>new B1(t),"PRIVATE")),dr(ym,gv,s),dr(ym,gv,"esm2020"),dr("fire-js","")}G1("");var Q1="firebase",K1="12.7.0";dr(Q1,K1,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,oE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==S||(I[N]=U,V=!1)}this.g=I}var g={};function p(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return W(_(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var b=p(0),O=p(1),G=p(16777216);s=d.prototype,s.m=function(){if(st(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(st(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=Tt(I,S).g;I=mt(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=mt(this,C),st(C)?-1:Z(C)?0:1};function W(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return st(this)?W(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,S){return C.add(W(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,le=C.i(N)>>>16,de=C.i(N)&65535;I[2*V+2*N]+=w*de,At(I,2*V+2*N),I[2*V+2*N+1]+=U*de,At(I,2*V+2*N+1),I[2*V+2*N+1]+=w*le,At(I,2*V+2*N+1),I[2*V+2*N+2]+=U*le,At(I,2*V+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function At(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function gt(C,S){this.g=C,this.h=S}function Tt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new gt(b,b);if(st(C))return S=Tt(W(C),S),new gt(W(S.g),W(S.h));if(st(S))return S=Tt(C,W(S)),new gt(W(S.g),S.h);if(C.g.length>30){if(st(C)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=S;V.l(C)<=0;)I=ee(I),V=ee(V);var N=Ot(I,1),U=Ot(V,1);for(V=Ot(V,2),I=Ot(I,2);!Z(V);){var w=U.add(V);w.l(C)<=0&&(N=N.add(I),U=w),V=Ot(V,1),I=Ot(I,1)}return S=mt(C,N.j(S)),new gt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),w=U.j(S);st(w)||w.l(C)>0;)I-=V,U=_(I),w=U.j(S);Z(U)&&(U=O),N=N.add(U),C=mt(C,w)}return new gt(N,C)}s.B=function(C){return Tt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ee(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ot(C,S){const I=S>>5;S%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,mr=d}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,Ll,uE,Yc,Em,cE,hE,fE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[L].apply(T,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new st(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Ot=!1,C=new At,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){W(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(le,N),le.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Rt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),ve={};function ue(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,T,L);return null}return v=Dr(v),u&&u[de]?u.J(m,v,g(T)?!!T.capture:!1,L):Qi(u,m,v,!1,T,L)}function Qi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let It=Ki(u);if(It||(u[Vt]=It=new at(u)),v=It.add(m,v,T,tt,B),v.proxy)return v;if(T=bs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Pn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bs(){function u(v){return m.call(u.src,u.listener,v)}const m=Cr;return u}function Ss(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ss(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=Dr(v),u&&u[de]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&ws(v))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Pn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ki(m))?(yt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ht(u)}}}function Pn(u){return u in ve?ve[u]:ve[u]="on"+u}function Cr(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ws(u),u=v.call(T,m)}return u}function Ki(u){return u=u[Vt],u instanceof at?u:null}var Nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dr(u){return typeof u=="function"?u:(u[Nr]||(u[Nr]=function(m){return u.handleEvent(m)}),u[Nr])}function Te(){V.call(this),this.i=new at(this),this.M=this,this.G=null}b(Te,V),Te.prototype[de]=!0,Te.prototype.removeEventListener=function(u,m,v,T){Ss(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=mi(B,T,!0,m)&&L;if(B=m.g=u,L=mi(B,T,!0,m)&&L,L=mi(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=mi(B,T,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Te.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function mi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const It=tt.listener,Ne=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=It.call(Ne,T)!==!1&&L}}return L&&!T.defaultPrevented}function K(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function et(u){u.g=K(()=>{u.g=null,u.i&&(u.i=!1,et(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ct extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(u){V.call(this),this.h=u,this.g={}}b(Ft,V);var Ae=[];function qt(u){Mt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ws(m)},u),u.g={}}Ft.prototype.N=function(){Ft.Z.N.call(this),qt(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=d.JSON.stringify,ae=d.JSON.parse,Me=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pi(){}function gi(){}var Ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function be(){N.call(this,"d")}b(be,N);function Ve(){N.call(this,"c")}b(Ve,N);var ce={},Rs=null;function Yi(){return Rs=Rs||new Te}ce.Ia="serverreachability";function va(u){N.call(this,ce.Ia,u)}b(va,N);function yi(u){const m=Yi();Ie(m,new va(m))}ce.STAT_EVENT="statevent";function xr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(xr,N);function ke(u){const m=Yi();Ie(m,new xr(m,u))}ce.Ja="timingevent";function _i(u,m){N.call(this,ce.Ja,u),this.size=m}b(_i,N);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Kh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",It=B.split("&");for(let Yt=0;Yt<It.length;Yt++){var Ne=It[Yt].split("=");if(Ne.length>1){const ye=Ne[0];Ne=Ne[1];const qn=ye.split("_");tt=qn.length>=2&&qn[1]=="type"?tt+(ye+"="+Ne+"&"):tt+(ye+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function gu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function Ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(T?" "+T:"")})}function Or(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return _t(B)}catch{return m}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Vr(){}b(Vr,pi),Vr.prototype.g=function(){return new XMLHttpRequest},Vo=new Vr;function Xi(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Ue={},Xe={};function Ti(u,m,v){u.M=1,u.A=kr(Pe(m)),u.u=v,u.R=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),Ai(u),u.B=Pe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Sa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ei,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ct(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ae[0]=L.toString()),L=Ae);for(let B=0;B<L.length;B++){const tt=ue(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Kh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const It=si(this.g),Ne=this.g.ya(),Yt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||It!=4||Ne==7||(Ne==8||Yt<=0?yi(3):yi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Xh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,ke(12),Cn(this),zn(this);break t}}if(this.R){u=!0;let ye;for(;!this.K&&this.C<v.length;)if(ye=vu(this,v),ye==Xe){It==4&&(this.m=4,ke(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Ue){this.m=4,ke(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,ye,null),Si(this,ye);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,ke(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(tt),tt.P=!0,ke(11))}}else Ei(this.i,this.l,v,null),Si(this,v);It==4&&Cn(this),this.o&&!this.K&&(It==4?Cu(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Cn(this),zn(this)}}}catch{}};function Xh(u){if(!_u(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const T=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Xe:(v=Number(m.substring(v,T)),isNaN(v)?Ue:(T+=1,T+v>m.length?Xe:(m=m.slice(T,T+v),u.C=T+v,m)))}ti.prototype.cancel=function(){this.K=!0,Cn(this)};function Ai(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Or(this.i,this.B),this.M!=2&&(yi(),ke(17)),Cn(this),this.m=2,zn(this)):Ta(this,this.T-u)};function zn(u){u.j.I==0||u.K||Cu(u.j,u)}function Cn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Na(v),Vs(v);else break t;qr(v),ke(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&Na(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ye=Yt[0];if(!(ye<=v.K))if(v.K=ye,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const qn=Yt[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Mi=Yt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ri=Yt[5];ri!=null&&typeof ri=="number"&&ri>0&&(T=1.5*ri,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ai=u.g;if(ai){const Hr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var B=T.h;B.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Lo(B,B.h),B.h=null))}if(T.G){const Da=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(T.wa=Da,Jt(T.J,T.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=xu(T,T.L?T.ba:null,T.W),tt.L){Po(T.h,tt);var It=tt,Ne=T.O;Ne&&(It.H=Ne),It.D&&(bi(It),Ai(It)),T.g=tt}else Ru(T);v.i.length>0&&xi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Oi(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Oi(v,7):Ko(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}yi(4)}catch{}}var Le=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Lo(u,m){u.g?u.g.add(m):u.h=m}function Po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,$e(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,jo(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,$e(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Is(this,m[4]),this.h=Ii(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,ba,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Bo:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,Au)),u.join("")},Nn.prototype.resolve=function(u){const m=Pe(this);let v=!!u.j;v?$e(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Is(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const It=L[tt++];It=="."?T&&tt==L.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(It),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?jo(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pe(u){return new Nn(u)}function $e(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jo(u,m,v){m instanceof Ns?(u.i=m,wa(u.i,u.l)):(v||(m=Ur(m,Cs)),u.i=new Ns(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function kr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,Tu=/[#\?:]/g,Bo=/[#\?]/g,Cs=/[#\?@]/g,Au=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ns.prototype,s.add=function(u,m){_n(this),this.i=null,u=Ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){_n(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qo(u,m){return _n(u),m=Ds(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ho(u,m){_n(u);let v=[];if(typeof m=="string")qo(u,m)&&(v=v.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return _n(this),this.i=null,u=Ds(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Ds(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Xi(v);v=Ho(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Xi(v[B])),u.push(tt)}}return this.i=u.join("&")};function Su(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(bu(this,T),Sa(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const T=new Image;T.onload=A(jn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(jn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(jn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(jn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Fo(u,m){const v=new Wn,T=new AbortController,L=setTimeout(()=>{T.abort(),jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?jn(v,"TestPingServer: ok",!0,m):jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),jn(v,"TestPingServer: error",!1,m)})}function jn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function xs(){this.g=new Me}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ci,pi),Ci.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Lr,Te),s=Lr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):ii(this),this.readyState==3&&Ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},s.Na=function(u){this.g&&(this.response=u,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Mt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Bn(v),typeof u=="string"?v!=null&&Xi(v):Jt(u,m,v))}function ne(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,Te);var Ni=/^https?$/i,Go=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){zr(this,B)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Qo(u),$i(u)}function Qo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(Eu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ni.test(tt?tt.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Qo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ae(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=yu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}xt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ke(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),xi(this)};function Ko(u){if(Ia(u),u.I==3){var m=u.V++,v=Pe(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),Br(u,v),m=new ti(u,u.j,m),m.M=2,m.A=kr(Pe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Du(u)}function Vs(u){u.g&&(Xo(u),u.g.cancel(),u.g=null)}function Ia(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Uo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),Ot||(ee(),Ot=!0),C.add(m,u),u.D=0}}function Ca(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,L,m),v=Pe(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),Br(this,v),B&&(this.R?m="headers="+Xi(Bn(B))+"&"+m:this.u&&Pr(v,this.u,B)),Lo(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,Ti(L,v,null)):Ti(L,v,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||Uo(this.h)||Yo(this))};function Yo(u,m){var v;m?v=m.l:v=u.V++;const T=Pe(u.J);Jt(T,"SID",u.M),Jt(T,"RID",v),Jt(T,"AID",u.K),Br(u,T),u.u&&u.o&&Pr(T,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Lo(u.h,v),Ti(v,T,m)}function Br(u,m){u.H&&Mt(u.H,function(v,T){Jt(m,T,v)}),u.l&&Mt({},function(v,T){Jt(m,T,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const Ne=["count="+v];It==-1?v>0?(It=L[0].g,Ne.push("ofs="+It)):It=0:Ne.push("ofs="+It);let Yt=!0;for(let ye=0;ye<v;ye++){var B=L[ye].g;const qn=L[ye].map;if(B-=It,B<0)It=Math.max(0,L[ye].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var tt=qn instanceof Map?qn:Object.entries(qn);for(const[Mi,ri]of tt){let ai=ri;g(ri)&&(ai=_t(ri)),Ne.push(B+Mi+"="+encodeURIComponent(ai))}}catch(Mi){throw Ne.push(B+"type="+encodeURIComponent("_badmap")),Mi}}catch{T&&T(qn)}}if(Yt){tt=Ne.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),Ot||(ee(),Ot=!0),C.add(m,u),u.A=0}}function qr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Vs(this),Iu(this))};function Xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pe(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Br(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=kr(Pe(m)),v.u=null,v.R=!0,Ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),qr(this),ke(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Na(u),Xo(u),u.g=null;var T=2}else if(Ri(u.h,m))v=m.G,Po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Yi(),Ie(T,new _i(T,v)),xi(u)}else Ru(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ca(u,m)||T==2&&qr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Nn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$e(T,"https"),kr(T),L?ni(T.toString(),v):Fo(T.toString(),v)}else ke(2);u.I=0,u.l&&u.l.pa(m),Du(u),Ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=zo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var T=v instanceof Nn?Pe(v):new Nn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Nn(null);T&&$e(B,T),m&&(B.g=m),L&&Is(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Jt(T,v,m),Jt(T,"VER",u.ka),Br(u,T),T}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ci({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Te.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}b(pn,Te),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ko(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_t(u),u=v);m.i.push(new Le(m.Ya++,u)),m.I==3&&xi(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,pn.Z.N.call(this)};function Vu(u){be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Vu,be);function ku(){Ve.call(this),this.status=1}b(ku,Ve);function Zi(u){this.g=u}b(Zi,Mu),Zi.prototype.ra=function(){Ie(this.g,"a")},Zi.prototype.qa=function(u){Ie(this.g,new Vu(u))},Zi.prototype.pa=function(u){Ie(this.g,new ku)},Zi.prototype.oa=function(){Ie(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,fE=function(){return new ks},hE=function(){return Yi()},cE=ce,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Yc=Mr,Mo.COMPLETE="complete",uE=Mo,gi.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Ll=gi,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,lE=ne}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",bv="4.9.3";class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Io="12.7.0";const ha=new Fm("@firebase/firestore");function oo(){return ha.logLevel}function ot(s,...t){if(ha.logLevel<=zt.DEBUG){const i=t.map(Km);ha.debug(`Firestore (${Io}): ${s}`,...i)}}function _s(s,...t){if(ha.logLevel<=zt.ERROR){const i=t.map(Km);ha.error(`Firestore (${Io}): ${s}`,...i)}}function _o(s,...t){if(ha.logLevel<=zt.WARN){const i=t.map(Km);ha.warn(`Firestore (${Io}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Et(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,dE(s,r,i)}function dE(s,t,i){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw _s(r),new Error(r)}function $t(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||dE(t,l,r)}function wt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class X1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $1{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new mE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class J1{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z1{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new J1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=tw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function jt(s,t){return s<t?-1:s>t?1:0}function Tm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return em(l)===em(c)?jt(l,c):em(l)?1:-1}return jt(s.length,t.length)}const ew=55296,nw=57343;function em(s){const t=s.charCodeAt(0);return t>=ew&&t<=nw}function vo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const wv="__name__";class Pi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Et(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const r=Pi.isNumericId(t),l=Pi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mr.fromString(t.substring(4,t.length-2))}}class fe extends Pi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Pi{construct(t,i,r){return new ln(t,i,r)}static isValidIdentifier(t){return iw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new ln([wv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(i)}static emptyPath(){return new ln([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(fe.fromString(t))}static fromName(t){return new dt(fe.fromString(t).popFirst(5))}static empty(){return new dt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new fe(t.slice()))}}function pE(s,t,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function sw(s,t,i,r){if(t===!0&&r===!0)throw new rt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!dt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iv(s){if(dt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function hi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bh(s);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ge(s,t){const i={typeString:s};return t&&(i.value=t),i}function ru(s,t){if(!gE(s))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new rt(Y.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,Nv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Nv);return new ge(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Ge("string",ge._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ge(0,0))}static max(){return new bt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function rw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(r===1e9?new ge(i+1,0):new ge(i,r));return new yr(l,dt.empty(),t)}function aw(s){return new yr(s.readTime,s.key,Yl)}class yr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new yr(bt.min(),dt.empty(),Yl)}static max(){return new yr(bt.max(),dt.empty(),Yl)}}function ow(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Co(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==lw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>r(p)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(t[_]).next((A=>{d[_]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function cw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Xm=-1;function wh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function hw(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const yE="";function fw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Dv(t)),t=dw(s.get(i),t);return Dv(t)}function dw(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function Dv(s){return s+yE+""}function xv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Sr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function _E(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new on(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ye(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new Ye(ln.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return vo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(t);return new un(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new un(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if($t(!!s,39018),typeof s=="string"){let t=0;const i=mw.exec(s);if($t(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oe(s.seconds),nanos:Oe(s.nanos)}}function Oe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const EE="server_timestamp",TE="__type__",AE="__previous_value__",bE="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[TE]?.stringValue===EE}function Rh(s){const t=s.mapValue.fields[AE];return $m(t)?Rh(t):t}function Xl(s){const t=_r(s.mapValue.fields[bE].timestampValue);return new ge(t.seconds,t.nanos)}class pw{constructor(t,i,r,l,c,d,g,p,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const oh="(default)";class $l{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}const SE="__type__",gw="__max__",Bc={mapValue:{}},wE="__vector__",lh="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:_w(s)?9007199254740991:yw(s)?10:11:Et(28295,{value:s})}function Gi(s,t){if(s===t)return!0;const i=Er(s);if(i!==Er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xl(s).isEqual(Xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),g=_r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Oe(l.geoPointValue.latitude)===Oe(c.geoPointValue.latitude)&&Oe(l.geoPointValue.longitude)===Oe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Oe(l.integerValue)===Oe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Oe(l.doubleValue),g=Oe(c.doubleValue);return d===g?ah(d)===ah(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return vo(s.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(xv(d)!==xv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Gi(d[p],g[p])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function Jl(s,t){return(s.values||[]).find((i=>Gi(i,t)))!==void 0}function Eo(s,t){if(s===t)return 0;const i=Er(s),r=Er(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Oe(c.integerValue||c.doubleValue),p=Oe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return Mv(s.timestampValue,t.timestampValue);case 4:return Mv(Xl(s),Xl(t));case 5:return Tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=vr(c),p=vr(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=jt(g[_],p[_]);if(A!==0)return A}return jt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=jt(Oe(c.latitude),Oe(d.latitude));return g!==0?g:jt(Oe(c.longitude),Oe(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[lh]?.arrayValue,A=p[lh]?.arrayValue,b=jt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Vv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let b=0;b<p.length&&b<A.length;++b){const O=Tm(p[b],A[b]);if(O!==0)return O;const G=Eo(g[p[b]],_[A[b]]);if(G!==0)return G}return jt(p.length,A.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function Mv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=_r(s),r=_r(t),l=jt(i.seconds,r.seconds);return l!==0?l:jt(i.nanos,r.nanos)}function Vv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Eo(i[l],r[l]);if(c)return c}return jt(i.length,r.length)}function To(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=_r(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Am(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Am(i.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function Xc(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(s);return t?16+Xc(t):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sr(r.fields,((c,d)=>{l+=c.length+Xc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function kv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function bm(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function Uv(s){return!!s&&"nullValue"in s}function Lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function yw(s){return(s?.mapValue?.fields||{})[SE]?.stringValue===wE}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=ql(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ql(s.arrayValue.values[i]);return t}return{...s}}function _w(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gw}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!$c(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(i)}setAll(t){let i=ln.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=ql(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Sr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new wn(ql(this.value))}}function RE(s){const t=[];return Sr(s.fields,((i,r)=>{const l=new ln([i]);if($c(r)){const c=RE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Ln(t)}class dn{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new dn(t,0,bt.min(),bt.min(),bt.min(),wn.empty(),0)}static newFoundDocument(t,i,r,l){return new dn(t,1,i,bt.min(),r,l,0)}static newNoDocument(t,i){return new dn(t,2,i,bt.min(),bt.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new dn(t,3,i,bt.min(),bt.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,i){this.position=t,this.inclusive=i}}function Pv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=Eo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],t.position[i]))return!1;return!0}class Zl{constructor(t,i="asc"){this.field=t,this.dir=i}}function vw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class IE{}class Fe extends IE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Tw(t,i,r):i==="array-contains"?new Sw(t,r):i==="in"?new ww(t,r):i==="not-in"?new Rw(t,r):i==="array-contains-any"?new Iw(t,r):new Fe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Aw(t,r):new bw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Eo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(Eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends IE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new fi(t,i)}matches(t){return CE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(s){return s.op==="and"}function NE(s){return Ew(s)&&CE(s)}function Ew(s){for(const t of s.filters)if(t instanceof fi)return!1;return!0}function Sm(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+To(s.value);if(NE(s))return s.filters.map((t=>Sm(t))).join(",");{const t=s.filters.map((i=>Sm(i))).join(",");return`${s.op}(${t})`}}function DE(s,t){return s instanceof Fe?(function(r,l){return l instanceof Fe&&r.op===l.op&&r.field.isEqual(l.field)&&Gi(r.value,l.value)})(s,t):s instanceof fi?(function(r,l){return l instanceof fi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&DE(d,l.filters[g])),!0):!1})(s,t):void Et(19439)}function xE(s){return s instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${To(i.value)}`})(s):s instanceof fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(s):"Filter"}class Tw extends Fe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Aw extends Fe{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class bw extends Fe{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Sw extends Fe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Jm(i)&&Jl(i.arrayValue,this.value)}}class ww extends Fe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class Rw extends Fe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class Iw extends Fe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}class Cw{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function jv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new Cw(s,t,i,r,l,c,d)}function Zm(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Sm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),wh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>To(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>To(r))).join(",")),t.Te=i}return t.Te}function Wm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!DE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!zv(s.startAt,t.startAt)&&zv(s.endAt,t.endAt)}function wm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Do{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Nw(s,t,i,r,l,c,d,g){return new Do(s,t,i,r,l,c,d,g)}function tp(s){return new Do(s)}function Bv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ME(s){return s.collectionGroup!==null}function Hl(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ye(ln.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zl(c,r))})),i.has(ln.keyField().canonicalString())||t.Ie.push(new Zl(ln.keyField(),r))}return t.Ie}function zi(s){const t=wt(s);return t.Ee||(t.Ee=Dw(t,Hl(s))),t.Ee}function Dw(s,t){if(s.limitType==="F")return jv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zl(l.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return jv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Rm(s,t){const i=s.filters.concat([t]);return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,t,i){return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ih(s,t){return Wm(zi(s),zi(t))&&s.limitType===t.limitType}function VE(s){return`${Zm(zi(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>xE(l))).join(", ")}]`),wh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>To(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>To(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Ch(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Hl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=Pv(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Hl(r),l)||r.endAt&&!(function(d,g,p){const _=Pv(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Hl(r),l))})(s,t)}function xw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kE(s){return(t,i)=>{let r=!1;for(const l of Hl(s)){const c=Ow(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Ow(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Eo(p,_):Et(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}class ga{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Sr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const Mw=new Ee(dt.comparator);function vs(){return Mw}const UE=new Ee(dt.comparator);function Pl(...s){let t=UE;for(const i of s)t=t.insert(i.key,i);return t}function LE(s){let t=UE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function aa(){return Fl()}function PE(){return Fl()}function Fl(){return new ga((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Vw=new Ee(dt.comparator),kw=new Ye(dt.comparator);function Bt(...s){let t=kw;for(const i of s)t=t.add(i);return t}const Uw=new Ye(jt);function Lw(){return Uw}function ep(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function zE(s){return{integerValue:""+s}}function Pw(s,t){return hw(t)?zE(t):ep(s,t)}class Nh{constructor(){this._=void 0}}function zw(s,t,i){return s instanceof Wl?(function(l,c){const d={fields:{[TE]:{stringValue:EE},[bE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Rh(c)),c&&(d.fields[AE]=c),{mapValue:d}})(i,t):s instanceof tu?BE(s,t):s instanceof eu?qE(s,t):(function(l,c){const d=jE(l,c),g=qv(d)+qv(l.Ae);return bm(d)&&bm(l.Ae)?zE(g):ep(l.serializer,g)})(s,t)}function jw(s,t,i){return s instanceof tu?BE(s,t):s instanceof eu?qE(s,t):i}function jE(s,t){return s instanceof ch?(function(r){return bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Wl extends Nh{}class tu extends Nh{constructor(t){super(),this.elements=t}}function BE(s,t){const i=HE(t);for(const r of s.elements)i.some((l=>Gi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class eu extends Nh{constructor(t){super(),this.elements=t}}function qE(s,t){let i=HE(t);for(const r of s.elements)i=i.filter((l=>!Gi(l,r)));return{arrayValue:{values:i}}}class ch extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function qv(s){return Oe(s.integerValue||s.doubleValue)}function HE(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Bw{constructor(t,i){this.field=t,this.transform=i}}function qw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof tu&&l instanceof tu||r instanceof eu&&l instanceof eu?vo(r.elements,l.elements,Gi):r instanceof ch&&l instanceof ch?Gi(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,t.transform)}class Hw{constructor(t,i){this.version=t,this.transformResults=i}}class Rn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Dh{}function FE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new xh(s.key,Rn.none()):new au(s.key,s.data,Rn.none());{const i=s.data,r=wn.empty();let l=new Ye(ln.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new wr(s.key,r,new Ln(l.toArray()),Rn.none())}}function Fw(s,t,i){s instanceof au?(function(l,c,d){const g=l.value.clone(),p=Fv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof wr?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Fv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(GE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Gl(s,t,i,r){return s instanceof au?(function(c,d,g,p){if(!Jc(c.precondition,d))return g;const _=c.value.clone(),A=Gv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof wr?(function(c,d,g,p){if(!Jc(c.precondition,d))return g;const _=Gv(c.fieldTransforms,p,d),A=d.data;return A.setAll(GE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,g){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function Gw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=jE(r.transform,l||null);c!=null&&(i===null&&(i=wn.empty()),i.set(r.field,c))}return i||null}function Hv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&vo(r,l,((c,d)=>qw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends Dh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends Dh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Fv(s,t,i){const r=new Map;$t(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,jw(d,g,i[l]))}return r}function Gv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,zw(c,d,t))}return r}class xh extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Fw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Gl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Gl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=PE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=FE(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&vo(this.mutations,t.mutations,((i,r)=>Hv(i,r)))&&vo(this.baseMutations,t.baseMutations,((i,r)=>Hv(i,r)))}}class np{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){$t(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Vw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new np(t,i,r,l)}}class Yw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Xw{constructor(t,i){this.count=t,this.unchangedNames=i}}var He,Gt;function $w(s){switch(s){case Y.OK:return Et(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function QE(s){if(s===void 0)return _s("GRPC error has no .code"),Y.UNKNOWN;switch(s){case He.OK:return Y.OK;case He.CANCELLED:return Y.CANCELLED;case He.UNKNOWN:return Y.UNKNOWN;case He.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case He.INTERNAL:return Y.INTERNAL;case He.UNAVAILABLE:return Y.UNAVAILABLE;case He.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case He.NOT_FOUND:return Y.NOT_FOUND;case He.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case He.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case He.ABORTED:return Y.ABORTED;case He.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case He.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case He.DATA_LOSS:return Y.DATA_LOSS;default:return Et(39323,{code:s})}}(Gt=He||(He={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function Jw(){return new TextEncoder}const Zw=new mr([4294967295,4294967295],0);function Qv(s){const t=Jw().encode(s),i=new oE;return i.update(t),new Uint8Array(i.digest())}function Kv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new mr([i,r],0),new mr([l,c],0)]}class ip{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=mr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(mr.fromNumber(r)));return l.compare(Zw)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Qv(t),[r,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ip(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Qv(t),[r,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Oh(bt.min(),l,new Ee(jt),vs(),Bt())}}class ou{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ou(r,i,Bt(),Bt(),Bt())}}class Zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class KE{constructor(t,i){this.targetId=t,this.Ce=i}}class YE{constructor(t,i,r=un.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Xv(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Et(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Xv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=vs(),this.Je=qc(),this.He=qc(),this.Ye=new Ee(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(r===0){const d=new dt(c.path);this.et(i,d,dn.newNoDocument(d,bt.min()))}else $t(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=vr(r).toUint8Array()}catch(p){if(p instanceof vE)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new ip(d,l,c)}catch(p){return _o(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&wm(g.target)){const p=new dt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,dn.newNoDocument(p,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Bt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Oh(t,i,this.Ye,this.je,r);return this.je=vs(),this.Je=qc(),this.He=qc(),this.Ye=new Ee(jt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Yv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ye(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ye(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function qc(){return new Ee(dt.comparator)}function Xv(){return new Ee(dt.comparator)}const tR={asc:"ASCENDING",desc:"DESCENDING"},eR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class iR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Cm(s,t){return s.useProto3Json||wh(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function sR(s,t){return hh(s,t.toTimestamp())}function ji(s){return $t(!!s,49232),bt.fromTimestamp((function(i){const r=_r(i);return new ge(r.seconds,r.nanos)})(s))}function sp(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function $E(s){const t=fe.fromString(s);return $t(eT(t),10190,{key:t.toString()}),t}function Dm(s,t){return sp(s.databaseId,t.path)}function nm(s,t){const i=$E(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(ZE(i))}function JE(s,t){return sp(s.databaseId,t)}function rR(s){const t=$E(s);return t.length===4?fe.emptyPath():ZE(t)}function xm(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ZE(s){return $t(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $v(s,t,i){return{name:Dm(s,t),fields:i.value.mapValue.fields}}function aR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?($t(A===void 0||typeof A=="string",58123),un.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),un.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:QE(_.code);return new rt(A,_.message||"")})(d);i=new YE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=nm(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):bt.min(),g=new wn({mapValue:{fields:r.document.fields}}),p=dn.newFoundDocument(l,c,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Zc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=nm(s,r.document),c=r.readTime?ji(r.readTime):bt.min(),d=dn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=nm(s,r.document),c=r.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Xw(l,c),g=r.targetId;i=new KE(g,d)}}return i}function oR(s,t){let i;if(t instanceof au)i={update:$v(s,t.key,t.value)};else if(t instanceof xh)i={delete:Dm(s,t.key)};else if(t instanceof wr)i={update:$v(s,t.key,t.data),updateMask:gR(t.fieldMask)};else{if(!(t instanceof Qw))return Et(16599,{Vt:t.type});i={verify:Dm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(s,t.precondition)),i}function lR(s,t){return s&&s.length>0?($t(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(bt.min())&&(d=ji(c)),new Hw(d,l.transformResults||[])})(i,t)))):[]}function uR(s,t){return{documents:[JE(s,t.path)]}}function cR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=JE(s,l);const c=(function(_){if(_.length!==0)return tT(fi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:uo(O.field),direction:dR(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Cm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function hR(s){let t=rR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$t(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const O=WE(b);return O instanceof fi&&NE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(Z){return new Zl(co(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,wh(O)?null:O})(i.limit));let p=null;i.startAt&&(p=(function(b){const O=!!b.before,G=b.values||[];return new uh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const O=!b.before,G=b.values||[];return new uh(G,O)})(i.endAt)),Nw(t,l,d,c,g,"F",p,_)}function fR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=co(i.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=co(i.unaryFilter.field);return Fe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=co(i.unaryFilter.field);return Fe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Fe.create(co(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return fi.create(i.compositeFilter.filters.map((r=>WE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(s):Et(30097,{filter:s})}function dR(s){return tR[s]}function mR(s){return eR[s]}function pR(s){return nR[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return ln.fromServerFormat(s.fieldPath)}function tT(s){return s instanceof Fe?(function(i){if(i.op==="=="){if(Lv(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NAN"}};if(Uv(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Lv(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NAN"}};if(Uv(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(i.field),op:mR(i.op),value:i.value}}})(s):s instanceof fi?(function(i){const r=i.getFilters().map((l=>tT(l)));return r.length===1?r[0]:{compositeFilter:{op:pR(i.op),filters:r}}})(s):Et(54877,{filter:s})}function gR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class cr{constructor(t,i,r,l,c=bt.min(),d=bt.min(),g=un.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yR{constructor(t){this.yt=t}}function _R(s){const t=hR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(t,t.limit,"L"):t}class vR{constructor(){this.Cn=new ER}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(yr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class ER{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ye(fe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ye(fe.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(nT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const Zv="LruGarbageCollector",TR=1048576;function Wv([s,t],[i,r]){const l=jt(s,i);return l===0?jt(t,r):l}class AR{constructor(t){this.Ir=t,this.buffer=new Ye(Wv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Wv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?ot(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await Co(i)}await this.Vr(3e5)}))}}class SR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Sh.ce);const r=new AR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Jv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),oo()<=zt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function wR(s,t){return new SR(s,t)}class RR{constructor(){this.changes=new ga((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class IR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class CR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Gl(r.mutation,l,Ln.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const l=aa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Pl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=aa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=vs();const d=Fl(),g=(function(){return Fl()})();return i.forEach(((p,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof wr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Gl(A.mutation,_,A.mutation.getFieldMask(),ge.now())):d.set(_.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new IR(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Fl();let l=new Ee(((d,g)=>d-g)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let A=r.get(p)||Ln.empty();A=g.applyToLocalView(_,A),r.set(p,A);const b=(l.get(g.batchId)||Bt()).add(p);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,b=PE();A.forEach((O=>{if(!c.has(O)){const G=FE(i.get(O),r.get(O));G!==null&&b.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ME(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(aa());let g=Yl,p=c;return d.next((_=>J.forEach(_,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{p=p.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,p,_,Bt()))).next((A=>({batchId:g,changes:LE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=Pl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(p=>{const _=(function(b,O){return new Do(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,dn.newInvalidDocument(A)))}));let g=Pl();return d.forEach(((p,_)=>{const A=c.get(p);A!==void 0&&Gl(A.mutation,_,Ln.empty(),ge.now()),Ch(i,_)&&(g=g.insert(p,_))})),g}))}}class NR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:_R(l.bundledQuery),readTime:ji(l.readTime)}})(i)),J.resolve()}}class DR{constructor(){this.overlays=new Ee(dt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=aa();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=aa(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Ee(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=aa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=aa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return J.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Yw(i,r));let c=this.qr.get(i);c===void 0&&(c=Bt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class xR{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class rp{constructor(){this.Qr=new Ye(Ze.$r),this.Ur=new Ye(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ze(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new fe([])),r=new Ze(i,t),l=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new fe([])),r=new Ze(i,t),l=new Ze(i,t+1);let c=Bt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class OR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Ze.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Kw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ze(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ze(i,0),l=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ye(jt);return i.forEach((l=>{const c=new Ze(l,0),d=new Ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new dt(c),0);let g=new Ye(jt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Ze(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ze(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class MR{constructor(t){this.ri=t,this.docs=(function(){return new Ee(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(t,i){let r=vs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():dn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=vs();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ow(aw(A),r)<=0||(l.has(A.key)||Ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){Et(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new VR(this)}getSize(t){return J.resolve(this.size)}}class VR extends RR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class kR{constructor(t){this.persistence=t,this.si=new ga((i=>Zm(i)),Wm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new rp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class iT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new xR,this.referenceDelegate=t(this),this.Pi=new kR(this),this.indexManager=new vR,this.remoteDocumentCache=(function(l){return new MR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yR(i),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new DR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new OR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new UR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class UR extends uw{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new rp,this.Vi=null}static mi(t){return new ap(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new ga((r=>fw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=wR(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class op{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Bt(),l=Bt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(t,i.fromCache,r,l)}}class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CS()?8:cw(mn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new LR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(oo()<=zt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(oo()<=zt.DEBUG&&ot("QueryEngine","Query:",lo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(oo()<=zt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):J.resolve())}ys(t,i){if(Bv(i))return J.resolve(null);let r=zi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Im(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Bt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(t,Im(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,r,l){return Bv(i)||l.isEqual(bt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(oo()<=zt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),lo(i)),this.vs(t,d,i,rw(l,Yl)).next((g=>g)))}))}Ds(t,i){let r=new Ye(kE(t));return i.forEach(((l,c)=>{Ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return oo()<=zt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(t,i,yr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",zR=3e8;class jR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(jt),this.xs=new ga((c=>Zm(c)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function BR(s,t,i,r){return new jR(s,t,i,r)}async function sT(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let p=Bt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function qR(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,A){const b=_.batch,O=b.keys();let G=J.resolve();return O.forEach((Z=>{G=G.next((()=>A.getEntry(p,Z))).next((st=>{const W=_.docVersions.get(Z);$t(W!==null,48541),st.version.compareTo(W)<0&&(b.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Bt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function rT(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function HR(s,t){const i=wt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,b)=>{const O=l.get(b);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(un.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),l=l.insert(b,G),(function(st,W,mt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=zR?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(O,G,A)&&g.push(i.Pi.updateTargetData(c,G))}));let p=vs(),_=Bt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(FR(c,d,t.documentUpdates).next((A=>{p=A.ks,_=A.qs}))),!r.isEqual(bt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function FR(s,t,i){let r=Bt(),l=Bt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=vs();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ot(lp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function GR(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function QR(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new cr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Om(s,t,i){const r=wt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;ot(lp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function t0(s,t,i){const r=wt(s);let l=bt.min(),c=Bt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,A){const b=wt(p),O=b.xs.get(A);return O!==void 0?J.resolve(b.Ms.get(O)):b.Pi.getTargetData(_,A)})(r,d,zi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Bt()))).next((g=>(KR(r,xw(t),g),{documents:g,Qs:c})))))}function KR(s,t,i){let r=s.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class e0{constructor(){this.activeTargetIds=Lw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YR{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XR{Oo(t){}shutdown(){}}const n0="ConnectivityMonitor";class i0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(n0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(n0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Mm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const im="RestConnection",$R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Mm(),g=this.zo(t,i.toUriEncodedString());ot(im,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),A=wo(_);return this.Jo(t,g,p,r,A).then((b=>(ot(im,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw _o(im,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=$R[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class ZR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const hn="WebChannelConnection";class WR extends JR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Mm();return new Promise(((g,p)=>{const _=new lE;_.setWithCredentials(!0),_.listenOnce(uE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yc.NO_ERROR:const b=_.getResponseJson();ot(hn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Yc.TIMEOUT:ot(hn,`RPC '${t}' ${d} timed out`),p(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const O=_.getStatus();if(ot(hn,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const st=(function(mt){const At=mt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(At)>=0?At:Y.UNKNOWN})(Z.status);p(new rt(st,Z.message))}else p(new rt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(hn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(hn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fE(),g=hE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const A=c.join("");ot(hn,`Creating RPC '${t}' stream ${l}: ${A}`,p);const b=d.createWebChannel(A,p);this.I_(b);let O=!1,G=!1;const Z=new ZR({Yo:W=>{G?ot(hn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(ot(hn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),ot(hn,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),st=(W,mt,At)=>{W.listen(mt,(gt=>{try{At(gt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return st(b,Ll.EventType.OPEN,(()=>{G||(ot(hn,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),st(b,Ll.EventType.CLOSE,(()=>{G||(G=!0,ot(hn,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(b))})),st(b,Ll.EventType.ERROR,(W=>{G||(G=!0,_o(hn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),st(b,Ll.EventType.MESSAGE,(W=>{if(!G){const mt=W.data[0];$t(!!mt,16349);const At=mt,gt=At?.error||At[0]?.error;if(gt){ot(hn,`RPC '${t}' stream ${l} received error:`,gt);const Tt=gt.status;let ee=(function(S){const I=He[S];if(I!==void 0)return QE(I)})(Tt),Ot=gt.message;ee===void 0&&(ee=Y.INTERNAL,Ot="Unknown error status: "+Tt+" with message "+gt.message),G=!0,Z.a_(new rt(ee,Ot)),b.close()}else ot(hn,`RPC '${t}' stream ${l} received:`,mt),Z.u_(mt)}})),st(g,cE.STAT_EVENT,(W=>{W.stat===Em.PROXY?ot(hn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Em.NOPROXY&&ot(hn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function Mh(s){return new iR(s,!0)}class aT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const s0="PersistentStream";class oT{constructor(t,i,r,l,c,d,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(s0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tI extends oT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=aR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ji(d.readTime):bt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=wm(p)?{documents:uR(c,p)}:{query:cR(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(c,d.resumeToken);const _=Cm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=Cm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=fR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.q_(i)}}class eI extends oT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=lR(t.writeResults,t.commitTime),r=ji(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=xm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>oR(this.serializer,r)))};this.q_(i)}}class nI{}class iI extends nI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Nm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fa="RemoteStore";class rI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ya(this)&&(ot(fa,"Restarting streams for network reachability change."),await(async function(p){const _=wt(p);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Ra=new sI(r,l)}}async function Vh(s){if(ya(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function lT(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),fp(i)?hp(i):xo(i).O_()&&cp(i,t))}function up(s,t){const i=wt(s),r=xo(i);i.Ia.delete(t),r.O_()&&uT(i,t),i.Ia.size===0&&(r.O_()?r.L_():ya(i)&&i.Ra.set("Unknown"))}function cp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}xo(s).Y_(t)}function uT(s,t){s.Va.Ue(t),xo(s).Z_(t)}function hp(s){s.Va=new Ww({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),xo(s).start(),s.Ra.ua()}function fp(s){return ya(s)&&!xo(s).x_()&&s.Ia.size>0}function ya(s){return wt(s).Ea.size===0}function cT(s){s.Va=void 0}async function aI(s){s.Ra.set("Online")}async function oI(s){s.Ia.forEach(((t,i)=>{cp(s,t)}))}async function lI(s,t){cT(s),fp(s)?(s.Ra.ha(t),hp(s)):s.Ra.set("Unknown")}async function uI(s,t,i){if(s.Ra.set("Online"),t instanceof YE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){ot(fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Zc?s.Va.Ze(t):t instanceof KE?s.Va.st(t):s.Va.tt(t),!i.isEqual(bt.min()))try{const r=await rT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const A=c.Ia.get(p);if(!A)return;c.Ia.set(p,A.withResumeToken(un.EMPTY_BYTE_STRING,A.snapshotVersion)),uT(c,p);const b=new cr(A.target,p,_,A.sequenceNumber);cp(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ot(fa,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,i){if(!No(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>rT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(fa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function hT(s,t){return t().catch((i=>dh(s,i,t)))}async function kh(s){const t=wt(s),i=Tr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;cI(t);)try{const l=await GR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,hI(t,l)}catch(l){await dh(t,l)}fT(t)&&dT(t)}function cI(s){return ya(s)&&s.Ta.length<10}function hI(s,t){s.Ta.push(t);const i=Tr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function fT(s){return ya(s)&&!Tr(s).x_()&&s.Ta.length>0}function dT(s){Tr(s).start()}async function fI(s){Tr(s).ra()}async function dI(s){const t=Tr(s);for(const i of s.Ta)t.ea(i.mutations)}async function mI(s,t,i){const r=s.Ta.shift(),l=np.from(r,t,i);await hT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function pI(s,t){t&&Tr(s).X_&&await(async function(r,l){if((function(d){return $w(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();Tr(r).B_(),await hT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(r)}})(s,t),fT(s)&&dT(s)}async function r0(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),ot(fa,"RemoteStore received new credentials");const r=ya(i);i.Ea.add(3),await lu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Vh(i)}async function gI(s,t){const i=wt(s);t?(i.Ea.delete(2),await Vh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function xo(s){return s.ma||(s.ma=(function(i,r,l){const c=wt(i);return c.sa(),new tI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:aI.bind(null,s),t_:oI.bind(null,s),r_:lI.bind(null,s),H_:uI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),fp(s)?hp(s):s.Ra.set("Unknown")):(await s.ma.stop(),cT(s))}))),s.ma}function Tr(s){return s.fa||(s.fa=(function(i,r,l){const c=wt(i);return c.sa(),new eI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fI.bind(null,s),r_:pI.bind(null,s),ta:dI.bind(null,s),na:mI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(fa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new dp(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(s,t){if(_s("AsyncQueue",`${t}: ${s}`),No(s))return new rt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new fo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class a0{constructor(){this.ga=new Ee(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class bo{constructor(t,i,r,l,c,d,g,p,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new bo(t,i,fo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class yI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _I{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=wt(i),c=l.queries;l.queries=o0(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function o0(){return new ga((s=>VE(s)),Ih)}async function mT(s,t){const i=wt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new yI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=mp(d,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pp(i)}async function pT(s,t){const i=wt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function vI(s,t){const i=wt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&pp(i)}function EI(s,t,i){const r=wt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function pp(s){s.Ca.forEach((t=>{t.next()}))}var Vm,l0;(l0=Vm||(Vm={})).Ma="default",l0.Cache="cache";class gT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}class yT{constructor(t){this.key=t}}class _T{constructor(t){this.key=t}}class TI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=kE(t),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new a0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const O=l.get(A),G=Ch(this.query,b)?b:null,Z=!!O&&this.mutatedKeys.has(O.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;O&&G?O.data.isEqual(G.data)?Z!==st&&(r.track({type:3,doc:G}),W=!0):this.su(O,G)||(r.track({type:2,doc:G}),W=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(g=!0)):!O&&G?(r.track({type:0,doc:G}),W=!0):O&&!G&&(r.track({type:1,doc:O}),W=!0,(p||_)&&(g=!0)),W&&(G?(d=d.add(G),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,Z){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return st(G)-st(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new bo(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new _T(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new yT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gp="SyncEngine";class AI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class bI{constructor(t){this.key=t,this.hu=!1}}class SI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((g=>VE(g)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(dt.comparator),this.Au=new Map,this.Ru=new rp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wI(s,t,i=!0){const r=ST(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await vT(r,t,i,!0),l}async function RI(s,t){const i=ST(s);await vT(i,t,!0,!1)}async function vT(s,t,i,r){const l=await QR(s.localStore,zi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await II(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&lT(s.remoteStore,l),g}async function II(s,t,i,r,l){s.pu=(b,O,G)=>(async function(st,W,mt,At){let gt=W.view.ru(mt);gt.Cs&&(gt=await t0(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,gt))));const Tt=At&&At.targetChanges.get(W.targetId),ee=At&&At.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(gt,st.isPrimaryClient,Tt,ee);return c0(st,W.targetId,Ot.au),Ot.snapshot})(s,b,O,G);const c=await t0(s.localStore,t,!0),d=new TI(t,c.Qs),g=d.ru(c.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);c0(s,i,_.au);const A=new AI(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function CI(s,t,i){const r=wt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ih(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&up(r.remoteStore,l.targetId),km(r,l.targetId)})).catch(Co)):(km(r,l.targetId),await Om(r.localStore,l.targetId,!0))}async function NI(s,t){const i=wt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),up(i.remoteStore,r.targetId))}async function DI(s,t,i){const r=LI(s);try{const l=await(function(d,g){const p=wt(d),_=ge.now(),A=g.reduce(((G,Z)=>G.add(Z.key)),Bt());let b,O;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=vs(),st=Bt();return p.Ns.getEntries(G,A).next((W=>{Z=W,Z.forEach(((mt,At)=>{At.isValidDocument()||(st=st.add(mt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,Z))).next((W=>{b=W;const mt=[];for(const At of g){const gt=Gw(At,b.get(At.key).overlayedDocument);gt!=null&&mt.push(new wr(At.key,gt,RE(gt.value.mapValue),Rn.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,mt,g)})).next((W=>{O=W;const mt=W.applyToLocalDocumentSet(b,st);return p.documentOverlayCache.saveOverlays(G,W.batchId,mt)}))})).then((()=>({batchId:O.batchId,changes:LE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ee(jt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await uu(r,l.changes),await kh(r.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");i.reject(c)}}async function ET(s,t){const i=wt(s);try{const r=await HR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$t(d.hu,14607):l.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await uu(i,r,t)}catch(r){await Co(r)}}function u0(s,t,i){const r=wt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=wt(d);p.onlineState=g;let _=!1;p.queries.forEach(((A,b)=>{for(const O of b.Sa)O.va(g)&&(_=!0)})),_&&pp(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xI(s,t,i){const r=wt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Ee(dt.comparator);d=d.insert(c,dn.newNoDocument(c,bt.min()));const g=Bt().add(c),p=new Oh(bt.min(),new Map,new Ee(jt),d,g);await ET(r,p),r.du=r.du.remove(c),r.Au.delete(t),yp(r)}else await Om(r.localStore,t,!1).then((()=>km(r,t,i))).catch(Co)}async function OI(s,t){const i=wt(s),r=t.batch.batchId;try{const l=await qR(i.localStore,t);AT(i,r,null),TT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uu(i,l)}catch(l){await Co(l)}}async function MI(s,t,i){const r=wt(s);try{const l=await(function(d,g){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next((b=>($t(b!==null,37113),A=b.keys(),p.mutationQueue.removeMutationBatch(_,b)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>p.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);AT(r,t,i),TT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await uu(r,l)}catch(l){await Co(l)}}function TT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function AT(s,t,i){const r=wt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function km(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||bT(s,r)}))}function bT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(up(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),yp(s))}function c0(s,t,i){for(const r of i)r instanceof yT?(s.Ru.addReference(r.key,t),VI(s,r)):r instanceof _T?(ot(gp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||bT(s,r.key)):Et(19791,{wu:r})}function VI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(gp,"New document in limbo: "+i),s.Eu.add(r),yp(s))}function yp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(fe.fromString(t)),r=s.fu.next();s.Au.set(r,new bI(i)),s.du=s.du.insert(i,r),lT(s.remoteStore,new cr(zi(tp(i.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function uu(s,t,i){const r=wt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){l.push(_);const A=op.As(p.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const A=wt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(_,(O=>J.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(b,O.targetId,G))).next((()=>J.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(b,O.targetId,G)))))))))}catch(b){if(!No(b))throw b;ot(lp,"Failed to update sequence numbers: "+b)}for(const b of _){const O=b.targetId;if(!b.fromCache){const G=A.Ms.get(O),Z=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(O,st)}}})(r.localStore,c))}async function kI(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){ot(gp,"User change. New user:",t.toKey());const r=await sT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(i,r.Ls)}}function UI(s,t){const i=wt(s),r=i.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let l=Bt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ST(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xI.bind(null,t),t.Pu.H_=vI.bind(null,t.eventManager),t.Pu.yu=EI.bind(null,t.eventManager),t}function LI(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MI.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return BR(this.persistence,new PR,t.initialUser,this.serializer)}Cu(t){return new iT(ap.mi,this.serializer)}Du(t){return new YR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class PI extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new iT((r=>fh.mi(r,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _I})()}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),r=(function(c){return new WR(c)})(t.databaseInfo);return(function(c,d,g,p){return new iI(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new rI(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>u0(this.syncEngine,i,0)),(function(){return i0.v()?new i0:new XR})())}createSyncEngine(t,i){return(function(l,c,d,g,p,_,A){const b=new SI(l,c,d,g,p,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=wt(i);ot(fa,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class wT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ar="FirestoreClient";class zI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=mp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function rm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await sT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function h0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await jI(s);ot(Ar,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>r0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>r0(t.remoteStore,l))),s._onlineComponents=t}async function jI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(Ar,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;_o("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new mh)}}else ot(Ar,"Using default OfflineComponentProvider"),await rm(s,new PI(void 0));return s._offlineComponents}async function RT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(Ar,"Using user provided OnlineComponentProvider"),await h0(s,s._uninitializedComponentsProvider._online)):(ot(Ar,"Using default OnlineComponentProvider"),await h0(s,new Um))),s._onlineComponents}function BI(s){return RT(s).then((t=>t.syncEngine))}async function Lm(s){const t=await RT(s),i=t.eventManager;return i.onListen=wI.bind(null,t.syncEngine),i.onUnlisten=CI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=RI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=NI.bind(null,t.syncEngine),i}function qI(s,t,i={}){const r=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const A=new wT({next:O=>{A.Nu(),d.enqueueAndForget((()=>pT(c,b))),O.fromCache&&p.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),b=new gT(g,A,{includeMetadataChanges:!0,qa:!0});return mT(c,b)})(await Lm(s),s.asyncQueue,t,i,r))),r.promise}function IT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const f0=new Map;const CT="firestore.googleapis.com",d0=!0;class m0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=d0}else this.host=t.host,this.ssl=t.ssl??d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TR)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Y1;switch(r.type){case"firstParty":return new Z1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=f0.get(i);r&&(ot("ComponentProvider","Removing Datastore"),f0.delete(i),r.terminate())})(this),Promise.resolve()}}function HI(s,t,i,r={}){s=hi(s,Uh);const l=wo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(W0(`https://${g}`),tE("Firestore",!0)),c.host!==CT&&c.host!==g&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!ua(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=fn.MOCK_USER;else{_=vS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fn(b)}s._authCredentials=new X1(new mE(_,A))}}class Rr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Rr(this.firestore,t,this._query)}}class Qe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ru(i,Qe._jsonSchema))return new Qe(t,r||null,new dt(fe.fromString(i.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:Ge("string",Qe._jsonSchemaVersion),referencePath:Ge("string")};class gr extends Rr{constructor(t,i,r){super(t,i,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new dt(t))}withConverter(t){return new gr(this.firestore,t,this._path)}}function rn(s,t,...i){if(s=Re(s),pE("collection","path",t),s instanceof Uh){const r=fe.fromString(t,...i);return Iv(r),new gr(s,null,r)}{if(!(s instanceof Qe||s instanceof gr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Iv(r),new gr(s.firestore,null,r)}}function an(s,t,...i){if(s=Re(s),arguments.length===1&&(t=Ym.newId()),pE("doc","path",t),s instanceof Uh){const r=fe.fromString(t,...i);return Rv(r),new Qe(s,null,new dt(r))}{if(!(s instanceof Qe||s instanceof gr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(fe.fromString(t,...i));return Rv(r),new Qe(s.firestore,s instanceof gr?s.converter:null,new dt(r))}}const p0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&ot(p0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!No(t))throw t;ot(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",y0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=dp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function y0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function _0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class br extends Uh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function FI(s,t){const i=typeof s=="object"?s:sE(),r=typeof s=="string"?s:oh,l=Qm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=yS("firestore");c&&HI(l,...c)}return l}function Lh(s){if(s._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GI(s),s._firestoreClient}function GI(s){const t=s._freezeSettings(),i=(function(l,c,d,g){return new pw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,IT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new zI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(un.fromBase64String(t))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ge("string",Zn._jsonSchemaVersion),bytes:Ge("string")};class cu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ph{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ge("string",Bi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ge("string",qi._jsonSchemaVersion),vectorValues:Ge("object")};const QI=/^__.*__$/;class KI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}class NT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new wr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function DT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class _p{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _p({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(DT(this.Ac)&&QI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class YI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(t)}Cc(t,i,r,l=!1){return new _p({Ac:t,methodName:i,Dc:r,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(s){const t=s._freezeSettings(),i=Mh(s._databaseId);return new YI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function xT(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ep("Data must be an object, but it was:",d,r);const g=VT(r,d);let p,_;if(c.merge)p=new Ln(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const O=Pm(t,b,i);if(!d.contains(O))throw new rt(Y.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);UT(A,O)||A.push(O)}p=new Ln(A),_=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,_=d.fieldTransforms;return new KI(new wn(g),p,_)}class jh extends Ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}class vp extends Ph{_toFieldTransform(t){return new Bw(t.path,new Wl)}isEqual(t){return t instanceof vp}}function OT(s,t,i,r){const l=s.Cc(1,t,i);Ep("Data must be an object, but it was:",l,r);const c=[],d=wn.empty();Sr(r,((p,_)=>{const A=Tp(t,p,i);_=Re(_);const b=l.yc(A);if(_ instanceof jh)c.push(A);else{const O=hu(_,b);O!=null&&(c.push(A),d.set(A,O))}}));const g=new Ln(c);return new NT(d,g,l.fieldTransforms)}function MT(s,t,i,r,l,c){const d=s.Cc(1,t,i),g=[Pm(t,r,i)],p=[l];if(c.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Pm(t,c[O])),p.push(c[O+1]);const _=[],A=wn.empty();for(let O=g.length-1;O>=0;--O)if(!UT(_,g[O])){const G=g[O];let Z=p[O];Z=Re(Z);const st=d.yc(G);if(Z instanceof jh)_.push(G);else{const W=hu(Z,st);W!=null&&(_.push(G),A.set(G,W))}}const b=new Ln(_);return new NT(A,b,d.fieldTransforms)}function XI(s,t,i,r=!1){return hu(i,s.Cc(r?4:3,t))}function hu(s,t){if(kT(s=Re(s)))return Ep("Unsupported field value:",t,s),VT(s,t);if(s instanceof Ph)return(function(r,l){if(!DT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let p=hu(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ge.fromDate(r);return{timestampValue:hh(l.serializer,c)}}if(r instanceof ge){const c=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:XE(l.serializer,r._byteString)};if(r instanceof Qe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof qi)return(function(d,g){return{mapValue:{fields:{[SE]:{stringValue:wE},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return ep(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bh(r)}`)})(s,t)}function VT(s,t){const i={};return _E(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sr(s,((r,l)=>{const c=hu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function kT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ge||s instanceof Bi||s instanceof Zn||s instanceof Qe||s instanceof Ph||s instanceof qi)}function Ep(s,t,i){if(!kT(i)||!gE(i)){const r=bh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Pm(s,t,i){if((t=Re(t))instanceof cu)return t._internalPath;if(typeof t=="string")return Tp(s,t);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const $I=new RegExp("[~\\*/\\[\\]]");function Tp(s,t,i){if(t.search($I)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cu(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new rt(Y.INVALID_ARGUMENT,g+s+p)}function UT(s,t){return s.some((i=>i.isEqual(t)))}class LT{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Bh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JI extends LT{data(){return super.data()}}function Bh(s,t){return typeof t=="string"?Tp(s,t):t instanceof cu?t._internalPath:t._delegate._internalPath}function PT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class zT extends Ap{}function Fc(s,t,...i){let r=[];t instanceof Ap&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((p=>p instanceof bp)).length,g=c.filter((p=>p instanceof qh)).length;if(d>1||d>0&&g>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class qh extends zT{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new qh(t,i,r)}_apply(t){const i=this._parse(t);return jT(t._query,i),new Rr(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=zh(t.firestore);return(function(c,d,g,p,_,A,b){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){T0(b,A);const Z=[];for(const st of b)Z.push(E0(p,c,st));O={arrayValue:{values:Z}}}else O=E0(p,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||T0(b,A),O=XI(g,d,b,A==="in"||A==="not-in");return Fe.create(_,A,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function ZI(s,t,i){const r=t,l=Bh("where",s);return qh._create(l,r,i)}class bp extends Ap{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new bp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:fi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)jT(d,p),d=Rm(d,p)})(t._query,i),new Rr(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends zT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Sp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(c,d)})(t._query,this._field,this._direction);return new Rr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Do(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function v0(s,t="asc"){const i=t,r=Bh("orderBy",s);return Sp._create(r,i)}function E0(s,t,i){if(typeof(i=Re(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(t)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(fe.fromString(i));if(!dt.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kv(s,new dt(r))}if(i instanceof Qe)return kv(s,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(i)}.`)}function T0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class WI{convertValue(t,i="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Sr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[lh].arrayValue?.values?.map((r=>Oe(r.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Oe(t.latitude),Oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Rh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const i=_r(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);$t(eT(r),9688,{name:t});const l=new $l(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function BT(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class jl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends LT{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ge("string",oa._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Wc extends oa{data(t={}){return super.data(t)}}class la{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new jl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:t2(g.type),doc:p,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=la._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function t2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ge("string",la._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class wp extends WI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,i)}}function e2(s){s=hi(s,Rr);const t=hi(s.firestore,br),i=Lh(t),r=new wp(t);return PT(s._query),qI(i,s._query).then((l=>new la(t,r,s,l)))}function A0(s,t,i,...r){s=hi(s,Qe);const l=hi(s.firestore,br),c=zh(l);let d;return d=typeof(t=Re(t))=="string"||t instanceof cu?MT(c,"updateDoc",s._key,t,i,r):OT(c,"updateDoc",s._key,t),Hh(l,[d.toMutation(s._key,Rn.exists(!0))])}function n2(s){return Hh(hi(s.firestore,br),[new xh(s._key,Rn.none())])}function Gc(s,t){const i=hi(s.firestore,br),r=an(s),l=BT(s.converter,t);return Hh(i,[xT(zh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function am(s,...t){s=Re(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||_0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_0(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let c,d,g;if(s instanceof Qe)d=hi(s.firestore,br),g=tp(s._key.path),c={next:p=>{t[r]&&t[r](i2(d,s,p))},error:t[r+1],complete:t[r+2]};else{const p=hi(s,Rr);d=hi(p.firestore,br),g=p._query;const _=new wp(d);c={next:A=>{t[r]&&t[r](new la(d,_,p,A))},error:t[r+1],complete:t[r+2]},PT(s._query)}return(function(_,A,b,O){const G=new wT(O),Z=new gT(A,G,b);return _.asyncQueue.enqueueAndForget((async()=>mT(await Lm(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>pT(await Lm(_),Z)))}})(Lh(d),g,l,c)}function Hh(s,t){return(function(r,l){const c=new pr;return r.asyncQueue.enqueueAndForget((async()=>DI(await BI(r),l,c))),c.promise})(Lh(s),t)}function i2(s,t,i){const r=i.docs.get(t._key),l=new wp(s);return new oa(s,l,t._key,r,new jl(i.hasPendingWrites,i.fromCache),t.converter)}class s2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=zh(t)}set(t,i,r){this._verifyNotCommitted();const l=om(t,this._firestore),c=BT(l.converter,i,r),d=xT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,Rn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=om(t,this._firestore);let d;return d=typeof(i=Re(i))=="string"||i instanceof cu?MT(this._dataReader,"WriteBatch.update",c._key,i,r,l):OT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Rn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=om(t,this._firestore);return this._mutations=this._mutations.concat(new xh(i._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(s,t){if((s=Re(s)).firestore!==t)throw new rt(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Qc(){return new vp("serverTimestamp")}function ao(s){return Lh(s=hi(s,br)),new s2(s,(t=>Hh(s,t)))}(function(t,i=!0){(function(l){Io=l})(Ro),yo(new ca("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new br(new $1(r.getProvider("auth-internal")),new W1(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),dr(Av,bv,t),dr(Av,bv,"esm2020")})();function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=qT,HT=new iu("auth","Firebase",qT());const gh=new Fm("@firebase/auth");function a2(s,...t){gh.logLevel<=zt.WARN&&gh.warn(`Auth (${Ro}): ${s}`,...t)}function th(s,...t){gh.logLevel<=zt.ERROR&&gh.error(`Auth (${Ro}): ${s}`,...t)}function di(s,...t){throw Rp(s,...t)}function Hi(s,...t){return Rp(s,...t)}function FT(s,t,i){const r={...r2(),[t]:i};return new iu("auth","Firebase",r).create(t,{appName:s.name})}function gs(s){return FT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return HT.create(s,...t)}function vt(s,t,...i){if(!s)throw Rp(t,...i)}function ms(s){const t="INTERNAL ASSERTION FAILED: "+s;throw th(t),new Error(t)}function Es(s,t){s||ms(t)}function zm(){return typeof self<"u"&&self.location?.href||""}function o2(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}function l2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o2()||wS()||"connection"in navigator)?navigator.onLine:!0}function u2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Es(i>t,"Short delay should be less than long delay!"),this.isMobile=AS()||RS()}get(){return l2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ip(s,t){Es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class GT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const h2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f2=new fu(3e4,6e4);function Ir(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function As(s,t,i,r,l={}){return QT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=su({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...c};return SS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&wo(s.emulatorConfig.host)&&(_.credentials="include"),GT.fetch()(await KT(s,s.config.apiHost,i,g),_)})}async function QT(s,t,i){s._canInitEmulator=!1;const r={...c2,...t};try{const l=new m2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Kc(s,"user-disabled",d);const A=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw FT(s,A,_);di(s,A)}}catch(l){if(l instanceof Ts)throw l;di(s,"network-request-failed",{message:String(l)})}}async function du(s,t,i,r,l={}){const c=await As(s,t,i,r,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function KT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Ip(s.config,l):`${s.config.apiScheme}://${l}`;return h2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function d2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),f2.get())})}}function Kc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Hi(s,t,r);return l.customData._tokenResponse=i,l}function S0(s){return s!==void 0&&s.enterprise!==void 0}class p2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return d2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g2(s,t){return As(s,"GET","/v2/recaptchaConfig",Ir(s,t))}async function y2(s,t){return As(s,"POST","/v1/accounts:delete",t)}async function yh(s,t){return As(s,"POST","/v1/accounts:lookup",t)}function Ql(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _2(s,t=!1){const i=Re(s),r=await i.getIdToken(t),l=Cp(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ql(lm(l.auth_time)),issuedAtTime:Ql(lm(l.iat)),expirationTime:Ql(lm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(s){return Number(s)*1e3}function Cp(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=X0(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function w0(s){const t=Cp(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function So(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ts&&v2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function v2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class E2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(s){const t=s.auth,i=await s.getIdToken(),r=await So(s,yh(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?YT(l.providerUserInfo):[],d=A2(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function T2(s){const t=Re(s);await _h(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function YT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function b2(s,t){const i=await QT(s,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await KT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&wo(s.emulatorConfig.host)&&(p.credentials="include"),GT.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function S2(s,t){return As(s,"POST","/v2/accounts:revokeToken",Ir(s,t))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=w0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await b2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new mo;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ms("not implemented")}}function sr(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await So(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return _2(this,t)}reload(){return T2(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(gs(this.auth));const t=await this.getIdToken();return await So(this,y2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:G,providerData:Z,stsTokenManager:st}=i;vt(b&&st,t,"internal-error");const W=mo.fromJSON(this.name,st);vt(typeof b=="string",t,"internal-error"),sr(r,t.name),sr(l,t.name),vt(typeof O=="boolean",t,"internal-error"),vt(typeof G=="boolean",t,"internal-error"),sr(c,t.name),sr(d,t.name),sr(g,t.name),sr(p,t.name),sr(_,t.name),sr(A,t.name);const mt=new ci({uid:b,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(At=>({...At}))),p&&(mt._redirectEventId=p),mt}static async _fromIdTokenResponse(t,i,r=!1){const l=new mo;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await _h(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?YT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new mo;g.updateFromIdToken(r);const p=new ci({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const R0=new Map;function ps(s){Es(s instanceof Function,"Expected a class definition");let t=R0.get(s);return t?(Es(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,R0.set(s,t),t)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}XT.type="NONE";const I0=XT;function eh(s,t,i){return`firebase:${s}:${t}:${i}`}class po{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=eh(this.userKey,l.apiKey,c),this.fullPersistenceKey=eh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await yh(this.auth,{idToken:t}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new po(ps(I0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ps(I0);const d=eh(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const O=await yh(t,{idToken:A}).catch(()=>{});if(!O)break;b=await ci._fromGetAccountInfoResponse(t,O,A)}else b=ci._fromJSON(t,A);_!==c&&(g=b),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new po(c,t,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new po(c,t,r))}}function C0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eA(t))return"Blackberry";if(nA(t))return"Webos";if(JT(t))return"Safari";if((t.includes("chrome/")||ZT(t))&&!t.includes("edge/"))return"Chrome";if(tA(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function $T(s=mn()){return/firefox\//i.test(s)}function JT(s=mn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZT(s=mn()){return/crios\//i.test(s)}function WT(s=mn()){return/iemobile/i.test(s)}function tA(s=mn()){return/android/i.test(s)}function eA(s=mn()){return/blackberry/i.test(s)}function nA(s=mn()){return/webos/i.test(s)}function Np(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function w2(s=mn()){return Np(s)&&!!window.navigator?.standalone}function R2(){return IS()&&document.documentMode===10}function iA(s=mn()){return Np(s)||tA(s)||nA(s)||eA(s)||/windows phone/i.test(s)||WT(s)}function sA(s,t=[]){let i;switch(s){case"Browser":i=C0(mn());break;case"Worker":i=`${C0(mn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${r}`}class I2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function C2(s,t={}){return As(s,"GET","/v2/passwordPolicy",Ir(s,t))}const N2=6;class D2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??N2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class x2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await yh(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await _h(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=u2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(gs(this));const i=t?Re(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await C2(this),i=new D2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new iu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await S2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ps(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&a2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _a(s){return Re(s)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=kS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O2(s){Fh=s}function rA(s){return Fh.loadJS(s)}function M2(){return Fh.recaptchaEnterpriseScript}function V2(){return Fh.gapiScript}function k2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class U2{constructor(){this.enterprise=new L2}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class L2{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const P2="recaptcha-enterprise",aA="NO_RECAPTCHA";class z2{constructor(t){this.type=P2,this.auth=_a(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{g2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new p2(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;S0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(aA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&S0(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=M2();p.length!==0&&(p+=g),rA(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function D0(s,t,i,r=!1,l=!1){const c=new z2(s);let d;if(l)d=aA;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Bm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await D0(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D0(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function j2(s,t){const i=Qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ua(c,t??{}))return l;di(l,"already-initialized")}return i.initialize({options:t})}function B2(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ps);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function q2(s,t,i){const r=_a(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=oA(t),{host:d,port:g}=H2(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(ua(_,r.config.emulator)&&ua(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,wo(d)?(W0(`${c}//${d}${p}`),tE("Auth",!0)):F2()}function oA(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function H2(s){const t=oA(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:x0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:x0(d)}}}function x0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function F2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(t){return ms("not implemented")}_linkToIdToken(t,i){return ms("not implemented")}_getReauthenticationResolver(t){return ms("not implemented")}}async function G2(s,t){return As(s,"POST","/v1/accounts:signUp",t)}async function Q2(s,t){return du(s,"POST","/v1/accounts:signInWithPassword",Ir(s,t))}async function K2(s,t){return du(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,t))}async function Y2(s,t){return du(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,t))}class nu extends Dp{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new nu(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new nu(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,i,"signInWithPassword",Q2);case"emailLink":return K2(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,r,"signUpPassword",G2);case"emailLink":return Y2(t,{idToken:i,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function go(s,t){return du(s,"POST","/v1/accounts:signInWithIdp",Ir(s,t))}const X2="http://localhost";class da extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new da(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return go(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,go(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,go(t,i)}buildRequest(){const t={requestUri:X2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=su(i)}return t}}function $2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J2(s){const t=kl(Ul(s)).link,i=t?kl(Ul(t)).deep_link_id:null,r=kl(Ul(s)).deep_link_id;return(r?kl(Ul(r)).link:null)||r||i||t||s}class xp{constructor(t){const i=kl(Ul(t)),r=i.apiKey??null,l=i.oobCode??null,c=$2(i.mode??null);vt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=J2(t);try{return new xp(i)}catch{return null}}}class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(t,i){return nu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=xp.parseLink(i);return vt(r,"argument-error"),nu._fromEmailAndCode(t,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class mu extends lA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ar extends mu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return da._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return or.credential(i,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends mu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends mu{constructor(){super("twitter.com")}static credential(t,i){return da._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function Z2(s,t){return du(s,"POST","/v1/accounts:signUp",Ir(s,t))}class ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ci._fromIdTokenResponse(t,r,l),d=O0(r);return new ma({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=O0(r);return new ma({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function O0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends Ts{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new vh(t,i,r,l)}}function uA(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,c,t,r):c})}async function W2(s,t,i=!1){const r=await So(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ma._forOperation(s,"link",r)}async function tC(s,t,i=!1){const{auth:r}=s;if(Jn(r.app))return Promise.reject(gs(r));const l="reauthenticate";try{const c=await So(s,uA(r,l,t,s),i);vt(c.idToken,r,"internal-error");const d=Cp(c.idToken);vt(d,r,"internal-error");const{sub:g}=d;return vt(s.uid===g,r,"user-mismatch"),ma._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function cA(s,t,i=!1){if(Jn(s.app))return Promise.reject(gs(s));const r="signIn",l=await uA(s,r,t),c=await ma._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function eC(s,t){return cA(_a(s),t)}async function hA(s){const t=_a(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function nC(s,t,i){if(Jn(s.app))return Promise.reject(gs(s));const r=_a(s),d=await Bm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&hA(s),p}),g=await ma._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function iC(s,t,i){return Jn(s.app)?Promise.reject(gs(s)):eC(Re(s),Oo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hA(s),r})}async function sC(s,t){return As(s,"POST","/v1/accounts:update",t)}async function rC(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=Re(s),c={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await So(r,sC(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function aC(s,t,i,r){return Re(s).onIdTokenChanged(t,i,r)}function oC(s,t,i){return Re(s).beforeAuthStateChanged(t,i)}function lC(s,t,i,r){return Re(s).onAuthStateChanged(t,i,r)}function uC(s){return Re(s).signOut()}const Eh="__sak";class fA{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const cC=1e3,hC=10;class dA extends fA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);R2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,hC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dA.type="LOCAL";const fC=dA;class mA extends fA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mA.type="SESSION";const pA=mA;function dC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await dC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Op(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class mC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Op("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function pC(s){Fi().location.href=s}function gA(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function gC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yC(){return navigator?.serviceWorker?.controller||null}function _C(){return gA()?self:null}const yA="firebaseLocalStorageDb",vC=1,Th="firebaseLocalStorage",_A="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qh(s,t){return s.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function EC(){const s=indexedDB.deleteDatabase(yA);return new pu(s).toPromise()}function qm(){const s=indexedDB.open(yA,vC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Th,{keyPath:_A})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Th)?t(r):(r.close(),await EC(),t(await qm()))})})}async function M0(s,t,i){const r=Qh(s,!0).put({[_A]:t,value:i});return new pu(r).toPromise()}async function TC(s,t){const i=Qh(s,!1).get(t),r=await new pu(i).toPromise();return r===void 0?null:r.value}function V0(s,t){const i=Qh(s,!0).delete(t);return new pu(i).toPromise()}const AC=800,bC=3;class vA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>bC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(_C()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gC(),!this.activeServiceWorker)return;this.sender=new mC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qm();return await M0(t,Eh,"1"),await V0(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>M0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>TC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>V0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Qh(l,!1).getAll();return new pu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vA.type="LOCAL";const SC=vA;new fu(3e4,6e4);function wC(s,t){return t?ps(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mp extends Dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,i){return go(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function RC(s){return cA(s.auth,new Mp(s),s.bypassAuthState)}function IC(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),tC(i,new Mp(s),s.bypassAuthState)}async function CC(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),W2(i,new Mp(s),s.bypassAuthState)}class EA{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RC;case"linkViaPopup":case"linkViaRedirect":return CC;case"reauthViaPopup":case"reauthViaRedirect":return IC;default:di(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NC=new fu(2e3,1e4);class ho extends EA{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NC.get())};t()}}ho.currentPopupAction=null;const DC="pendingRedirect",nh=new Map;class xC extends EA{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const r=await OC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OC(s,t){const i=kC(t),r=VC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function MC(s,t){nh.set(s._key(),t)}function VC(s){return ps(s._redirectPersistence)}function kC(s){return eh(DC,s.config.apiKey,s.name)}async function UC(s,t,i=!1){if(Jn(s.app))return Promise.reject(gs(s));const r=_a(s),l=wC(r,t),d=await new xC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const LC=600*1e3;class PC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!TA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(t))}saveEventToCache(t){this.cachedEventUids.add(k0(t)),this.lastProcessedEventTime=Date.now()}}function k0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function TA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function zC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TA(s);default:return!1}}async function jC(s,t={}){return As(s,"GET","/v1/projects",t)}const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qC=/^https?/;async function HC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await jC(s);for(const i of t)try{if(FC(i))return}catch{}di(s,"unauthorized-domain")}function FC(s){const t=zm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!qC.test(i))return!1;if(BC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const GC=new fu(3e4,6e4);function U0(){const s=Fi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function QC(s){return new Promise((t,i)=>{function r(){U0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U0(),i(Hi(s,"network-request-failed"))},timeout:GC.get()})}if(Fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const l=k2("iframefcb");return Fi()[l]=()=>{gapi.load?r():i(Hi(s,"network-request-failed"))},rA(`${V2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw ih=null,t})}let ih=null;function KC(s){return ih=ih||QC(s),ih}const YC=new fu(5e3,15e3),XC="__/auth/iframe",$C="emulator/auth/iframe",JC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ip(t,$C):`https://${s.config.authDomain}/${XC}`,r={apiKey:t.apiKey,appName:s.name,v:Ro},l=ZC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${su(r).slice(1)}`}async function tN(s){const t=await KC(s),i=Fi().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:WC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),g=Fi().setTimeout(()=>{c(d)},YC.get());function p(){Fi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nN=500,iN=600,sN="_blank",rN="http://localhost";class L0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(s,t,i,r=nN,l=iN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...eN,width:r.toString(),height:l.toString(),top:c,left:d},_=mn().toLowerCase();i&&(g=ZT(_)?sN:i),$T(_)&&(t=t||rN,p.scrollbars="yes");const A=Object.entries(p).reduce((O,[G,Z])=>`${O}${G}=${Z},`,"");if(w2(_)&&g!=="_self")return oN(t||"",g),new L0(null);const b=window.open(t||"",g,A);vt(b,s,"popup-blocked");try{b.focus()}catch{}return new L0(b)}function oN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const lN="__/auth/handler",uN="emulator/auth/handler",cN=encodeURIComponent("fac");async function P0(s,t,i,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ro,eventId:l};if(t instanceof lA){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",VS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof mu){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await s._getAppCheckToken(),_=p?`#${cN}=${encodeURIComponent(p)}`:"";return`${hN(s)}?${su(g).slice(1)}${_}`}function hN({config:s}){return s.emulator?Ip(s,uN):`https://${s.authDomain}/${lN}`}const um="webStorageSupport";class fN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=UC,this._overrideRedirectResult=MC}async _openPopup(t,i,r,l){Es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await P0(t,i,r,zm(),l);return aN(t,c,Op())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await P0(t,i,r,zm(),l);return pC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await tN(t),r=new PC(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(um,{type:um},l=>{const c=l?.[0]?.[um];c!==void 0&&i(!!c),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iA()||JT()||Np()}}const dN=fN;var z0="@firebase/auth",j0="1.12.0";class mN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gN(s){yo(new ca("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(s)},_=new x2(r,l,c,p);return B2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),yo(new ca("auth-internal",t=>{const i=_a(t.getProvider("auth").getImmediate());return(r=>new mN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(z0,j0,pN(s)),dr(z0,j0,"esm2020")}const yN=300,_N=Z0("authIdTokenMaxAge")||yN;let B0=null;const vN=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>_N)return;const l=i?.token;B0!==l&&(B0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function EN(s=sE()){const t=Qm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=j2(s,{popupRedirectResolver:dN,persistence:[SC,fC,pA]}),r=Z0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=vN(c.toString());oC(i,d,()=>d(i.currentUser)),aC(i,g=>d(g))}}const l=$0("auth");return l&&q2(i,`http://${l}`),i}function TN(){return document.getElementsByTagName("head")?.[0]??document}O2({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Hi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",TN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gN("Browser");const AN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),q0=s=>{const t=bN(s);return t.charAt(0).toUpperCase()+t.slice(1)},AA=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),SN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RN=te.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},p)=>te.createElement("svg",{ref:p,...wN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:AA("lucide",l),...!c&&!SN(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>te.createElement(_,A)),...Array.isArray(c)?c:[c]]));const In=(s,t)=>{const i=te.forwardRef(({className:r,...l},c)=>te.createElement(RN,{ref:c,iconNode:t,className:AA(`lucide-${AN(q0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=q0(s),i};const IN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CN=In("arrow-left",IN);const NN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DN=In("arrow-right",NN);const xN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ON=In("circle-check-big",xN);const MN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VN=In("download",MN);const kN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cm=In("link",kN);const UN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],H0=In("loader-circle",UN);const LN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PN=In("log-out",LN);const zN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hm=In("plus",zN);const jN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],F0=In("refresh-cw",jN);const BN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G0=In("square-pen",BN);const qN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fm=In("trash-2",qN);const HN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Q0=In("upload",HN);const FN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dm=In("wallet",FN);const GN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vl=In("x",GN),QN={BASE_URL:"/WebAccounting/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",VITE_FIREBASE_APP_ID:"1:1024117334016:web:649f65fe4c6209a94f78e5",VITE_FIREBASE_AUTH_DOMAIN:"web-accounting-482a0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1024117334016",VITE_FIREBASE_PROJECT_ID:"web-accounting-482a0",VITE_FIREBASE_STORAGE_BUCKET:"web-accounting-482a0.firebasestorage.app"};let pa=null,he="default-app";try{typeof __firebase_config<"u"&&(pa=JSON.parse(__firebase_config),he=typeof __app_id<"u"?__app_id:"default-app-id",console.log(" Environment: Preview Mode (Chat)"))}catch{}if(!pa)try{import.meta&&QN&&(pa={apiKey:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",authDomain:"web-accounting-482a0.firebaseapp.com",projectId:"web-accounting-482a0",storageBucket:"web-accounting-482a0.firebasestorage.app",messagingSenderId:"1024117334016",appId:"1:1024117334016:web:649f65fe4c6209a94f78e5"},he="1:1024117334016:web:649f65fe4c6209a94f78e5",console.log(" Environment: Production Mode (.env)"))}catch{console.warn(" Production config check skipped.")}pa||(console.error(" No Firebase config found."),pa={});let mm,rr,Nt;try{pa.apiKey&&(mm=iE(pa),rr=EN(mm),Nt=FI(mm))}catch(s){console.error("Firebase init failed:",s)}function KN(){const[s,t]=te.useState(null),[i,r]=te.useState(!0),[l,c]=te.useState("dashboard"),[d,g]=te.useState(null),[p,_]=te.useState(null),[A,b]=te.useState(""),[O,G]=te.useState(""),[Z,st]=te.useState(!1),[W,mt]=te.useState(""),[At,gt]=te.useState(!1),[Tt,ee]=te.useState([]),[Ot,C]=te.useState([]),[S,I]=te.useState([]),[V,N]=te.useState(!1),[U,w]=te.useState(!1),[le,de]=te.useState(!1),[H,nt]=te.useState(!1),[ht,Mt]=te.useState(!1),[xt,x]=te.useState(null);te.useEffect(()=>{if(!rr){r(!1);return}const K=lC(rr,et=>{t(et),r(!1)});return()=>K()},[]);const X=async K=>{if(K.preventDefault(),!rr){mt("Firebase ");return}mt(""),gt(!0);try{if(Z){const et=await nC(rr,A,O);await rC(et.user,{displayName:A.split("@")[0]})}else await iC(rr,A,O)}catch(et){console.error(et);let ct="";et.code==="auth/invalid-credential"&&(ct=""),et.code==="auth/weak-password"&&(ct=" (6)"),mt(ct)}finally{gt(!1)}},it=async()=>{rr&&await uC(rr),ee([]),C([]),I([]),c("dashboard"),g(null),_(null)};te.useEffect(()=>{if(!s||!Nt)return;const K=Fc(rn(Nt,"artifacts",he,"users",s.uid,"categories"),v0("createdAt","asc")),et=am(K,_t=>{const ae=_t.docs.map(Me=>({id:Me.id,...Me.data()}));ee(ae),ae.length===0&&Gc(rn(Nt,"artifacts",he,"users",s.uid,"categories"),{name:"",isDefault:!0,createdAt:Qc()})},_t=>console.error("Cat Error:",_t)),ct=Fc(rn(Nt,"artifacts",he,"users",s.uid,"boards")),Ft=am(ct,_t=>{C(_t.docs.map(ae=>({id:ae.id,...ae.data()})))},_t=>console.error("Board Error:",_t)),Ae=Fc(rn(Nt,"artifacts",he,"users",s.uid,"transactions"),v0("date","desc")),qt=am(Ae,_t=>{I(_t.docs.map(ae=>({id:ae.id,...ae.data()})))},_t=>console.error("Tx Error:",_t));return()=>{et(),Ft(),qt()}},[s]),te.useEffect(()=>{if(Tt.length>0&&!d){const K=Tt.find(et=>et.isDefault);g(K||Tt[0])}if(Tt.length>0&&d&&!Tt.find(et=>et.id===d.id)){const et=Tt.find(ct=>ct.isDefault);g(et||Tt[0])}},[Tt,d]);const at=K=>S.filter(et=>et.boardId===K).reduce((et,ct)=>et+parseFloat(ct.amount),0),yt=te.useMemo(()=>d?Ot.filter(et=>et.categoryId===d.id&&et.status!=="closed").reduce((et,ct)=>et+at(ct.id),0):0,[Ot,S,d]),Rt=Ot.filter(K=>K.categoryId===d?.id),Vt=S.filter(K=>K.boardId===p?.id),ve=p?at(p.id):0,ue=async K=>{if(!(!K.trim()||!Nt))try{await Gc(rn(Nt,"artifacts",he,"users",s.uid,"categories"),{name:K,isDefault:!1,createdAt:Qc()}),N(!1)}catch(et){console.error(et)}},Qi=async K=>{if(!Nt)return;if(Tt.find(_t=>_t.id===K).isDefault)return alert("");const ct=Tt.find(_t=>_t.isDefault);if(!ct)return;const Ft=ao(Nt);Ot.filter(_t=>_t.categoryId===K).forEach(_t=>{const ae=an(Nt,"artifacts",he,"users",s.uid,"boards",_t.id);Ft.update(ae,{categoryId:ct.id})});const qt=an(Nt,"artifacts",he,"users",s.uid,"categories",K);Ft.delete(qt),await Ft.commit()},bs=async K=>{if(!Nt)return;let et=d?.id;if(!et){const qt=Tt.find(_t=>_t.isDefault);if(qt)et=qt.id;else if(Tt.length>0)et=Tt[0].id;else return alert("")}const ct=ao(Nt),Ft=an(rn(Nt,"artifacts",he,"users",s.uid,"boards")),Ae={name:K.name,categoryId:et,parentId:K.parentId||null,status:"active",createdAt:Qc()};if(ct.set(Ft,Ae),K.parentId&&K.allocationAmount){const qt=parseFloat(K.allocationAmount),_t=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(_t,{boardId:K.parentId,amount:-qt,type:"allocation_out",linkedBoardId:Ft.id,description:` -> ${K.name}`,date:new Date().toISOString()});const ae=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(ae,{boardId:Ft.id,amount:qt,type:"allocation_in",linkedBoardId:K.parentId,description:" <- ",date:new Date().toISOString()})}await ct.commit(),w(!1)},Ss=async(K,et,ct)=>{if(!(!Nt||!K))try{const Ft=an(Nt,"artifacts",he,"users",s.uid,"boards",K);await A0(Ft,{name:et,categoryId:ct}),p&&p.id===K&&_(Ae=>({...Ae,name:et,categoryId:ct})),Mt(!1)}catch{alert("")}},ws=async K=>{if(window.confirm("")&&Nt)try{const et=ao(Nt);(await e2(Fc(rn(Nt,"artifacts",he,"users",s.uid,"transactions"),ZI("boardId","==",K)))).forEach(Ft=>et.delete(Ft.ref)),et.delete(an(Nt,"artifacts",he,"users",s.uid,"boards",K)),await et.commit(),Mt(!1),l==="board-detail"&&(_(null),c("dashboard"))}catch(et){alert(": "+et.message)}},Pn=async()=>{if(!p||!p.parentId||!Nt)return;const et=S.filter(qt=>qt.boardId===p.id).reduce((qt,_t)=>qt+parseFloat(_t.amount),0),ct=ao(Nt),Ft=new Date().toISOString();if(et>0){const qt=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(qt,{boardId:p.id,amount:-et,type:"return_out",description:" -> ",date:Ft});const _t=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(_t,{boardId:p.parentId,amount:et,type:"return_in",description:` <- ${p.name}`,date:Ft})}else if(et<0){const qt=Math.abs(et),_t=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(_t,{boardId:p.id,amount:qt,type:"cover_in",description:" <- ",date:Ft});const ae=an(rn(Nt,"artifacts",he,"users",s.uid,"transactions"));ct.set(ae,{boardId:p.parentId,amount:-qt,type:"cover_out",description:` -> ${p.name}`,date:Ft})}const Ae=an(Nt,"artifacts",he,"users",s.uid,"boards",p.id);ct.update(Ae,{status:"closed"}),await ct.commit(),nt(!1)},Cr=async K=>{if(Nt){if(!p)return alert("");try{const et={boardId:p.id,amount:K.type==="expense"?-Math.abs(K.amount):Math.abs(K.amount),description:K.description,type:"normal",date:new Date().toISOString()};xt?await A0(an(Nt,"artifacts",he,"users",s.uid,"transactions",xt.id),et):await Gc(rn(Nt,"artifacts",he,"users",s.uid,"transactions"),et),de(!1),x(null)}catch{alert("")}}},Ki=async K=>{if(window.confirm("")&&Nt)try{await n2(an(Nt,"artifacts",he,"users",s.uid,"transactions",K))}catch{alert("")}},Nr=()=>{x(null),de(!0)},Dr=K=>{x(K),de(!0)},Te=()=>{if(!p)return;const K=S.filter(Me=>Me.boardId===p.id),et=`BoardName,${p.name},ParentID,${p.parentId||"None"},Status,${p.status}`,ct="Date,Description,Amount,Type",Ft=K.map(Me=>`${Me.date},"${Me.description}",${Me.amount},${Me.type}`).join(`
`),Ae=`${et}
${ct}
${Ft}`,qt=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),_t=URL.createObjectURL(qt),ae=document.createElement("a");ae.href=_t,ae.setAttribute("download",`${p.name}_export.csv`),document.body.appendChild(ae),ae.click()},Ie=K=>{const et=K.target.files[0];if(!et||!Nt)return;let ct=d?.id;if(!ct){const Ae=Tt.find(qt=>qt.isDefault);ct=Ae?Ae.id:Tt[0]?.id}if(!ct)return alert("");const Ft=new FileReader;Ft.onload=async Ae=>{const _t=Ae.target.result.split(`
`);if(_t.length<2)return alert("");const Me=_t[0].split(",")[1]||"Imported Board",pi=await Gc(rn(Nt,"artifacts",he,"users",s.uid,"boards"),{name:Me+" (Imported)",categoryId:ct,parentId:null,status:"active",createdAt:Qc()}),gi=ao(Nt);for(let Ce=2;Ce<_t.length;Ce++){const be=_t[Ce];if(!be.trim())continue;const Ve=be.split(","),ce=Ve[0],Rs=Ve[1]?Ve[1].replace(/"/g,""):"",Yi=parseFloat(Ve[2]),va=Ve[3]?.trim()||"normal";isNaN(Yi)||gi.set(an(rn(Nt,"artifacts",he,"users",s.uid,"transactions")),{boardId:pi.id,amount:Yi,description:Rs,date:ce,type:va})}await gi.commit(),alert("")},Ft.readAsText(et,"GBK")},mi=K=>{const et=K.target.files[0];if(!et||!Nt||!p)return;const ct=new FileReader;ct.onload=async Ft=>{const qt=Ft.target.result.split(`
`);if(qt.length<2)return alert("");let _t=0;qt[0].startsWith("BoardName")?_t=2:qt[0].startsWith("Date")&&(_t=1);const ae=ao(Nt);let Me=0;for(let pi=_t;pi<qt.length;pi++){const gi=qt[pi];if(!gi.trim())continue;const Ce=gi.split(","),be=Ce[0],Ve=Ce[1]?Ce[1].replace(/"/g,""):"",ce=parseFloat(Ce[2]),Rs=Ce[3]?.trim()||"normal";isNaN(ce)||(ae.set(an(rn(Nt,"artifacts",he,"users",s.uid,"transactions")),{boardId:p.id,amount:ce,description:Ve,date:be,type:Rs}),Me++)}Me>0?(await ae.commit(),alert(` ${Me}  "${p.name}"`)):alert("")},ct.readAsText(et,"GBK")};return i?M.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-400",children:M.jsx(H0,{className:"w-8 h-8 animate-spin"})}):s?M.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-800 font-sans overflow-hidden",children:[M.jsxs("div",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl z-20",children:[M.jsxs("div",{className:"p-6",children:[M.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[M.jsx(dm,{className:"w-6 h-6 text-emerald-400"}),"FinanceFlow"]}),M.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-500 bg-slate-800/50 p-2 rounded-lg",children:[M.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:s.displayName?.[0]?.toUpperCase()||s.email?.[0]?.toUpperCase()}),M.jsxs("div",{className:"flex flex-col overflow-hidden",children:[M.jsx("span",{className:"truncate font-medium text-slate-300",children:s.displayName||""}),M.jsx("span",{className:"truncate text-[10px]",children:s.email})]}),M.jsx("button",{onClick:it,title:"",className:"ml-auto hover:text-white p-1",children:M.jsx(PN,{className:"w-4 h-4"})})]})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-2",children:[M.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 mt-4",children:[M.jsx("span",{children:"Categories"}),M.jsx("button",{onClick:()=>N(!0),className:"hover:text-white transition-colors",children:M.jsx(hm,{className:"w-4 h-4"})})]}),Tt.map(K=>M.jsxs("div",{onClick:()=>{g(K),c("dashboard")},className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${d?.id===K.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50":"hover:bg-slate-800"}`,children:[M.jsx("span",{className:"truncate font-medium",children:K.name}),!K.isDefault&&M.jsx("button",{onClick:et=>{et.stopPropagation(),Qi(K.id)},className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-1",children:M.jsx(fm,{className:"w-3 h-3"})})]},K.id))]})]}),M.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[M.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-8 justify-between shadow-sm z-10",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[l==="board-detail"&&M.jsx("button",{onClick:()=>c("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:M.jsx(CN,{className:"w-5 h-5"})}),M.jsxs("div",{className:"flex items-baseline gap-3",children:[M.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l==="dashboard"?d?.name:p?.name,l==="board-detail"&&p&&M.jsx("button",{onClick:()=>Mt(!0),className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"/",children:M.jsx(G0,{className:"w-4 h-4"})})]}),l==="dashboard"&&d&&M.jsxs("span",{className:`text-sm font-mono font-medium px-2 py-0.5 rounded ${yt>=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:["Total: ",yt>=0?"+":"",yt.toLocaleString()]})]}),l==="board-detail"&&p?.parentId&&M.jsxs("span",{className:"flex items-center gap-1 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded-full border border-blue-100",children:[M.jsx(cm,{className:"w-3 h-3"})," "]}),l==="board-detail"&&p?.status==="closed"&&M.jsxs("span",{className:"flex items-center gap-1 text-xs bg-slate-100 text-slate-500 px-2 py-1 rounded-full border border-slate-200",children:[M.jsx(ON,{className:"w-3 h-3"})," "]})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[l==="dashboard"&&M.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",title:"Import Board",children:[M.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:Ie}),M.jsx(Q0,{className:"w-4 h-4"})," ",M.jsx("span",{children:""})]}),l==="board-detail"&&M.jsxs(M.Fragment,{children:[M.jsxs("label",{className:"cursor-pointer p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"",children:[M.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:mi}),M.jsx(Q0,{className:"w-5 h-5"})]}),M.jsx("button",{onClick:Te,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Export CSV",children:M.jsx(VN,{className:"w-5 h-5"})}),p?.parentId&&p.status==="active"&&M.jsxs("button",{onClick:()=>nt(!0),className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[M.jsx(F0,{className:"w-4 h-4"})," "]})]})]})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:[l==="dashboard"&&M.jsx("div",{children:M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[M.jsxs("button",{onClick:()=>w(!0),className:"group flex flex-col items-center justify-center h-48 rounded-xl border-2 border-dashed border-slate-300 hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer",children:[M.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:M.jsx(hm,{className:"w-6 h-6 text-slate-400 group-hover:text-indigo-500"})}),M.jsx("span",{className:"text-slate-500 font-medium group-hover:text-indigo-600",children:""})]}),Rt.map(K=>{const et=at(K.id);return M.jsxs("div",{onClick:()=>{_(K),c("board-detail")},className:`relative bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:-translate-y-1 transition-all cursor-pointer flex flex-col justify-between h-48 overflow-hidden group ${K.status==="closed"?"opacity-60 grayscale":""}`,children:[M.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${et>=0?"bg-emerald-400":"bg-rose-400"}`}),M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsx("h3",{className:"font-semibold text-lg text-slate-800 line-clamp-1 pr-2",children:K.name}),K.parentId&&M.jsx(cm,{className:"w-4 h-4 text-blue-400 shrink-0"})]}),M.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Updated ",new Date(K.createdAt?.seconds*1e3).toLocaleDateString()]})]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Current Balance"}),M.jsxs("div",{className:`text-3xl font-bold tracking-tight mt-1 ${et>=0?"text-slate-800":"text-rose-600"}`,children:["",et.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),M.jsx("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx("div",{className:"bg-slate-100 p-2 rounded-full text-slate-600",children:M.jsx(DN,{className:"w-4 h-4"})})})]},K.id)})]})}),l==="board-detail"&&p&&M.jsxs("div",{className:"max-w-4xl mx-auto",children:[M.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:""}),M.jsxs("div",{className:`text-5xl font-bold mt-2 ${ve>=0?"text-slate-800":"text-rose-600"}`,children:["",ve.toLocaleString()]}),p.status==="closed"&&M.jsx("span",{className:"text-red-500 text-sm font-bold mt-2 block",children:""})]}),p.status==="active"&&M.jsxs("button",{onClick:Nr,className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-slate-900/20 transition-all hover:scale-105 active:scale-95",children:[M.jsx(hm,{className:"w-5 h-5"})," "]})]}),M.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[M.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[M.jsx("h3",{className:"font-bold text-slate-700",children:""}),M.jsxs("span",{className:"text-xs text-slate-400",children:[Vt.length," "]})]}),M.jsx("div",{className:"divide-y divide-slate-100",children:Vt.length===0?M.jsx("div",{className:"p-12 text-center text-slate-400",children:""}):Vt.map(K=>M.jsxs("div",{className:"px-6 py-4 hover:bg-slate-50 transition-colors flex items-center justify-between group",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${["allocation_in","return_in","cover_in"].includes(K.type)?"bg-blue-100 text-blue-600":["allocation_out","return_out","cover_out"].includes(K.type)?"bg-purple-100 text-purple-600":parseFloat(K.amount)>0?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:["allocation_in","allocation_out"].includes(K.type)?M.jsx(cm,{className:"w-5 h-5"}):["return_in","return_out","cover_in","cover_out"].includes(K.type)?M.jsx(F0,{className:"w-5 h-5"}):M.jsx(dm,{className:"w-5 h-5"})}),M.jsxs("div",{children:[M.jsx("div",{className:"font-medium text-slate-800 flex items-center gap-2",children:K.description}),M.jsx("div",{className:"text-xs text-slate-400",children:new Date(K.date).toLocaleString()})]})]}),M.jsxs("div",{className:"flex items-center gap-6",children:[M.jsxs("div",{className:`font-bold font-mono text-lg ${parseFloat(K.amount)>0?"text-emerald-600":"text-slate-800"}`,children:[parseFloat(K.amount)>0?"+":"",parseFloat(K.amount).toLocaleString()]}),p.status==="active"&&M.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[M.jsx("button",{onClick:()=>Dr(K),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"",children:M.jsx(G0,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>Ki(K.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:M.jsx(fm,{className:"w-4 h-4"})})]})]})]},K.id))})]})]})]})]}),V&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Vl,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:K=>{K.preventDefault(),ue(K.target.catName.value)},children:[M.jsx("input",{name:"catName",autoFocus:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),U&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Vl,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:K=>{K.preventDefault();const et=new FormData(K.target);bs({name:et.get("name"),parentId:et.get("parentId"),allocationAmount:et.get("allocation")})},children:[M.jsx("input",{name:"name",required:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),!d&&M.jsxs("p",{className:"text-xs text-orange-500 mb-2",children:[' "',Tt.find(K=>K.isDefault)?.name||"",'"']}),M.jsxs("select",{name:"parentId",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 bg-white outline-none",children:[M.jsx("option",{value:"",children:" ()"}),Ot.filter(K=>K.status==="active").map(K=>M.jsxs("option",{value:K.id,children:[K.name," (: ",at(K.id),")"]},K.id))]}),M.jsx("input",{name:"allocation",type:"number",step:"0.01",placeholder:" ()",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),ht&&p&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>Mt(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Vl,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:K=>{K.preventDefault();const et=new FormData(K.target);Ss(p.id,et.get("name"),et.get("categoryId"))},children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{name:"name",defaultValue:p.name,required:!0,className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("select",{name:"categoryId",defaultValue:p.categoryId,className:"w-full border border-slate-300 rounded-lg p-3 mb-6 bg-white outline-none",children:Tt.map(K=>M.jsxs("option",{value:K.id,children:[K.name," ",K.isDefault?"()":""]},K.id))}),M.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-100",children:[M.jsxs("button",{type:"button",onClick:()=>ws(p.id),className:"px-4 py-2 text-red-500 hover:bg-red-50 rounded-lg flex items-center gap-1 text-sm font-medium",children:[M.jsx(fm,{className:"w-4 h-4"})," "]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",onClick:()=>Mt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})]})}),le&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>de(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Vl,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:xt?"":""}),M.jsxs("form",{onSubmit:K=>{K.preventDefault();const et=new FormData(K.target);Cr({amount:et.get("amount"),description:et.get("desc"),type:et.get("type")})},children:[M.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-100 p-1 rounded-lg",children:[M.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[M.jsx("input",{type:"radio",name:"type",value:"expense",defaultChecked:!xt||parseFloat(xt.amount)<0,className:"hidden peer"}),M.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-rose-600 shadow-sm transition-all",children:""})]}),M.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[M.jsx("input",{type:"radio",name:"type",value:"income",defaultChecked:xt&&parseFloat(xt.amount)>0,className:"hidden peer"}),M.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-emerald-600 shadow-sm transition-all",children:""})]})]}),M.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,placeholder:"0.00",defaultValue:xt?Math.abs(parseFloat(xt.amount)):"",className:"w-full text-3xl font-bold text-center border-b-2 p-4 mb-4 outline-none bg-transparent"}),M.jsx("input",{name:"desc",required:!0,placeholder:"",defaultValue:xt?.description||"",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>de(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),H&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Vl,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"?"}),M.jsxs("p",{className:"text-slate-500 text-sm mb-6 text-center",children:[" ",M.jsx("span",{className:"font-bold",children:ve})," "]}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>nt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{onClick:Pn,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})})]}):M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-800 p-4",children:[M.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:M.jsx(dm,{className:"w-8 h-8 text-emerald-400"})}),M.jsx("h1",{className:"text-3xl font-bold mb-2",children:"FinanceFlow Pro"}),M.jsx("p",{className:"text-slate-500 mb-8 text-center max-w-sm",children:Z?"":""}),M.jsxs("form",{onSubmit:X,className:"w-full max-w-sm bg-white p-8 rounded-2xl shadow-lg border border-slate-100",children:[W&&M.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg font-bold",children:["Error: ",W]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-indigo-500 outline-none",value:A,onChange:K=>b(K.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-indigo-500 outline-none",value:O,onChange:K=>G(K.target.value)})]})]}),M.jsx("button",{type:"submit",disabled:At,className:"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-all shadow-md flex justify-center items-center",children:At?M.jsx(H0,{className:"w-5 h-5 animate-spin"}):Z?"":""}),M.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[Z?"":""," ",M.jsx("button",{type:"button",onClick:()=>{st(!Z),mt("")},className:"ml-1 text-indigo-600 font-bold hover:underline",children:Z?"":""})]})]})]})}lS.createRoot(document.getElementById("root")).render(M.jsx(te.StrictMode,{children:M.jsx(KN,{})}));

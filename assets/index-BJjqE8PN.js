(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},yl={};var H_;function C1(){if(H_)return yl;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var F_;function N1(){return F_||(F_=1,Nd.exports=C1()),Nd.exports}var j=N1(),Dd={exports:{}},Tt={};var G_;function D1(){if(G_)return Tt;G_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Q(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function mt(S,k,Z){this.props=S,this.context=k,this.refs=tt,this.updater=Z||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(S,k){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,k,"setState")},mt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Et(){}Et.prototype=mt.prototype;function gt(S,k,Z){this.props=S,this.context=k,this.refs=tt,this.updater=Z||J}var Ft=gt.prototype=new Et;Ft.constructor=gt,it(Ft,mt.prototype),Ft.isPureReactComponent=!0;var Qt=Array.isArray;function Lt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(S,k,Z){var W=Z.ref;return{$$typeof:r,type:S,key:k,ref:W!==void 0?W:null,props:Z}}function M(S,k){return C(S.type,k,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function U(S){var k={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Z){return k[Z]})}var R=/\/+/g;function ee(S,k){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):k.toString(36)}function fe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Lt,Lt):(S.status="pending",S.then(function(k){S.status==="pending"&&(S.status="fulfilled",S.value=k)},function(k){S.status==="pending"&&(S.status="rejected",S.reason=k)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function F(S,k,Z,W,ct){var ot=typeof S;(ot==="undefined"||ot==="boolean")&&(S=null);var rt=!1;if(S===null)rt=!0;else switch(ot){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(S.$$typeof){case r:case t:rt=!0;break;case A:return rt=S._init,F(rt(S._payload),k,Z,W,ct)}}if(rt)return ct=ct(S),rt=W===""?"."+ee(S,0):W,Qt(ct)?(Z="",rt!=null&&(Z=rt.replace(R,"$&/")+"/"),F(ct,k,Z,"",function(ai){return ai})):ct!=null&&(O(ct)&&(ct=M(ct,Z+(ct.key==null||S&&S.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+rt)),k.push(ct)),1;rt=0;var Rt=W===""?".":W+":";if(Qt(S))for(var Dt=0;Dt<S.length;Dt++)W=S[Dt],ot=Rt+ee(W,Dt),rt+=F(W,k,Z,ot,ct);else if(Dt=Q(S),typeof Dt=="function")for(S=Dt.call(S),Dt=0;!(W=S.next()).done;)W=W.value,ot=Rt+ee(W,Dt++),rt+=F(W,k,Z,ot,ct);else if(ot==="object"){if(typeof S.then=="function")return F(fe(S),k,Z,W,ct);throw k=String(S),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return rt}function nt(S,k,Z){if(S==null)return S;var W=[],ct=0;return F(S,W,"","",function(ot){return k.call(Z,ot,ct++)}),W}function ht(S){if(S._status===-1){var k=S._result;k=k(),k.then(function(Z){(S._status===0||S._status===-1)&&(S._status=1,S._result=Z)},function(Z){(S._status===0||S._status===-1)&&(S._status=2,S._result=Z)}),S._status===-1&&(S._status=0,S._result=k)}if(S._status===1)return S._result.default;throw S._result}var It=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Pt={map:nt,forEach:function(S,k,Z){nt(S,function(){k.apply(this,arguments)},Z)},count:function(S){var k=0;return nt(S,function(){k++}),k},toArray:function(S){return nt(S,function(k){return k})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=b,Tt.Children=Pt,Tt.Component=mt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return N.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,k,Z){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=it({},S.props),ct=S.key;if(k!=null)for(ot in k.key!==void 0&&(ct=""+k.key),k)!w.call(k,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&k.ref===void 0||(W[ot]=k[ot]);var ot=arguments.length-2;if(ot===1)W.children=Z;else if(1<ot){for(var rt=Array(ot),Rt=0;Rt<ot;Rt++)rt[Rt]=arguments[Rt+2];W.children=rt}return C(S.type,ct,W)},Tt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Tt.createElement=function(S,k,Z){var W,ct={},ot=null;if(k!=null)for(W in k.key!==void 0&&(ot=""+k.key),k)w.call(k,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=k[W]);var rt=arguments.length-2;if(rt===1)ct.children=Z;else if(1<rt){for(var Rt=Array(rt),Dt=0;Dt<rt;Dt++)Rt[Dt]=arguments[Dt+2];ct.children=Rt}if(S&&S.defaultProps)for(W in rt=S.defaultProps,rt)ct[W]===void 0&&(ct[W]=rt[W]);return C(S,ot,ct)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:p,render:S}},Tt.isValidElement=O,Tt.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:ht}},Tt.memo=function(S,k){return{$$typeof:_,type:S,compare:k===void 0?null:k}},Tt.startTransition=function(S){var k=N.T,Z={};N.T=Z;try{var W=S(),ct=N.S;ct!==null&&ct(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Lt,It)}catch(ot){It(ot)}finally{k!==null&&Z.types!==null&&(k.types=Z.types),N.T=k}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(S){return N.H.use(S)},Tt.useActionState=function(S,k,Z){return N.H.useActionState(S,k,Z)},Tt.useCallback=function(S,k){return N.H.useCallback(S,k)},Tt.useContext=function(S){return N.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,k){return N.H.useDeferredValue(S,k)},Tt.useEffect=function(S,k){return N.H.useEffect(S,k)},Tt.useEffectEvent=function(S){return N.H.useEffectEvent(S)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(S,k,Z){return N.H.useImperativeHandle(S,k,Z)},Tt.useInsertionEffect=function(S,k){return N.H.useInsertionEffect(S,k)},Tt.useLayoutEffect=function(S,k){return N.H.useLayoutEffect(S,k)},Tt.useMemo=function(S,k){return N.H.useMemo(S,k)},Tt.useOptimistic=function(S,k){return N.H.useOptimistic(S,k)},Tt.useReducer=function(S,k,Z){return N.H.useReducer(S,k,Z)},Tt.useRef=function(S){return N.H.useRef(S)},Tt.useState=function(S){return N.H.useState(S)},Tt.useSyncExternalStore=function(S,k,Z){return N.H.useSyncExternalStore(S,k,Z)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.3",Tt}var Q_;function Rm(){return Q_||(Q_=1,Dd.exports=D1()),Dd.exports}var Ce=Rm(),Od={exports:{}},_l={},xd={exports:{}},Md={};var K_;function O1(){return K_||(K_=1,(function(r){function t(F,nt){var ht=F.length;F.push(nt);t:for(;0<ht;){var It=ht-1>>>1,Pt=F[It];if(0<l(Pt,nt))F[It]=nt,F[ht]=Pt,ht=It;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ht=F.pop();if(ht!==nt){F[0]=ht;t:for(var It=0,Pt=F.length,S=Pt>>>1;It<S;){var k=2*(It+1)-1,Z=F[k],W=k+1,ct=F[W];if(0>l(Z,ht))W<Pt&&0>l(ct,Z)?(F[It]=ct,F[W]=ht,It=W):(F[It]=Z,F[k]=ht,It=k);else if(W<Pt&&0>l(ct,ht))F[It]=ct,F[W]=ht,It=W;else break t}}return nt}function l(F,nt){var ht=F.sortIndex-nt.sortIndex;return ht!==0?ht:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,x=3,Q=!1,J=!1,it=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Ft(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=F)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Qt(F){if(it=!1,Ft(F),!J)if(i(y)!==null)J=!0,Lt||(Lt=!0,U());else{var nt=i(_);nt!==null&&fe(Qt,nt.startTime-F)}}var Lt=!1,N=-1,w=5,C=-1;function M(){return tt?!0:!(r.unstable_now()-C<w)}function O(){if(tt=!1,Lt){var F=r.unstable_now();C=F;var nt=!0;try{t:{J=!1,it&&(it=!1,Et(N),N=-1),Q=!0;var ht=x;try{e:{for(Ft(F),b=i(y);b!==null&&!(b.expirationTime>F&&M());){var It=b.callback;if(typeof It=="function"){b.callback=null,x=b.priorityLevel;var Pt=It(b.expirationTime<=F);if(F=r.unstable_now(),typeof Pt=="function"){b.callback=Pt,Ft(F),nt=!0;break e}b===i(y)&&a(y),Ft(F)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var S=i(_);S!==null&&fe(Qt,S.startTime-F),nt=!1}}break t}finally{b=null,x=ht,Q=!1}nt=void 0}}finally{nt?U():Lt=!1}}}var U;if(typeof gt=="function")U=function(){gt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=O,U=function(){ee.postMessage(null)}}else U=function(){mt(O,0)};function fe(F,nt){N=mt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return F()}finally{x=ht}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=x;x=F;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(F,nt,ht){var It=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?It+ht:It):ht=It,F){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ht+Pt,F={id:A++,callback:nt,priorityLevel:F,startTime:ht,expirationTime:Pt,sortIndex:-1},ht>It?(F.sortIndex=ht,t(_,F),i(y)===null&&F===i(_)&&(it?(Et(N),N=-1):it=!0,fe(Qt,ht-It))):(F.sortIndex=Pt,t(y,F),J||Q||(J=!0,Lt||(Lt=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var nt=x;return function(){var ht=x;x=nt;try{return F.apply(this,arguments)}finally{x=ht}}}})(Md)),Md}var Y_;function x1(){return Y_||(Y_=1,xd.exports=O1()),xd.exports}var Vd={exports:{}},$e={};var X_;function M1(){if(X_)return $e;X_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},$e.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},$e.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},$e.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},$e.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Q}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},$e.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},$e.requestFormReset=function(y){a.d.r(y)},$e.unstable_batchedUpdates=function(y,_){return y(_)},$e.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var $_;function V1(){if($_)return Vd.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=M1(),Vd.exports}var Z_;function U1(){if(Z_)return _l;Z_=1;var r=x1(),t=Rm(),i=V1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case Qt:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},It=[],Pt=-1;function S(e){return{current:e}}function k(e){0>Pt||(e.current=It[Pt],It[Pt]=null,Pt--)}function Z(e,n){Pt++,It[Pt]=e.current,e.current=n}var W=S(null),ct=S(null),ot=S(null),rt=S(null);function Rt(e,n){switch(Z(ot,n),Z(ct,e),Z(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?f_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=f_(n),e=d_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(W),Z(W,e)}function Dt(){k(W),k(ct),k(ot)}function ai(e){e.memoizedState!==null&&Z(rt,e);var n=W.current,s=d_(n,e.type);n!==s&&(Z(ct,e),Z(W,s))}function oi(e){ct.current===e&&(k(W),k(ct)),rt.current===e&&(k(rt),dl._currentValue=ht)}var Pi,Rn;function In(e){if(Pi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pi=n&&n[1]||"",Rn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+e+Rn}var hr=!1;function li(e,n){if(!e||hr)return"";hr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{hr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?In(s):""}function fr(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return li(e.type,!1);case 11:return li(e.type.render,!1);case 1:return li(e.type,!0);case 31:return In("Activity");default:return""}}function dr(e){try{var n="",s=null;do n+=fr(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ms=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,en=r.unstable_now,mr=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,gs=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,Fn=null,Be=null;function Cn(e){if(typeof eu=="function"&&nu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Fn,e)}catch{}}var de=Math.clz32?Math.clz32:su,iu=Math.log,na=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/na|0)|0}var ui=256,gr=262144,ve=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-de(s),X=1<<G;E[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&yr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function _o(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function vo(e,n){var s=n&-n;return s=(s&42)!==0?1:_r(s),(s&(e.suspendedLanes|n))!==0?0:s}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function Qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Kn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Kn,ke="__reactProps$"+Kn,di="__reactContainer$"+Kn,ia="__reactEvents$"+Kn,Vh="__reactListeners$"+Kn,ou="__reactHandles$"+Kn,lu="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function sa(e){delete e[Ee],delete e[ke],delete e[ia],delete e[Vh],delete e[ou]}function gi(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=E_(e);e!==null;){if(s=e[Ee])return s;e=E_(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[Ee]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[mi]=!0}var Eo=new Set,To={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},bo={};function uu(e){return _e.call(bo,e)?!0:_e.call(So,e)?!1:Ao.test(e)?bo[e]=!0:(So[e]=!0,!1)}function ra(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ps(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=ps(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ps(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function an(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,g,Le(n)):s!=null?Ro(e,g,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Ro(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ys(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function _s(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function on(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Co(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return vs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var No=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Ei=null;function Tr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&vr(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ys(e,!!s.multiple,n,!1)}}}var ua=!1;function Ts(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(Es!==null||Ei!==null)&&(ac(),Es&&(n=Es,e=Ei,Ei=Es=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Xn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(On)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ar=!1}var Ti=null,Do=null,Sr=null;function Oo(){if(Sr)return Sr;var e,n=Do,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function $n(){return!1}function qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:$n,this.isPropagationStopped=$n,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=qe(Bi),As=b({},Bi,{view:0,detail:0}),xo=qe(As),Ss,ca,Si,ha=b({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ss=e.screenX-Si.screenX,ca=e.screenY-Si.screenY):ca=Ss=0,Si=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Mo=qe(ha),wr=b({},ha,{dataTransfer:0}),mu=qe(wr),gu=b({},As,{relatedTarget:0}),Rr=qe(gu),Vo=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=qe(Vo),fa=b({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=qe(fa),_u=b({},Bi,{data:0}),bi=qe(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function bs(){return Au}var nn=b({},As,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=qe(nn),bu=b({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=qe(bu),u=b({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=qe(u),v=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qe(v),L=b({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qe(L),et=b({},Bi,{newState:0,oldState:0}),St=qe(et),me=[9,13,27,32],qt=On&&"CompositionEvent"in window,ae=null;On&&"documentMode"in document&&(ae=document.documentMode);var xn=On&&"TextEvent"in window&&!ae,wi=On&&(!qt||ae&&8<ae&&11>=ae),Zn=" ",Jn=!1;function Ir(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function JT(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function WT(e,n){if(ma)return e==="compositionend"||!qt&&Ir(e,n)?(e=Oo(),Sr=Do=Ti=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tA[e.type]:n==="textarea"}function bg(e,n,s,o){Es?Ei?Ei.push(o):Ei=[o]:Es=o,n=dc(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,ko=null;function eA(e){a_(e,0)}function wu(e){var n=gn(e);if(vr(n))return e}function wg(e,n){if(e==="change")return n}var Rg=!1;if(On){var Uh;if(On){var kh="oninput"in document;if(!kh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),kh=typeof Ig.oninput=="function"}Uh=kh}else Uh=!1;Rg=Uh&&(!document.documentMode||9<document.documentMode)}function Cg(){Uo&&(Uo.detachEvent("onpropertychange",Ng),ko=Uo=null)}function Ng(e){if(e.propertyName==="value"&&wu(ko)){var n=[];bg(n,ko,e,Dn(e)),Ts(eA,n)}}function nA(e,n,s){e==="focusin"?(Cg(),Uo=n,ko=s,Uo.attachEvent("onpropertychange",Ng)):e==="focusout"&&Cg()}function iA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(ko)}function sA(e,n){if(e==="click")return wu(n)}function rA(e,n){if(e==="input"||e==="change")return wu(n)}function aA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:aA;function Lo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Og(e,n){var s=Dg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Dg(s)}}function xg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var oA=On&&"documentMode"in document&&11>=document.documentMode,ga=null,Ph=null,Po=null,zh=!1;function Vg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ga==null||ga!==vi(o)||(o=ga,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=dc(Ph,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ga)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},jh={},Ug={};On&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Nr(e){if(jh[e])return jh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ug)return jh[e]=n[s];return e}var kg=Nr("animationend"),Lg=Nr("animationiteration"),Pg=Nr("animationstart"),lA=Nr("transitionrun"),uA=Nr("transitionstart"),cA=Nr("transitioncancel"),zg=Nr("transitionend"),jg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Wn(e,n){jg.set(e,n),yi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],ya=0,qh=0;function Iu(){for(var e=ya,n=qh=ya=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Bg(s,h,f)}}function Cu(e,n,s,o){Mn[ya++]=e,Mn[ya++]=n,Mn[ya++]=s,Mn[ya++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return Cu(e,n,s,o),Nu(e)}function Dr(e,n){return Cu(e,null,null,n),Nu(e)}function Bg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<al)throw al=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function hA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,o){return new hA(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function qg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=p1(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=_n(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Or(s.children,h,f,n);case tt:g=8,h|=24;break;case mt:return e=_n(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Qt:return e=_n(13,s,n,h),e.elementType=Qt,e.lanes=f,e;case Lt:return e=_n(19,s,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case Ft:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=_n(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,s,o){return e=_n(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function Hg(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=Fg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:dr(n)},Fg.set(e,n),n)}return{value:e,source:n,stack:dr(n)}}var va=[],Ea=0,Ou=null,zo=0,Un=[],kn=0,ws=null,Ri=1,Ii="";function Fi(e,n){va[Ea++]=zo,va[Ea++]=Ou,Ou=e,zo=n}function Gg(e,n,s){Un[kn++]=Ri,Un[kn++]=Ii,Un[kn++]=ws,ws=e;var o=Ri;e=Ii;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-de(n)+h|s<<h|o,Ii=f+e}else Ri=1<<f|s<<h|o,Ii=e}function Kh(e){e.return!==null&&(Fi(e,1),Gg(e,1,0))}function Yh(e){for(;e===Ou;)Ou=va[--Ea],va[Ea]=null,zo=va[--Ea],va[Ea]=null;for(;e===ws;)ws=Un[--kn],Un[kn]=null,Ii=Un[--kn],Un[kn]=null,Ri=Un[--kn],Un[kn]=null}function Qg(e,n){Un[kn++]=Ri,Un[kn++]=Ii,Un[kn++]=ws,Ri=n.id,Ii=n.overflow,ws=e}var He=null,ie=null,kt=!1,Rs=null,Ln=!1,Xh=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Vn(n,e)),Xh}function Kg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)Nt(ll[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),_s(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||c_(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Is(e,!0)}function Yg(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:He=He.return}}function Ta(e){if(e!==He)return!1;if(!kt)return Yg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&ie&&Is(e),Yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=v_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=v_(e)}else n===27?(n=ie,Bs(e.type)?(e=vd,vd=null,ie=e):ie=n):ie=He?zn(e.stateNode.nextSibling):null;return!0}function xr(){ie=He=null,kt=!1}function $h(){var e=Rs;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Rs=null),e}function jo(e){Rs===null?Rs=[e]:Rs.push(e)}var Zh=S(null),Mr=null,Gi=null;function Cs(e,n,s){Z(Zh,n._currentValue),n._currentValue=s}function Qi(e){e._currentValue=Zh.current,k(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;yn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===rt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Xg(Mr,e)}function Mu(e,n){return Mr===null&&Vr(e),Xg(e,n)}function Xg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var fA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},dA=r.unstable_scheduleCallback,mA=r.unstable_NormalPriority,Se={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new fA,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&dA(mA,function(){e.controller.abort()})}var qo=null,ef=0,Sa=0,ba=null;function gA(e,n){if(qo===null){var s=qo=[];ef=0,Sa=rd(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then($g,$g),n}function $g(){if(--ef===0&&qo!==null){ba!==null&&(ba.status="fulfilled");var e=qo;qo=null,Sa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Zg=F.S;F.S=function(e,n){Vy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gA(e,n),Zg!==null&&Zg(e,n)};var Ur=S(null);function nf(){var e=Ur.current;return e!==null?e:te.pooledCache}function Vu(e,n){n===null?Z(Ur,Ur.current):Z(Ur,n.pool)}function Jg(){var e=nf();return e===null?null:{parent:Se._currentValue,pool:e}}var wa=Error(a(460)),sf=Error(a(474)),Uu=Error(a(542)),ku={then:function(){}};function Wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Yn,Yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,np(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,np(e),e}throw Lr=n,wa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,wa):s}}var Lr=null;function ep(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function np(e){if(e===wa||e===Uu)throw Error(a(483))}var Ra=null,Ho=0;function Lu(e){var n=Ho;return Ho+=1,Ra===null&&(Ra=[]),tp(Ra,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ip(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Hi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,K){return D===null||D.tag!==6?(D=Gh(P,V.mode,K),D.return=V,D):(D=h(D,P),D.return=V,D)}function I(V,D,P,K){var ft=P.type;return ft===it?G(V,D,P.props.children,K,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&kr(ft)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=V,D):(D=Du(P.type,P.key,P.props,null,V.mode,K),Fo(D,P),D.return=V,D)}function z(V,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,V.mode,K),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,K,ft){return D===null||D.tag!==7?(D=Or(P,V.mode,K,ft),D.return=V,D):(D=h(D,P),D.return=V,D)}function X(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Du(D.type,D.key,D.props,null,V.mode,P),Fo(P,D),P.return=V,P;case J:return D=Qh(D,V.mode,P),D.return=V,D;case w:return D=kr(D),X(V,D,P)}if(fe(D)||U(D))return D=Or(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return X(V,Lu(D),P);if(D.$$typeof===gt)return X(V,Mu(V,D),P);Pu(V,D)}return null}function B(V,D,P,K){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ft?I(V,D,P,K):null;case J:return P.key===ft?z(V,D,P,K):null;case w:return P=kr(P),B(V,D,P,K)}if(fe(P)||U(P))return ft!==null?null:G(V,D,P,K,null);if(typeof P.then=="function")return B(V,D,Lu(P),K);if(P.$$typeof===gt)return B(V,D,Mu(V,P),K);Pu(V,P)}return null}function H(V,D,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(P)||null,E(D,V,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return V=V.get(K.key===null?P:K.key)||null,I(D,V,K,ft);case J:return V=V.get(K.key===null?P:K.key)||null,z(D,V,K,ft);case w:return K=kr(K),H(V,D,P,K,ft)}if(fe(K)||U(K))return V=V.get(P)||null,G(D,V,K,ft,null);if(typeof K.then=="function")return H(V,D,P,Lu(K),ft);if(K.$$typeof===gt)return H(V,D,P,Mu(D,K),ft);Pu(D,K)}return null}function lt(V,D,P,K){for(var ft=null,jt=null,ut=D,wt=D=0,xt=null;ut!==null&&wt<P.length;wt++){ut.index>wt?(xt=ut,ut=null):xt=ut.sibling;var Bt=B(V,ut,P[wt],K);if(Bt===null){ut===null&&(ut=xt);break}e&&ut&&Bt.alternate===null&&n(V,ut),D=f(Bt,D,wt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt,ut=xt}if(wt===P.length)return s(V,ut),kt&&Fi(V,wt),ft;if(ut===null){for(;wt<P.length;wt++)ut=X(V,P[wt],K),ut!==null&&(D=f(ut,D,wt),jt===null?ft=ut:jt.sibling=ut,jt=ut);return kt&&Fi(V,wt),ft}for(ut=o(ut);wt<P.length;wt++)xt=H(ut,V,wt,P[wt],K),xt!==null&&(e&&xt.alternate!==null&&ut.delete(xt.key===null?wt:xt.key),D=f(xt,D,wt),jt===null?ft=xt:jt.sibling=xt,jt=xt);return e&&ut.forEach(function(Qs){return n(V,Qs)}),kt&&Fi(V,wt),ft}function pt(V,D,P,K){if(P==null)throw Error(a(151));for(var ft=null,jt=null,ut=D,wt=D=0,xt=null,Bt=P.next();ut!==null&&!Bt.done;wt++,Bt=P.next()){ut.index>wt?(xt=ut,ut=null):xt=ut.sibling;var Qs=B(V,ut,Bt.value,K);if(Qs===null){ut===null&&(ut=xt);break}e&&ut&&Qs.alternate===null&&n(V,ut),D=f(Qs,D,wt),jt===null?ft=Qs:jt.sibling=Qs,jt=Qs,ut=xt}if(Bt.done)return s(V,ut),kt&&Fi(V,wt),ft;if(ut===null){for(;!Bt.done;wt++,Bt=P.next())Bt=X(V,Bt.value,K),Bt!==null&&(D=f(Bt,D,wt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return kt&&Fi(V,wt),ft}for(ut=o(ut);!Bt.done;wt++,Bt=P.next())Bt=H(ut,V,wt,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?wt:Bt.key),D=f(Bt,D,wt),jt===null?ft=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(I1){return n(V,I1)}),kt&&Fi(V,wt),ft}function Wt(V,D,P,K){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){s(V,D.sibling),K=h(D,P.props.children),K.return=V,V=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&kr(ft)===D.type){s(V,D.sibling),K=h(D,P.props),Fo(K,P),K.return=V,V=K;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===it?(K=Or(P.props.children,V.mode,K,P.key),K.return=V,V=K):(K=Du(P.type,P.key,P.props,null,V.mode,K),Fo(K,P),K.return=V,V=K)}return g(V);case J:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),K=h(D,P.children||[]),K.return=V,V=K;break t}else{s(V,D);break}else n(V,D);D=D.sibling}K=Qh(P,V.mode,K),K.return=V,V=K}return g(V);case w:return P=kr(P),Wt(V,D,P,K)}if(fe(P))return lt(V,D,P,K);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(V,D,P,K)}if(typeof P.then=="function")return Wt(V,D,Lu(P),K);if(P.$$typeof===gt)return Wt(V,D,Mu(V,P),K);Pu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),K=h(D,P),K.return=V,V=K):(s(V,D),K=Gh(P,V.mode,K),K.return=V,V=K),g(V)):s(V,D)}return function(V,D,P,K){try{Ho=0;var ft=Wt(V,D,P,K);return Ra=null,ft}catch(ut){if(ut===wa||ut===Uu)throw ut;var jt=_n(29,ut,null,V.mode);return jt.lanes=K,jt.return=V,jt}}}var Pr=ip(!0),sp=ip(!1),Ns=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Bg(e,null,s),n}return Cu(e,o,n,s),Nu(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Qo(){if(lf){var e=ba;if(e!==null)throw e}}function Ko(e,n,s,o){lf=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,G=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ot&B)===B:(o&B)===B){B!==0&&B===Sa&&(lf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;B=n;var Wt=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call(Wt,X,B);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,B=typeof lt=="function"?lt.call(Wt,X,B):lt,B==null)break t;X=b({},X,B);break t;case 2:Ns=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ks|=g,e.lanes=g,e.memoizedState=X}}function rp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ap(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)rp(s[e],n)}var Ia=S(null),zu=S(0);function op(e,n){e=es,Z(zu,e),Z(Ia,n),es=e|n.baseLanes}function uf(){Z(zu,es),Z(Ia,Ia.current)}function cf(){es=zu.current,k(Ia),k(zu)}var vn=S(null),Pn=null;function xs(e){var n=e.alternate;Z(ge,ge.current&1),Z(vn,e),Pn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Pn=e)}function hf(e){Z(ge,ge.current),Z(vn,e),Pn===null&&(Pn=e)}function lp(e){e.tag===22?(Z(ge,ge.current),Z(vn,e),Pn===null&&(Pn=e)):Ms()}function Ms(){Z(ge,ge.current),Z(vn,vn.current)}function En(e){k(vn),Pn===e&&(Pn=null),k(ge)}var ge=S(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,bt=null,Zt=null,be=null,Bu=!1,Ca=!1,zr=!1,qu=0,Yo=0,Na=null,yA=0;function ue(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return Ki=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Gp:Cf,zr=!1,f=s(o,h),zr=!1,Ca&&(f=cp(n,s,o,h)),up(e),f}function up(e){F.H=Zo;var n=Zt!==null&&Zt.next!==null;if(Ki=0,be=Zt=bt=null,Bu=!1,Yo=0,Na=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&xu(e)&&(we=!0))}function cp(e,n,s,o){bt=e;var h=0;do{if(Ca&&(Na=null),Yo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,be=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Qp,f=n(s,o)}while(Ca);return f}function _A(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),n}function mf(){var e=qu!==0;return qu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Ki=0,be=Zt=bt=null,Ca=!1,Yo=qu=0,Na=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?bt.memoizedState=be=e:be=be.next=e,be}function pe(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=be===null?bt.memoizedState:be.next;if(n!==null)be=n,Zt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},be===null?bt.memoizedState=be=e:be=be.next=e}return be}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Na===null&&(Na=[]),e=tp(Na,e,n),n=bt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Gp:Cf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===gt)return Fe(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Yi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=pe();return _f(n,Zt,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(Ki&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Sa&&(G=!0);else if((Ki&B)===B){z=z.next,B===Sa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,bt.lanes|=B,ks|=B;X=z.action,zr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,bt.lanes|=X,ks|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!yn(f,e.memoizedState)&&(we=!0,G&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);yn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function hp(e,n,s){var o=bt,h=pe(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!yn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,we=!0),h=h.queue,Af(mp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},dp.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Ki&127)!==0||fp(o,n,s)}return s}function fp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Hu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function dp(e,n,s,o){n.value=s,n.getSnapshot=o,gp(n)&&pp(e)}function mp(e,n,s){return s(function(){gp(n)&&pp(e)})}function gp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function pp(e){var n=Dr(e,2);n!==null&&fn(n,e,2)}function Ef(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),zr){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function yp(e,n,s,o){return e.baseState=s,_f(e,Zt,typeof o=="function"?o:Yi)}function vA(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,_p(n,f)):(f.next=s.next,n.pending=s.next=f)}}function _p(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),I=F.S;I!==null&&I(g,E),vp(e,n,E)}catch(z){Tf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),vp(e,n,f)}catch(z){Tf(e,n,z)}}function vp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Ep(e,n,o)},function(o){return Tf(e,n,o)}):Ep(e,n,s)}function Ep(e,n,s){n.status="fulfilled",n.value=s,Tp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,_p(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Tp(n),n=n.next;while(n!==o)}e.action=null}function Tp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ap(e,n){return n}function Sp(e,n){if(kt){var s=te.formState;if(s!==null){t:{var o=bt;if(kt){if(ie){e:{for(var h=ie,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=zn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:n},s.queue=o,s=qp.bind(null,bt,o),o.dispatch=s,o=Ef(!1),f=If.bind(null,bt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=vA.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function bp(e){var n=pe();return wp(n,Zt,e)}function wp(e,n,s){if(n=_f(e,n,Ap)[0],e=Gu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(g){throw g===wa?Uu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Da(9,{destroy:void 0},EA.bind(null,h,s),null)),[o,f,e]}function EA(e,n){e.action=n}function Rp(e){var n=pe(),s=Zt;if(s!==null)return wp(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Da(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Hu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Ip(){return pe().memoizedState}function Qu(e,n,s,o){var h=sn();bt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&ff(o,Zt.memoizedState.deps)?h.memoizedState=Da(n,f,s,o):(bt.flags|=e,h.memoizedState=Da(1|n,f,s,o))}function Cp(e,n){Qu(8390656,8,e,n)}function Af(e,n){Ku(2048,8,e,n)}function TA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Hu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Np(e){var n=pe().memoizedState;return TA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dp(e,n){return Ku(4,2,e,n)}function Op(e,n){return Ku(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mp(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,xp.bind(null,n,e),s)}function Sf(){}function Vp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Up(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),zr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function bf(e,n,s){return s===void 0||(Ki&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ky(),bt.lanes|=e,ks|=e,s)}function kp(e,n,s,o){return yn(s,n)?s:Ia.current!==null?(e=bf(e,s,o),yn(e,n)||(we=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Ot&261930)===0?(we=!0,e.memoizedState=s):(e=ky(),bt.lanes|=e,ks|=e,n)}function Lp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,If(e,!1,n,s);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=pA(I,o);$o(e,n,G,Sn(e))}else $o(e,n,o,Sn(e))}catch(X){$o(e,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function AA(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Pp(e).queue;Lp(e,h,n,ht,s===null?AA:function(){return zp(e),s(o)})}function Pp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Pp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},Sn())}function Rf(){return Fe(dl)}function jp(){return pe().memoizedState}function Bp(){return pe().memoizedState}function SA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Sn();e=Ds(s);var o=Os(n,e,s);o!==null&&(fn(o,n,s),Go(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function bA(e,n,s){var o=Sn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Hp(n,s):(s=Hh(e,n,s,o),s!==null&&(fn(s,e,o),Fp(s,n,o)))}function qp(e,n,s){var o=Sn();$o(e,n,s,o)}function $o(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Hp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,yn(E,g))return Cu(e,n,h,0),te===null&&Iu(),!1}catch{}if(s=Hh(e,n,h,o),s!==null)return fn(s,e,o),Fp(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&fn(n,e,2)}function Yu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Hp(e,n){Ca=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Fp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}var Zo={readContext:Fe,use:Fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Zo.useEffectEvent=ue;var Gp={readContext:Fe,use:Fu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Cp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,xp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(zr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(zr){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=bA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=qp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=sn();return bf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Lp.bind(null,bt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=sn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ot&127)!==0||fp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Cp(mp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},dp.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=te.identifierPrefix;if(kt){var s=Ii,o=Ri;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=yA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return sn().memoizedState=SA.bind(null,bt)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Fe,use:Fu,useCallback:Vp,useContext:Fe,useEffect:Af,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:Up,useReducer:Gu,useRef:Ip,useState:function(){return Gu(Yi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=pe();return kp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Gu(Yi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Rf,useFormState:bp,useActionState:bp,useOptimistic:function(e,n){var s=pe();return yp(s,Zt,e,n)},useMemoCache:yf,useCacheRefresh:Bp};Cf.useEffectEvent=Np;var Qp={readContext:Fe,use:Fu,useCallback:Vp,useContext:Fe,useEffect:Af,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:Up,useReducer:vf,useRef:Ip,useState:function(){return vf(Yi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=pe();return Zt===null?bf(s,e,n):kp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=vf(Yi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Rf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var s=pe();return Zt!==null?yp(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Bp};Qp.useEffectEvent=Np;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Ds(o);h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(fn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Sn(),h=Ds(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(fn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Sn(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,s),n!==null&&(fn(n,e,s),Go(n,e,s))}};function Kp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(s,o)||!Lo(h,f):!0}function Yp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Xp(e){Ru(e)}function $p(e){console.error(e)}function Zp(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function Wp(e){return e=Ds(e),e.tag=3,e}function ty(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Jp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Jp(n,s,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function wA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?oc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),oc(),!1}if(kt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),jo(Vn(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),jo(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Of(e.stateNode,o,h),of(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),rl===null?rl=[f]:rl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wp(h),ty(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),we=!1;function Ge(e,n,s,o){n.child=e===null?sp(n,null,s,o):Pr(n,e.child,s,o)}function ey(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vr(n),o=df(e,n,s,g,f,h),E=mf(),e!==null&&!we?(gf(e,n,h),Xi(e,n,h)):(kt&&E&&Kh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function ny(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,iy(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Mf(e,n,s,o,h)}function sy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ry(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?op(n,f):uf(),lp(n);else return o=n.lanes=536870912,ry(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),op(n,f),Ms(),n.memoizedState=null):(e!==null&&Vu(n,null),uf(),Ms());return Ge(e,n,h,s),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),uf(),lp(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ay(e,n,s){return Pr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function RA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,Jo(null,e);if(hf(n),(e=ie)?(e=__(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Hg(e),s.return=n,n.child=s,He=n,ie=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=ay(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=te,o!==null&&(g=vo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),fn(o,e,g),xf;oc(),n=ay(e,n,s)}else e=f.treeContext,ie=zn(g.nextSibling),He=n,kt=!0,Rs=null,Ln=!1,e!==null&&Qg(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Mf(e,n,s,o,h){return Vr(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!we?(gf(e,n,h),Xi(e,n,h)):(kt&&o&&Kh(n),n.flags|=1,Ge(e,n,s,h),n.child)}function oy(e,n,s,o,h,f){return Vr(n),n.updateQueue=null,s=cp(n,o,s,h),up(e),o=mf(),e!==null&&!we?(gf(e,n,f),Xi(e,n,f)):(kt&&o&&Kh(n),n.flags|=1,Ge(e,n,s,f),n.child)}function ly(e,n,s,o,h){if(Vr(n),n.stateNode===null){var f=_a,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):_a,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=jr(s,E);f.props=I;var z=f.context,G=s.contextType;g=_a,typeof G=="object"&&G!==null&&(g=Fe(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Yp(n,f,o,g),Ns=!1;var B=n.memoizedState;f.state=B,Ko(n,o,f,h),Qo(),z=n.memoizedState,E||B!==z||Ns?(typeof X=="function"&&(Nf(n,s,X,o),z=n.memoizedState),(I=Ns||Kp(n,s,I,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,G=jr(s,g),f.props=G,X=n.pendingProps,B=f.context,z=s.contextType,I=_a,typeof z=="object"&&z!==null&&(I=Fe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==I)&&Yp(n,f,o,I),Ns=!1,B=n.memoizedState,f.state=B,Ko(n,o,f,h),Qo();var H=n.memoizedState;g!==X||B!==H||Ns||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),H=n.memoizedState),(G=Ns||Kp(n,s,G,o,B,H,I)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Pr(n,e.child,null,h),n.child=Pr(n,null,s,h)):Ge(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function uy(e,n,s,o){return xr(),n.flags|=256,Ge(e,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Jg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function cy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?xs(n):Ms(),(e=ie)?(e=__(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Hg(e),s.return=n,n.child=s,He=n,ie=null)):e=null,e===null)throw Is(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ms(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Or(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=kf(e,g,s),n.memoizedState=Vf,Jo(null,o)):(xs(n),Lf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(Ms(),n.child=e.child,n.flags|=128,n=null):(Ms(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Or(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=kf(e,g,s),n.memoizedState=Vf,n=Jo(null,o));else if(xs(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,jo({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(we||Aa(e,n,s,!1),g=(s&e.childLanes)!==0,we||g){if(g=te,g!==null&&(o=vo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Dr(e,o),fn(g,e,o),xf;yd(E)||oc(),n=Pf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=zn(E.nextSibling),He=n,kt=!0,Rs=null,Ln=!1,e!==null&&Qg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Ms(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Hi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=Or(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Vf,Jo(e.child,o)):(xs(n),s=e.child,e=s.sibling,s=Hi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return Pr(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function fy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,Z(ge,g),Ge(e,n,o,s),o=kt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,n);else if(e.tag===19)hy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ks|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Hi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function IA(e,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Cs(n,Se,e.memoizedState.cache),xr();break;case 27:case 5:ai(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cy(e,n,s):(xs(n),e=Xi(e,n,s),e!==null?e.sibling:null);xs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return fy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(ge,ge.current),o)break;return null;case 22:return n.lanes=0,sy(e,n,s,n.pendingProps);case 24:Cs(n,Se,e.memoizedState.cache)}return Xi(e,n,s)}function dy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return we=!1,IA(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Gg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=jr(e,o),n.tag=1,n=ly(null,n,e,o,s)):(n.tag=0,n=Mf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=ey(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=ny(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=jr(o,n.pendingProps),ly(e,n,o,h,s);case 3:t:{if(Rt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Ko(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Cs(n,Se,o),o!==f.cache&&Wh(n,[Se],s,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),jo(h),n=uy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=zn(e.firstChild),He=n,kt=!0,Rs=null,Ln=!0,s=sp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xr(),o===h){n=Xi(e,n,s);break t}Ge(e,n,o,s)}n=n.child}return n;case 26:return Zu(e,n),e===null?(s=b_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=mc(ot.current).createElement(s),o[Ee]=n,o[ke]=e,Qe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=b_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ai(n),e===null&&kt&&(o=n.stateNode=T_(n.type,n.pendingProps,ot.current),He=n,Ln=!0,h=ie,Bs(n.type)?(vd=h,ie=zn(o.firstChild)):ie=h),Ge(e,n,n.pendingProps.children,s),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=i1(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,He=n,ie=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||Is(n)),ai(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,_A,null,null,s),dl._currentValue=h),Zu(e,n),Ge(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ie)&&(s=s1(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,He=n,ie=null,e=!0):e=!1),e||Is(n)),null;case 13:return cy(e,n,s);case 4:return Rt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pr(n,null,o,s):Ge(e,n,o,s),n.child;case 11:return ey(e,n,n.type,n.pendingProps,s);case 7:return Ge(e,n,n.pendingProps,s),n.child;case 8:return Ge(e,n,n.pendingProps.children,s),n.child;case 12:return Ge(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Cs(n,n.type,o.value),Ge(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=Fe(h),o=o(h),n.flags|=1,Ge(e,n,o,s),n.child;case 14:return ny(e,n,n.type,n.pendingProps,s);case 15:return iy(e,n,n.type,n.pendingProps,s);case 19:return fy(e,n,s);case 31:return RA(e,n,s);case 22:return sy(e,n,s,n.pendingProps);case 24:return Vr(n),o=Fe(Se),e===null?(h=nf(),h===null&&(h=te,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Cs(n,Se,h)):((e.lanes&s)!==0&&(af(e,n),Ko(n,null,null,s),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Cs(n,Se,o)):(o=f.cache,Cs(n,Se,o),o!==h.cache&&Wh(n,[Se],s,!0))),Ge(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(jy())e.flags|=8192;else throw Lr=ku,sf}else e.flags&=-16777217}function my(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!N_(n))if(jy())e.flags|=8192;else throw Lr=ku,sf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Va|=n)}function Wo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function CA(e,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Se),Dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(se(n),my(n,f)):(se(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?($i(n),se(n),my(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),se(n),Bf(n,h,e,o,s)),null;case 27:if(oi(n),s=ot.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=W.current,Ta(n)?Kg(n):(e=T_(h,o,s),n.stateNode=e,$i(n))}return se(n),null;case 5:if(oi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=W.current,Ta(n))Kg(n);else{var g=mc(ot.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return se(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ot.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||c_(e.nodeValue,s)),e||Is(n,!0)}else e=mc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),se(n),null);case 4:return Dt(),e===null&&ud(n.stateNode.containerInfo),se(n),null;case 10:return Qi(n.type),se(n),null;case 19:if(k(ge),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)qg(s,e),s=s.sibling;return Z(ge,ge.current&1|2),kt&&Fi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>sc&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return se(n),null}else 2*en()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=ge.current,Z(ge,h?s&1|2:s&1),kt&&Fi(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return En(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&k(Ur),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function NA(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Se),Dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(ge),null;case 4:return Dt(),null;case 10:return Qi(n.type),null;case 22:case 23:return En(n),cf(),e!==null&&k(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Se),null;case 25:return null;default:return null}}function gy(e,n){switch(Yh(n),n.tag){case 3:Qi(Se),Dt();break;case 26:case 27:case 5:oi(n);break;case 4:Dt();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:k(ge);break;case 10:Qi(n.type);break;case 22:case 23:En(n),cf(),e!==null&&k(Ur);break;case 24:Qi(Se)}}function tl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Vs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Xt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function py(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ap(n,s)}catch(o){Xt(e,e.return,o)}}}function yy(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function el(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Ci(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function _y(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function qf(e,n,s){try{var o=e.stateNode;ZA(o,e.type,s,n),o[ke]=n}catch(h){Xt(e,e.return,h)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&Bs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Bs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function Ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,s),n[Ee]=e,n[ke]=s}catch(f){Xt(e,e.return,f)}}var Zi=!1,Re=!1,Gf=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function DA(e,n){if(e=e.containerInfo,fd=Tc,e=Mg(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,G=0,X=e,B=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===s&&++z===h&&(E=g),B===f&&++G===o&&(I=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},Tc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=jr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Ay(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),o&4&&tl(5,s);break;case 1:if(Wi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&py(s),o&512&&el(s,s.return);break;case 3:if(Wi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ap(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&Ey(s);case 26:case 5:Wi(e,s),n===null&&o&4&&_y(s),o&512&&el(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),o&4&&wy(e,s);break;case 13:Wi(e,s),o&4&&Ry(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zA.bind(null,s),r1(e,s))));break;case 22:if(o=s.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Zi;var f=Re;Zi=o,(Re=n)&&!f?ts(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Zi=h,Re=f}break;case 30:break;default:Wi(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,ln=!1;function Ji(e,n,s){for(s=s.child;s!==null;)by(e,n,s),s=s.sibling}function by(e,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Fn,s)}catch{}switch(s.tag){case 26:Re||Ci(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||Ci(s,n);var o=oe,h=ln;Bs(s.type)&&(oe=s.stateNode,ln=!1),Ji(e,n,s),cl(s.stateNode),oe=o,ln=h;break;case 5:Re||Ci(s,n);case 6:if(o=oe,h=ln,oe=null,Ji(e,n,s),oe=o,ln=h,oe!==null)if(ln)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:oe!==null&&(ln?(e=oe,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):p_(oe,s.stateNode));break;case 4:o=oe,h=ln,oe=s.stateNode.containerInfo,ln=!0,Ji(e,n,s),oe=o,ln=h;break;case 0:case 11:case 14:case 15:Vs(2,s,n),Re||Vs(4,s,n),Ji(e,n,s);break;case 1:Re||(Ci(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&yy(s,n,o)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Ji(e,n,s),Re=o;break;default:Ji(e,n,s)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){Xt(n,n.return,s)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){Xt(n,n.return,s)}}function OA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ty),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ty),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=OA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=jA.bind(null,e,o);o.then(h,h)}})}function un(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Bs(E.type)){oe=E.stateNode,ln=!1;break t}break;case 5:oe=E.stateNode,ln=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(oe===null)throw Error(a(160));by(f,g,h),oe=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var ti=null;function Iy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Vs(3,e,e.return),tl(3,e),Vs(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Re||s===null||Ci(s,s.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ti;if(un(n,e),cn(e),o&512&&(Re||s===null||Ci(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var g=I_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=I_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else C_(h,e.type,e.stateNode);else e.stateNode=R_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?C_(h,e.type,e.stateNode):R_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Re||s===null||Ci(s,s.return)),s!==null&&o&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Re||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(yc=null,h=ti,ti=gc(n.containerInfo),un(n,e),ti=h,cn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}Gf&&(Gf=!1,Cy(e));break;case 4:o=ti,ti=gc(e.stateNode.containerInfo),un(n,e),cn(e),ti=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Zi,G=Re;if(Zi=z||h,Re=G||I,un(n,e),Re=G,Zi=z,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Zi||Re||Br(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Xt(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?y_(H,!0):y_(I.stateNode,!1)}catch(lt){Xt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(vy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);tc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(on(g,""),s.flags&=-33);var E=Hf(e);tc(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Hf(e);Ff(e,z,I);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Br(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&yy(n,n.return,s),Br(n);break;case 27:cl(n.stateNode);case 26:case 5:Ci(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ts(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),tl(4,f);break;case 1:if(ts(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)rp(I[h],E)}catch(z){Xt(o,o.return,z)}}s&&g&64&&py(f),el(f,f.return);break;case 27:Ey(f);case 26:case 5:ts(h,f,s),s&&o===null&&g&4&&_y(f),el(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&g&4&&wy(h,f);break;case 13:ts(h,f,s),s&&g&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),el(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function ei(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(e,n,s,o),n=n.sibling}function Ny(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,o),h&2048&&tl(9,n);break;case 1:ei(e,n,s,o);break;case 3:ei(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){ei(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else ei(e,n,s,o);break;case 31:ei(e,n,s,o);break;case 13:ei(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,o):nl(e,n):f._visibility&2?ei(e,n,s,o):(f._visibility|=2,Oa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:ei(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:ei(e,n,s,o)}}function Oa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,I,h),tl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,I,h):nl(f,g):(G._visibility|=2,Oa(f,g,E,I,h)),h&&z&2048&&Qf(g.alternate,g);break;case 24:Oa(f,g,E,I,h),h&&z&2048&&Kf(g.alternate,g);break;default:Oa(f,g,E,I,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:nl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:nl(s,o),h&2048&&Kf(o.alternate,o);break;default:nl(s,o)}n=n.sibling}}var il=8192;function xa(e,n,s){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Dy(e,n,s),e=e.sibling}function Dy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&il&&e.memoizedState!==null&&y1(s,ti,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var o=ti;ti=gc(e.stateNode.containerInfo),xa(e,n,s),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,xa(e,n,s),il=o):xa(e,n,s));break;default:xa(e,n,s)}}function Oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,My(o,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):sl(e);break;default:sl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,My(o,e)}Oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function My(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:Vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Sy(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var xA={getCacheForType:function(e){var n=Fe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(Se).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Ct=null,Ot=0,Yt=0,Tn=null,Us=!1,Ma=!1,Yf=!1,es=0,ce=0,ks=0,qr=0,Xf=0,An=0,Va=0,rl=null,hn=null,$f=!1,ic=0,Vy=0,sc=1/0,rc=null,Ls=null,xe=0,Ps=null,Ua=null,ns=0,Zf=0,Jf=null,Uy=null,al=0,Wf=null;function Sn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?rd():au()}function ky(){if(An===0)if((Ot&536870912)===0||kt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function fn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),zs(e,Ot,An,!1)),pr(e,s),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(qr|=s),ce===4&&zs(e,Ot,An,!1)),Ni(e))}function Ly(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=o?kA(e,n):ed(e,n,!0),f=o;do{if(h===0){Ma&&!o&&zs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!VA(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var I=E.current.memoizedState.isDehydrated;if(I&&(ka(E,g).flags|=256),g=ed(E,g,!1),g!==2){if(Yf&&!I){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,An,!Us);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(zs(o,n,An,!Us),hi(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=m_(Py.bind(null,o,s,hn,rc,$f,n,An,qr,Va,Us,f,"Throttled",-0,0),h);break t}Py(o,s,hn,rc,$f,n,An,qr,Va,Us,f,null,-0,0)}}break}while(!0);Ni(e)}function Py(e,n,s,o,h,f,g,E,I,z,G,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Dy(n,f,X);var lt=(f&62914560)===f?ic-en():(f&4194048)===f?Vy-en():0;if(lt=_1(X,lt),lt!==null){ns=f,e.cancelPendingCommit=lt(Qy.bind(null,e,n,f,s,o,h,g,E,I,G,X,null,B,H)),zs(e,f,g,!z);return}}Qy(e,n,f,s,o,h,g,E,I)}function VA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,s,o){n&=~Xf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&yr(e,s,n)}function ac(){return(Ht&6)===0?(ol(0),!1):!0}function td(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Gi=Mr=null,pf(e),Ra=null,Ho=0,e=Ct;for(;e!==null;)gy(e.alternate,e),e=e.return;Ct=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,t1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ns=0,td(),te=e,Ct=s=Hi(e.current,null),Ot=n,Yt=0,Tn=null,Us=!1,Ma=Gn(e,n),Yf=!1,Va=An=Xf=qr=ks=ce=0,hn=rl=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return es=n,Iu(),s}function zy(e,n){bt=null,F.H=Zo,n===wa||n===Uu?(n=ep(),Yt=3):n===sf?(n=ep(),Yt=4):Yt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Ct===null&&(ce=1,Xu(e,Vn(n,e.current)))}function jy(){var e=vn.current;return e===null?!0:(Ot&4194048)===Ot?Pn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Pn:!1}function By(){var e=F.H;return F.H=Zo,e===null?Zo:e}function qy(){var e=F.A;return F.A=xA,e}function oc(){ce=4,Us||(Ot&4194048)!==Ot&&vn.current!==null||(Ma=!0),(ks&134217727)===0&&(qr&134217727)===0||te===null||zs(te,Ot,An,!1)}function ed(e,n,s){var o=Ht;Ht|=2;var h=By(),f=qy();(te!==e||Ot!==n)&&(rc=null,ka(e,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,I=Tn;switch(Yt){case 8:td(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Yt;if(Yt=0,Tn=null,La(e,E,I,z),s&&Ma){g=0;break t}break;default:z=Yt,Yt=0,Tn=null,La(e,E,I,z)}}UA(),g=ce;break}catch(G){zy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Gi=Mr=null,Ht=o,F.H=h,F.A=f,Ct===null&&(te=null,Ot=0,Iu()),g}function UA(){for(;Ct!==null;)Hy(Ct)}function kA(e,n){var s=Ht;Ht|=2;var o=By(),h=qy();te!==e||Ot!==n?(rc=null,sc=en()+500,ka(e,n)):Ma=Gn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=Tn;e:switch(Yt){case 1:Yt=0,Tn=null,La(e,n,f,1);break;case 2:case 9:if(Wg(f)){Yt=0,Tn=null,Fy(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ni(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Wg(f)?(Yt=0,Tn=null,Fy(n)):(Yt=0,Tn=null,La(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?N_(g):E.stateNode.complete){Yt=0,Tn=null;var I=E.sibling;if(I!==null)Ct=I;else{var z=E.return;z!==null?(Ct=z,lc(z)):Ct=null}break e}}Yt=0,Tn=null,La(e,n,f,5);break;case 6:Yt=0,Tn=null,La(e,n,f,6);break;case 8:td(),ce=6;break t;default:throw Error(a(462))}}LA();break}catch(G){zy(e,G)}while(!0);return Gi=Mr=null,F.H=o,F.A=h,Ht=s,Ct!==null?0:(te=null,Ot=0,Iu(),ce)}function LA(){for(;Ct!==null&&!Dh();)Hy(Ct)}function Hy(e){var n=dy(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function Fy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=oy(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=oy(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:pf(n);default:gy(s,n),n=Ct=qg(n,es),n=dy(s,n,es)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function La(e,n,s,o){Gi=Mr=null,pf(n),Ra=null,Ho=0;var h=n.return;try{if(wA(e,h,n,s,Ot)){ce=1,Xu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Xu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Ma||(Ot&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Gy(n,Us);return}e=n.return;var s=CA(n.alternate,n,es);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function Gy(e,n){do{var s=NA(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function Qy(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do uc();while(xe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(e,s,f,g,E,I),e===te&&(Ct=te=null,Ot=0),Ua=n,Ps=e,ns=s,Zf=f,Jf=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BA(gs,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Ht,Ht|=4;try{DA(e,n,s)}finally{Ht=g,nt.p=h,F.T=o}}xe=1,Ky(),Yy(),Xy()}}function Ky(){if(xe===1){xe=0;var e=Ps,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Iy(n,e);var f=dd,g=Mg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=E.textContent.length,pt=Math.min(I.start,lt),Wt=I.end===void 0?pt:Math.min(I.end,lt);!H.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var V=Og(E,pt),D=Og(E,Wt);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),pt>Wt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!fd,dd=fd=null}finally{Ht=h,nt.p=o,F.T=s}}e.current=n,xe=2}}function Yy(){if(xe===2){xe=0;var e=Ps,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{Ay(e,n.alternate,n)}finally{Ht=h,nt.p=o,F.T=s}}xe=3}}function Xy(){if(xe===4||xe===3){xe=0,Wl();var e=Ps,n=Ua,s=ns,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Ua=Ps=null,$y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ls=null),zi(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(ns&3)!==0&&uc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?al++:(al=0,Wf=e):al=0,ol(0)}}function $y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function uc(){return Ky(),Yy(),Xy(),Zy()}function Zy(){if(xe!==5)return!1;var e=Ps,n=Zf;Zf=0;var s=zi(ns),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Jf,Jf=null;var f=Ps,g=ns;if(xe=0,Ua=Ps=null,ns=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,xy(f.current),Ny(f,f.current,g,s),Ht=E,ol(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{nt.p=h,F.T=o,$y(e,n)}}function Jy(e,n,s){n=Vn(s,n),n=Of(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(pr(e,2),Ni(e))}function Xt(e,n,s){if(e.tag===3)Jy(e,e,s);else for(;n!==null;){if(n.tag===3){Jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){e=Vn(s,e),s=Wp(2),o=Os(n,s,2),o!==null&&(ty(s,o,n,e),pr(o,2),Ni(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new MA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=PA.bind(null,e,n,s),n.then(e,e))}function PA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ot&s)===s&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>en()-ic?(Ht&2)===0&&ka(e,0):Xf|=s,Va===Ot&&(Va=0)),Ni(e)}function Wy(e,n){n===0&&(n=ru()),e=Dr(e,n),e!==null&&(pr(e,n),Ni(e))}function zA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wy(e,s)}function jA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Wy(e,s)}function BA(e,n){return Oe(e,n)}var cc=null,Pa=null,id=!1,hc=!1,sd=!1,js=0;function Ni(e){e!==Pa&&e.next===null&&(Pa===null?cc=Pa=e:Pa=Pa.next=e),hc=!0,id||(id=!0,HA())}function ol(e,n){if(!sd&&hc){sd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,i_(o,f))}else f=Ot,f=hi(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(s=!0,i_(o,f));o=o.next}while(s);sd=!1}}function qA(){t_()}function t_(){hc=id=!1;var e=0;js!==0&&WA()&&(e=js);for(var n=en(),s=null,o=cc;o!==null;){var h=o.next,f=e_(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}xe!==0&&xe!==5||ol(e),js!==0&&(js=0)}function e_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=xh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Ot,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ms(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ms(o),zi(s)){case 2:case 8:s=yo;break;case 32:s=gs;break;case 268435456:s=tu;break;default:s=gs}return o=n_.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ms(o),e.callbackPriority=2,e.callbackNode=null,2}function n_(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Ot;return o=hi(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,n),e_(e,en()),e.callbackNode!=null&&e.callbackNode===s?n_.bind(null,e):null)}function i_(e,n){if(uc())return null;Ly(e,n,!0)}function HA(){e1(function(){(Ht&6)!==0?Oe(po,qA):t_()})}function rd(){if(js===0){var e=Sa;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),js=e}return js}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function r_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function FA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=s_((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?s_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ai("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var I=g?r_(h,g):new FormData(h);wf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?r_(h,g):new FormData(h),wf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],GA=od.toLowerCase(),QA=od[0].toUpperCase()+od.slice(1);Wn(GA,"on"+QA)}Wn(kg,"onAnimationEnd"),Wn(Lg,"onAnimationIteration"),Wn(Pg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(lA,"onTransitionRun"),Wn(uA,"onTransitionStart"),Wn(cA,"onTransitionCancel"),Wn(zg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function a_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(o_(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),o_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[fc]){e[fc]=!0,Eo.forEach(function(s){s!=="selectionchange"&&(KA.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,ld("selectionchange",!1,n))}}function o_(e,n,s,o){switch(k_(n)){case 2:var h=T1;break;case 8:h=A1;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ts(function(){var z=f,G=Dn(s),X=[];t:{var B=jg.get(e);if(B!==void 0){var H=Ai,lt=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":lt="focus",H=Rr;break;case"focusout":lt="blur",H=Rr;break;case"beforeblur":case"afterblur":H=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case kg:case Lg:case Pg:H=pu;break;case zg:H=T;break;case"scroll":case"scrollend":H=xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=qi;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),V=pt?B!==null?B+"Capture":null:B;pt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||V===null||(K=Xn(D,V),K!=null&&pt.push(ul(D,K,P))),Wt)break;D=D.return}0<pt.length&&(B=new H(B,lt,null,s,G),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==No&&(lt=s.relatedTarget||s.fromElement)&&(gi(lt)||lt[di]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=z,lt=lt?gi(lt):null,lt!==null&&(Wt=c(lt),pt=lt.tag,lt!==Wt||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=Mo,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=qi,K="onPointerLeave",V="onPointerEnter",D="pointer"),Wt=H==null?B:gn(H),P=lt==null?B:gn(lt),B=new pt(K,D+"leave",H,s,G),B.target=Wt,B.relatedTarget=P,K=null,gi(G)===z&&(pt=new pt(V,D+"enter",lt,s,G),pt.target=P,pt.relatedTarget=Wt,K=pt),Wt=K,H&&lt)e:{for(pt=YA,V=H,D=lt,P=0,K=V;K;K=pt(K))P++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<P-K;)V=pt(V),P--;for(;0<K-P;)D=pt(D),K--;for(;P--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;H!==null&&l_(X,B,H,pt,!1),lt!==null&&Wt!==null&&l_(X,Wt,lt,pt,!0)}}t:{if(B=z?gn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var jt=wg;else if(Sg(B))if(Rg)jt=rA;else{jt=iA;var ut=nA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&oa(z.elementType)&&(jt=wg):jt=sA;if(jt&&(jt=jt(e,z))){bg(X,jt,s,G);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ro(B,"number",B.value)}switch(ut=z?gn(z):window,e){case"focusin":(Sg(ut)||ut.contentEditable==="true")&&(ga=ut,Ph=z,Po=null);break;case"focusout":Po=Ph=ga=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Vg(X,s,G);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":Vg(X,s,G)}var wt;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ma?Ir(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(wi&&s.locale!=="ko"&&(ma||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ma&&(wt=Oo()):(Ti=G,Do="value"in Ti?Ti.value:Ti.textContent,ma=!0)),ut=dc(z,xt),0<ut.length&&(xt=new bi(xt,e,null,s,G),X.push({event:xt,listeners:ut}),wt?xt.data=wt:(wt=da(s),wt!==null&&(xt.data=wt)))),(wt=xn?JT(e,s):WT(e,s))&&(xt=dc(z,"onBeforeInput"),0<xt.length&&(ut=new bi("onBeforeInput","beforeinput",null,s,G),X.push({event:ut,listeners:xt}),ut.data=wt)),FA(X,e,z,s,G)}a_(X,n)})}function ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,s),h!=null&&o.unshift(ul(e,h,f)),h=Xn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function YA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function l_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Xn(s,f),z!=null&&g.unshift(ul(s,z,I))):h||(z=Xn(s,f),z!=null&&g.push(ul(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var XA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(XA,`
`).replace($A,"")}function c_(e,n){return n=u_(n),u_(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,s,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ra(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ra(e,s,o)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Jt(e,n,o,G,s,null)}}cu(e,f,E,I,z,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ys(e,!!o,n,!1):s!=null&&ys(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,s,null)}_s(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Nt(ll[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,o,s,null)}return;default:if(oa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&hd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function ZA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||Jt(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=s[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Jt(e,n,B,H,o,X)}}aa(e,g,E,I,z,G,f,h);return;case"select":H=g=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,s=g,o=H,B!=null?ys(e,!!s,B,!1):!!o!=!!s&&(n!=null?ys(e,!!s,n,!0):ys(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}hu(e,B,H);return;case"option":for(var lt in s)B=s[lt],s.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,o,B));for(I in o)B=o[I],H=s[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Jt(e,n,pt,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Jt(e,n,z,B,o,H)}return;default:if(oa(n)){for(var Wt in s)B=s[Wt],s.hasOwnProperty(Wt)&&B!==void 0&&!o.hasOwnProperty(Wt)&&hd(e,n,Wt,void 0,o,B);for(G in o)B=o[G],H=s[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||hd(e,n,G,B,o,H);return}}for(var V in s)B=s[V],s.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&Jt(e,n,V,null,o,B);for(X in o)B=o[X],H=s[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||Jt(e,n,X,B,o,H)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&h_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&h_(X)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function f_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function WA(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(n1)}:m_;function n1(e){setTimeout(function(){throw e})}function Bs(e){return e==="head"}function p_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")cl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,cl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&cl(e.ownerDocument.body);s=h}while(s);qa(n)}function y_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function i1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function s1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function __(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function v_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function E_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function T_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var jn=new Map,A_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=nt.d;nt.d={f:a1,r:o1,D:l1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var e=is.f(),n=ac();return e||n}function o1(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):is.r(e)}var za=typeof document>"u"?null:document;function S_(e,n,s){var o=za;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),A_.has(h)||(A_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Te(n),o.head.appendChild(n)))}}function l1(e){is.D(e),S_("dns-prefetch",e,null)}function u1(e,n){is.C(e,n),S_("preconnect",e,n)}function c1(e,n,s){is.L(e,n,s);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}jn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Qe(n,"link",e),Te(n),o.head.appendChild(n)))}}function h1(e,n){is.m(e,n);var s=za;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!jn.has(f)&&(e=b({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fl(f)))return}o=s.createElement("link"),Qe(o,"link",e),Te(o),s.head.appendChild(o)}}}function f1(e,n,s){is.S(e,n,s);var o=za;if(o&&e){var h=pi(o).hoistableStyles,f=ja(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(hl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&Ed(e,s);var I=g=o.createElement("link");Te(I),Qe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function d1(e,n){is.X(e,n);var s=za;if(s&&e){var o=pi(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(fl(h)),f||(e=b({src:e,async:!0},n),(n=jn.get(h))&&Td(e,n),f=s.createElement("script"),Te(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m1(e,n){is.M(e,n);var s=za;if(s&&e){var o=pi(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(fl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Td(e,n),f=s.createElement("script"),Te(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function b_(e,n,s,o){var h=(h=ot.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=pi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(hl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||g1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=pi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ja(e){return'href="'+an(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",s),Te(n),e.head.appendChild(n))}function Ba(e){return'[src="'+an(e)+'"]'}function fl(e){return"script[async]"+e}function R_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Qe(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=w_(s),(h=jn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(h=e.querySelector(fl(f)))?(n.instance=h,Te(h),h):(o=s,(h=jn.get(f))&&(o=b({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function I_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function C_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function p1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function y1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=w_(o),(h=jn.get(h))&&Ed(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function _1(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*JA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(v1,e),vc=null,_c.call(e))}function v1(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function E1(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D_(e,n,s,o,h,f,g,E,I,z,G,X){return e=new E1(e,n,s,g,I,z,G,X,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function O_(e){return e?(e=_a,e):_a}function x_(e,n,s,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Os(e,o,n),s!==null&&(fn(s,e,n),Go(s,e,n))}function M_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){M_(e,n),(e=e.alternate)&&M_(e,n)}function V_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&fn(n,e,67108864),Sd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var n=Sn();n=_r(n);var s=Dr(e,n);s!==null&&fn(s,e,n),Sd(e,n)}}var Tc=!0;function T1(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,bd(e,n,s,o)}finally{nt.p=f,F.T=h}}function A1(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,bd(e,n,s,o)}finally{nt.p=f,F.T=h}}function bd(e,n,s,o){if(Tc){var h=wd(o);if(h===null)cd(e,n,o,Ac,s),L_(e,o);else if(b1(h,e,n,s,o))o.stopPropagation();else if(L_(e,o),n&4&&-1<S1.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-de(g);E.entanglements[1]|=I,g&=~I}Ni(f),(Ht&6)===0&&(sc=en()+500,ol(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&fn(E,f,2),ac(),Sd(f,2)}if(f=wd(o),f===null&&cd(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=Dn(e),Rd(e)}var Ac=null;function Rd(e){if(Ac=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case po:return 2;case yo:return 8;case gs:case Oh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Id=!1,qs=null,Hs=null,Fs=null,ml=new Map,gl=new Map,Gs=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(e,n){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&V_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function b1(e,n,s,o,h){switch(n){case"focusin":return qs=pl(qs,e,n,s,o,h),!0;case"dragenter":return Hs=pl(Hs,e,n,s,o,h),!0;case"mouseover":return Fs=pl(Fs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,e,n,s,o,h)),!0}return!1}function P_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){U_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){U_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Nn(s),n!==null&&V_(n),e.blockedOn=s,!1;n.shift()}return!0}function z_(e,n,s){Sc(e)&&s.delete(n)}function w1(){Id=!1,qs!==null&&Sc(qs)&&(qs=null),Hs!==null&&Sc(Hs)&&(Hs=null),Fs!==null&&Sc(Fs)&&(Fs=null),ml.forEach(z_),gl.forEach(z_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var wc=null;function j_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(I){return bc(I,e)}qs!==null&&bc(qs,e),Hs!==null&&bc(Hs,e),Fs!==null&&bc(Fs,e),ml.forEach(n),gl.forEach(n);for(var s=0;s<Gs.length;s++){var o=Gs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gs.length&&(s=Gs[0],s.blockedOn===null);)P_(s),s.blockedOn===null&&Gs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ke]||null;if(typeof f=="function")g||j_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),j_(s)}}}function B_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Rc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Sn();x_(s,o,e,n,null,null)},Rc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),ac(),n[di]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Gs.length&&n!==0&&n<Gs[s].priority;s++);Gs.splice(s,0,e),s===0&&P_(e)}};var q_=t.version;if(q_!=="19.2.3")throw Error(a(527,q_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var R1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Fn=Ic.inject(R1),Be=Ic}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Xp,f=$p,g=Zp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=D_(e,1,!1,null,null,s,o,null,h,f,g,B_),e[di]=n.current,ud(e),new Cd(n)},_l.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Xp,g=$p,E=Zp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=D_(e,1,!0,n,s??null,o,h,I,f,g,E,B_),n.context=O_(null),s=n.current,o=Sn(),o=_r(o),h=Ds(o),h.callback=null,Os(s,h,o),s=o,n.current.lanes=s,pr(n,s),Ni(n),e[di]=n.current,ud(e),new Rc(n)},_l.version="19.2.3",_l}var J_;function k1(){if(J_)return Od.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=U1(),Od.exports}var L1=k1();const P1=()=>{};var W_={};const D0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},z1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Q=_&63;y||(Q=64,d||(x=64)),a.push(i[A],i[b],i[x],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(D0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):z1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new j1;const x=c<<2|p>>4;if(a.push(x),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),b!==64){const J=_<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const t=D0(r);return O0.encodeByteArray(t,!0)},Kc=function(r){return B1(r).replace(/\./g,"")},x0=function(r){try{return O0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H1=()=>q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&x0(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return P1()||H1()||F1()||G1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M0=r=>hh()?.emulatorHosts?.[r],Q1=r=>{const t=M0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},V0=()=>hh()?.config,U0=r=>hh()?.[`_${r}`];class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}function Y1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const bl={};function X1(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function $1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let tv=!1;function L0(r,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||bl[r]===t||bl[r]||tv)return;bl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=X1().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{tv=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=$1(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Et=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const gt=x.element;p(gt),A(tt,it);const Ft=_();y(Et,mt),gt.append(Et,J,tt,Ft),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function J1(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iS(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const aS="FirebaseError";class ds extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=aS,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?oS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ds(l,p,a)}}function oS(r,t){return r.replace(lS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const lS=/\{\$([^}]+)}/g;function uS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Yr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(ev(c)&&ev(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function ev(r){return r!==null&&typeof r=="object"}function ql(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function cS(r,t){const i=new hS(r,t);return i.subscribe.bind(i)}class hS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");fS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function Ue(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class dS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new K1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gS(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(r){return r===Hr?void 0:r}function gS(r){return r.instantiationMode==="EAGER"}class pS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const yS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},_S=Mt.INFO,vS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},ES=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=vS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=_S,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const TS=(r,t)=>t.some(i=>r instanceof i);let nv,iv;function AS(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,tm=new WeakMap,z0=new WeakMap,kd=new WeakMap,Cm=new WeakMap;function bS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&P0.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function wS(r){if(tm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||z0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function RS(r){em=r(em)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return z0.set(a,t.sort?t.sort():[t]),Js(a)}:SS().includes(r)?function(...t){return r.apply(Ld(this),t),Js(P0.get(this))}:function(...t){return Js(r.apply(Ld(this),t))}}function CS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&wS(r),TS(r,AS())?new Proxy(r,em):r)}function Js(r){if(r instanceof IDBRequest)return bS(r);if(kd.has(r))return kd.get(r);const t=CS(r);return t!==r&&(kd.set(r,t),Cm.set(t,r)),t}const Ld=r=>Cm.get(r);function NS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Js(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Js(d.result),y.oldVersion,y.newVersion,Js(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],Pd=new Map;function sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=OS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Pd.set(t,c),c}RS(r=>({...r,get:(t,i,a)=>sv(t,i)||r.get(t,i,a),has:(t,i)=>!!sv(t,i)||r.has(t,i)}));class xS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MS(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",rv="0.14.6";const ls=new Im("@firebase/app"),VS="@firebase/app-compat",US="@firebase/analytics-compat",kS="@firebase/analytics",LS="@firebase/app-check-compat",PS="@firebase/app-check",zS="@firebase/auth",jS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",FS="@firebase/functions",GS="@firebase/functions-compat",QS="@firebase/installations",KS="@firebase/installations-compat",YS="@firebase/messaging",XS="@firebase/messaging-compat",$S="@firebase/performance",ZS="@firebase/performance-compat",JS="@firebase/remote-config",WS="@firebase/remote-config-compat",tb="@firebase/storage",eb="@firebase/storage-compat",nb="@firebase/firestore",ib="@firebase/ai",sb="@firebase/firestore-compat",rb="firebase",ab="12.6.0";const im="[DEFAULT]",ob={[nm]:"fire-core",[VS]:"fire-core-compat",[kS]:"fire-analytics",[US]:"fire-analytics-compat",[PS]:"fire-app-check",[LS]:"fire-app-check-compat",[zS]:"fire-auth",[jS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[FS]:"fire-fn",[GS]:"fire-fn-compat",[QS]:"fire-iid",[KS]:"fire-iid-compat",[YS]:"fire-fcm",[XS]:"fire-fcm-compat",[$S]:"fire-perf",[ZS]:"fire-perf-compat",[JS]:"fire-rc",[WS]:"fire-rc-compat",[tb]:"fire-gcs",[eb]:"fire-gcs-compat",[nb]:"fire-fst",[sb]:"fire-fst-compat",[ib]:"fire-vertex","fire-js":"fire-js",[rb]:"fire-js-all"};const Yc=new Map,lb=new Map,sm=new Map;function av(r,t){try{r.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(sm.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of Yc.values())av(i,r);for(const i of lb.values())av(i,r);return!0}function Nm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function bn(r){return r==null?!1:r.settings!==void 0}const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Bl("app","Firebase",ub);class cb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const oo=ab;function j0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(i||(i=V0()),!i)throw Ws.create("no-options");const c=Yc.get(l);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw Ws.create("duplicate-app",{appName:l})}const d=new pS(l);for(const y of sm.values())d.addComponent(y);const p=new cb(i,a,d);return Yc.set(l,p),p}function B0(r=im){const t=Yc.get(r);if(!t&&r===im&&V0())return j0();if(!t)throw Ws.create("no-app",{appName:r});return t}function tr(r,t,i){let a=ob[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}Wa(new Xr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const hb="firebase-heartbeat-database",fb=1,Dl="firebase-heartbeat-store";let zd=null;function q0(){return zd||(zd=NS(hb,fb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),zd}async function db(r){try{const i=(await q0()).transaction(Dl),a=await i.objectStore(Dl).get(H0(r));return await i.done,a}catch(t){if(t instanceof ds)ls.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function ov(r,t){try{const a=(await q0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,H0(r)),await a.done}catch(i){if(i instanceof ds)ls.warn(i.message);else{const a=Ws.create("idb-set",{originalErrorMessage:i?.message});ls.warn(a.message)}}}function H0(r){return`${r.name}!${r.options.appId}`}const mb=1024,gb=30;class pb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _b(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>gb){const l=vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lv(),{heartbeatsToSend:i,unsentEntries:a}=yb(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ls.warn(t),""}}}function lv(){return new Date().toISOString().substring(0,10)}function yb(r,t=mb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),uv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),uv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class _b{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await db(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ov(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function uv(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function vb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Eb(r){Wa(new Xr("platform-logger",t=>new xS(t),"PRIVATE")),Wa(new Xr("heartbeat",t=>new pb(t),"PRIVATE")),tr(nm,rv,r),tr(nm,rv,"esm2020"),tr("fire-js","")}Eb("");var Tb="firebase",Ab="12.7.0";tr(Tb,Ab,"app");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,F0;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,O,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return w.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],O=N.g[2];let U=N.g[3],R;R=w+(U^C&(O^U))+M[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+M[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+M[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+M[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+M[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+M[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+M[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+M[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+M[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+M[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+M[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+M[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^U&(C^O))+M[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+M[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+M[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+M[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+M[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+M[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+M[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+M[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+M[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+M[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+M[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+M[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^U)+M[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+M[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+M[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+M[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+M[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+M[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+M[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+M[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+M[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+M[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+M[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+M[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~U))+M[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+M[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+M[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+M[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+M[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+M[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+M[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+M[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+M[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+M[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+M[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+M[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<w;){if(O==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(M[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<w;)if(M[O++]=N[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;M&&U==w||(C[O]=U,M=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return tt(_(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return tt(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let M=b;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+O),w);O<8?(O=_(Math.pow(w,O)),M=M.j(O).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var b=y(0),x=y(1),Q=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(it(this))return"-"+tt(this).toString(N);const w=_(Math.pow(N,6));var C=this;let M="";for(;;){const O=Ft(C,w).g;C=mt(C,O.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,J(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=mt(this,N),it(N)?-1:J(N)?0:1};function tt(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(x)}r.abs=function(){return it(this)?tt(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let O=0;O<=w;O++){let U=M+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(N,w){return N.add(tt(w))}r.j=function(N){if(J(this)||J(N))return b;if(it(this))return it(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(it(N))return tt(this.j(tt(N)));if(this.l(Q)<0&&N.l(Q)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const U=this.i(M)>>>16,R=this.i(M)&65535,ee=N.i(O)>>>16,fe=N.i(O)&65535;C[2*M+2*O]+=R*fe,Et(C,2*M+2*O),C[2*M+2*O+1]+=U*fe,Et(C,2*M+2*O+1),C[2*M+2*O+1]+=R*ee,Et(C,2*M+2*O+1),C[2*M+2*O+2]+=U*ee,Et(C,2*M+2*O+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Et(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function gt(N,w){this.g=N,this.h=w}function Ft(N,w){if(J(w))throw Error("division by zero");if(J(N))return new gt(b,b);if(it(N))return w=Ft(tt(N),w),new gt(tt(w.g),tt(w.h));if(it(w))return w=Ft(N,tt(w)),new gt(tt(w.g),w.h);if(N.g.length>30){if(it(N)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var C=x,M=w;M.l(N)<=0;)C=Qt(C),M=Qt(M);var O=Lt(C,1),U=Lt(M,1);for(M=Lt(M,2),C=Lt(C,2);!J(M);){var R=U.add(M);R.l(N)<=0&&(O=O.add(C),U=R),M=Lt(M,1),C=Lt(C,1)}return w=mt(N,O.j(w)),new gt(O,w)}for(O=b;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(C),R=U.j(w);it(R)||R.l(N)>0;)C-=M,U=_(C),R=U.j(w);J(U)&&(U=x),O=O.add(U),N=mt(N,R)}return new gt(O,N)}r.B=function(N){return Ft(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Qt(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Lt(N,w){const C=w>>5;w%=32;const M=N.g.length-C,O=[];for(let U=0;U<M;U++)O[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,F0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,er=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var G0,El,Q0,Lc,rm,K0,Y0,X0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=L[et]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Lt=!1,N=new Et,w=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,O),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Pt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<k.length;q++)v=k[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=ot(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),Rt={};function Dt(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Dt(u,m[q],v,T,L);return null}return v=dr(v),u&&u[fe]?u.J(m,v,p(T)?!!T.capture:!1,L):ai(u,m,v,!1,T,L)}function ai(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let St=li(u);if(St||(u[rt]=St=new W(u)),v=St.add(m,v,T,et,q),v.proxy)return v;if(T=oi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(In(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oi(){function u(v){return m.call(u.src,u.listener,v)}const m=hr;return u}function Pi(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Pi(u,m[q],v,T,L);else T=p(T)?!!T.capture:!!T,v=dr(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ot(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,v,T,L)),(v=u>-1?m[u]:null)&&Rn(v))}function Rn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])ct(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(In(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=li(m))?(ct(v,u),v.h==0&&(v.src=null,m[rt]=null)):ht(u)}}}function In(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function hr(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Rn(u),u=v.call(T,m)}return u}function li(u){return u=u[rt],u instanceof W?u:null}var fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function dr(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(m){return u.handleEvent(m)}),u[fr])}function _e(){M.call(this),this.i=new W(this),this.M=this,this.G=null}b(_e,M),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Pi(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),Z(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=ms(q,T,!0,m)&&L;if(q=m.g=u,L=ms(q,T,!0,m)&&L,L=ms(q,T,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=ms(q,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ms(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const St=et.listener,me=et.ha||et.src;et.fa&&ct(u.i,et),L=St.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){M.call(this),this.h=u,this.g={}}b(mr,M);var po=[];function yo(u){It(u.g,function(m,v){this.g.hasOwnProperty(v)&&Rn(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),yo(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,Oh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}b(Be,O);function Cn(){O.call(this,"c")}b(Cn,O);var de={},iu=null;function na(){return iu=iu||new _e}de.Ia="serverreachability";function su(u){O.call(this,de.Ia,u)}b(su,O);function ui(u){const m=na();Oe(m,new su(m))}de.STAT_EVENT="statevent";function gr(u,m){O.call(this,de.STAT_EVENT,u),this.stat=m}b(gr,O);function ve(u){const m=na();Oe(m,new gr(m,u))}de.Ja="timingevent";function ci(u,m){O.call(this,de.Ja,u),this.size=m}b(ci,O);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let qt=0;qt<St.length;qt++){var me=St[qt].split("=");if(me.length>1){const ae=me[0];me=me[1];const xn=ae.split("_");et=xn.length>=2&&xn[1]=="type"?et+(ae+"="+me+"&"):et+(ae+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function ru(u,m,v,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return gs(q)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function _r(){}b(_r,eu),_r.prototype.g=function(){return new XMLHttpRequest},vo=new _r;function zi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function di(u,m,v){u.M=1,u.A=vr(Ae(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),mi(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Kn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(po[0]=L.toString()),L=po);for(let q=0;q<L.length;q++){const et=Dt(v,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const St=$n(this.g),me=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||St!=4||me==7||(me==8||qt<=0?ui(3):ui(2)),gi(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,ve(12),gn(this),Nn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=lu(this,v),ae==ke){St==4&&(this.m=4,ve(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,ae,null),pi(this,ae);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(et),et.P=!0,ve(11))}}else fi(this.i,this.l,v,null),pi(this,v);St==4&&gn(this),this.o&&!this.K&&(St==4?yu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),gn(this),Nn(this)}}}catch{}};function Vh(u){if(!ou(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let v="";const T=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Qn.prototype.cancel=function(){this.K=!0,gn(this)};function mi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(_(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ui(),ve(17)),gn(this),this.m=2,Nn(this)):sa(this,this.T-u)};function Nn(u){u.j.I==0||u.K||yu(u.j,u)}function gn(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),Ss(v);else break t;Rr(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(_(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const xn=qt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const wi=qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Zn=qt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Jn=u.g;if(Jn){const Ir=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var q=T.h;q.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ao(q,q.h),q.h=null))}if(T.G){const da=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Kt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),et.L){So(T.h,et);var St=et,me=T.O;me&&(St.H=me),St.D&&(gi(St),mi(St)),T.g=et}else gu(T);v.i.length>0&&Si(v)}else qt[0]!="stop"&&qt[0]!="close"||bi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?bi(v,7):xo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ui(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,wo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),ps(this,m[4]),this.h=vi(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new _s(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,aa,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Ro:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,hu)),u.join("")},pn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ps(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?T&&et==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==L.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?wo(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new pn(u)}function Le(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,v){m instanceof _s?(u.i=m,la(u.i,u.l)):(v||(m=Er(m,ys)),u.i=new _s(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function vr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,cu=/[#\?:]/g,Ro=/[#\?]/g,ys=/[#\?@]/g,hu=/#/g;function _s(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_s.prototype,r.add=function(u,m){on(this),this.i=null,u=vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){on(u),m=vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return on(u),m=vs(u,m),u.g.has(m)}r.forEach=function(u,m){on(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Co(u,m){on(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return on(this),this.i=null,u=vs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(vs(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=zi(v);v=Co(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+zi(v[q])),u.push(et)}}return this.i=u.join("&")};function du(u){const m=new _s;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),oa(this,L,v))},u)),u.j=m}function Yn(u,m){const v=new Gn;if(d.Image){const T=new Image;T.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new Gn,T=new AbortController,L=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Es(){this.g=new tu}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,eu),Ei.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Tr,_e),r=Tr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ts(this):Xn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ts(this))},r.Na=function(u){this.g&&(this.response=u,Ts(this))},r.ga=function(){this.g&&Ts(this)};function Ts(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return It(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=On(v),typeof u=="string"?v!=null&&zi(v):Kt(u,m,v))}function $t(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,_e);var Ti=/^https?$/i,Do=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Sr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Sr(this,q)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),ji(u)}function Oo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),$n(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let et=String(u.D).match(uu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Ti.test(et?et.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new Es,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=As.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Si(this)};function xo(u){if(ca(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),wr(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=vr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}vu(u)}function Ss(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ca(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||w(),Lt||(Qt(),Lt=!0),N.add(m,u),u.D=0}}function ha(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),Z(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=Ae(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),wr(this,v),q&&(this.R?m="headers="+zi(On(q))+"&"+m:this.u&&Ar(v,this.u,q)),Ao(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,di(L,v,null)):di(L,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||To(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),wr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),di(v,T,m)}function wr(u,m){u.H&&It(u.H,function(v,T){Kt(m,T,v)}),u.l&&It({},function(v,T){Kt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const me=["count="+v];St==-1?v>0?(St=L[0].g,me.push("ofs="+St)):St=0:me.push("ofs="+St);let qt=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const xn=L[ae].map;if(q-=St,q<0)St=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var et=xn instanceof Map?xn:Object.entries(xn);for(const[wi,Zn]of et){let Jn=Zn;p(Zn)&&(Jn=gs(Zn)),me.push(q+wi+"="+encodeURIComponent(Jn))}}catch(wi){throw me.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(xn)}}if(qt){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||w(),Lt||(Qt(),Lt=!0),N.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ss(this),pu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Ae(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ss(this),Rr(this),ve(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){fa(u),Vo(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=na(),Oe(T,new ci(T,v)),Si(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),vr(T),L?Yn(T.toString(),v):No(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),vu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof pn?Ae(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);T&&Le(q,T),m&&(q.g=m),L&&ps(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),wr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Ei({ab:v})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){_e.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}b(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){xo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gs(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&Si(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,nn.Z.N.call(this)};function Su(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Su,Be);function bu(){Cn.call(this),this.status=1}b(bu,Cn);function qi(u){this.g=u}b(qi,Au),qi.prototype.ra=function(){Oe(this.g,"a")},qi.prototype.qa=function(u){Oe(this.g,new Su(u))},qi.prototype.pa=function(u){Oe(this.g,new bu)},qi.prototype.oa=function(){Oe(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,X0=function(){return new bs},Y0=function(){return na()},K0=de,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Lc=yr,_o.COMPLETE="complete",Q0=_o,nu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,El=nu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,G0=$t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let lo="12.7.0";const $r=new Im("@firebase/firestore");function Ha(){return $r.logLevel}function at(r,...t){if($r.logLevel<=Mt.DEBUG){const i=t.map(Dm);$r.debug(`Firestore (${lo}): ${r}`,...i)}}function us(r,...t){if($r.logLevel<=Mt.ERROR){const i=t.map(Dm);$r.error(`Firestore (${lo}): ${r}`,...i)}}function to(r,...t){if($r.logLevel<=Mt.WARN){const i=t.map(Dm);$r.warn(`Firestore (${lo}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,$0(r,a,i)}function $0(r,t,i){let a=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function Gt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||$0(t,l,a)}function At(r,t){return r}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Z0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class bb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wb{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new Z0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Rb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ib{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Rb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Nb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Nb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function am(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Vt(l,c):jd(l)?1:-1}return Vt(r.length,t.length)}const Db=55296,Ob=57343;function jd(r){const t=r.charCodeAt(0);return t>=Db&&t<=Ob}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const mv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class ne extends Di{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Di{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return xb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Ye([mv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function J0(r,t,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Mb(r,t,i,a){if(t===!0&&a===!0)throw new st(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function gv(r){if(!dt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(dt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function W0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Ka(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fh(r);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function De(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!W0(r))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function Vb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new ir(l,dt.empty(),t)}function Ub(r){return new ir(r.readTime,r.key,Ol)}class ir{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(vt.min(),dt.empty(),Ol)}static max(){return new ir(vt.max(),dt.empty(),Ol)}}function kb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const Lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Lb)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function zb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const xm=-1;function mh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function jb(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const tE="";function Bb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=vv(t)),t=qb(r.get(i),t);return vv(t)}function qb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case tE:i+="";break;default:i+=c}}return i}function vv(r){return r+tE+""}function Ev(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function eE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ve(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const Hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=Hb.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rr(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const iE="server_timestamp",sE="__type__",rE="__previous_value__",aE="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[sE]?.stringValue===iE}function gh(r){const t=r.mapValue.fields[rE];return Mm(t)?gh(t):t}function xl(r){const t=sr(r.mapValue.fields[aE].timestampValue);return new re(t.seconds,t.nanos)}class Fb{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const $c="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const oE="__type__",Gb="__max__",Dc={mapValue:{}},lE="__vector__",Zc="value";function ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:Kb(r)?9007199254740991:Qb(r)?10:11:yt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=ar(r);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=sr(l.timestampValue),p=sr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return rr(l.bytesValue).isEqual(rr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Ev(d)!==Ev(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ki(d[y],p[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=ar(r),a=ar(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(xl(r),xl(t));case 5:return am(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=rr(c),y=rr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Vt(p[_],y[_]);if(A!==0)return A}return Vt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ye(c.latitude),ye(d.latitude));return p!==0?p:Vt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Sv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Zc]?.arrayValue,A=y[Zc]?.arrayValue,b=Vt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Sv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const x=am(y[b],A[b]);if(x!==0)return x;const Q=no(p[y[b]],_[A[b]]);if(Q!==0)return Q}return Vt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=sr(r),a=sr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function Sv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function io(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Pc(r){switch(ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ur(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function bv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function lm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function Qb(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===lE}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function Kb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Gb}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ur(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new mn(wl(this.value))}}function uE(r){const t=[];return ur(r.fields,((i,a)=>{const l=new Ye([i]);if(zc(a)){const c=uE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new We(t,0,vt.min(),vt.min(),vt.min(),mn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,vt.min(),vt.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,vt.min(),vt.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class Ul{constructor(t,i="asc"){this.field=t,this.dir=i}}function Yb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class cE{}class Ne extends cE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new $b(t,i,a):i==="array-contains"?new Wb(t,a):i==="in"?new tw(t,a):i==="not-in"?new ew(t,a):i==="array-contains-any"?new nw(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Zb(t,a):new Jb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends cE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new si(t,i)}matches(t){return hE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hE(r){return r.op==="and"}function fE(r){return Xb(r)&&hE(r)}function Xb(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function um(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+io(r.value);if(fE(r))return r.filters.map((t=>um(t))).join(",");{const t=r.filters.map((i=>um(i))).join(",");return`${r.op}(${t})`}}function dE(r,t){return r instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(r,t):r instanceof si?(function(a,l){return l instanceof si&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&dE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function mE(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(mE).join(" ,")+"}"})(r):"Filter"}class $b extends Ne{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Zb extends Ne{constructor(t,i){super(t,"in",i),this.keys=gE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Jb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=gE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function gE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Wb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Vl(i.arrayValue,this.value)}}class tw extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class ew extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class nw extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class iw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new iw(r,t,i,a,l,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Yb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!dE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Cv(r.startAt,t.startAt)&&Cv(r.endAt,t.endAt)}function cm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ho{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sw(r,t,i,a,l,c,d,p){return new ho(r,t,i,a,l,c,d,p)}function Lm(r){return new ho(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pE(r){return r.collectionGroup!==null}function Rl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ul(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Ul(Ye.keyField(),a))}return t.Ie}function Oi(r){const t=At(r);return t.Ee||(t.Ee=rw(t,Rl(r))),t.Ee}function rw(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ul(l.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function hm(r,t){const i=r.filters.concat([t]);return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function fm(r,t,i){return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return km(Oi(r),Oi(t))&&r.limitType===t.limitType}function yE(r){return`${Um(Oi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>mE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Iv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,p,y){const _=Iv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Rl(a),l))})(r,t)}function aw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _E(r){return(t,i)=>{let a=!1;for(const l of Rl(r)){const c=ow(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ow(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?no(y,_):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}const lw=new le(dt.comparator);function cs(){return lw}const vE=new le(dt.comparator);function Tl(...r){let t=vE;for(const i of r)t=t.insert(i.key,i);return t}function EE(r){let t=vE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Fr(){return Il()}function TE(){return Il()}function Il(){return new Wr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uw=new le(dt.comparator),cw=new Ve(dt.comparator);function Ut(...r){let t=cw;for(const i of r)t=t.add(i);return t}const hw=new Ve(Vt);function fw(){return hw}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function AE(r){return{integerValue:""+r}}function dw(r,t){return jb(t)?AE(t):Pm(r,t)}class _h{constructor(){this._=void 0}}function mw(r,t,i){return r instanceof kl?(function(l,c){const d={fields:{[sE]:{stringValue:iE},[aE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=gh(c)),c&&(d.fields[rE]=c),{mapValue:d}})(i,t):r instanceof Ll?bE(r,t):r instanceof Pl?wE(r,t):(function(l,c){const d=SE(l,c),p=Ov(d)+Ov(l.Ae);return lm(d)&&lm(l.Ae)?AE(p):Pm(l.serializer,p)})(r,t)}function gw(r,t,i){return r instanceof Ll?bE(r,t):r instanceof Pl?wE(r,t):i}function SE(r,t){return r instanceof Wc?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class kl extends _h{}class Ll extends _h{constructor(t){super(),this.elements=t}}function bE(r,t){const i=RE(t);for(const a of r.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends _h{constructor(t){super(),this.elements=t}}function wE(r,t){let i=RE(t);for(const a of r.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class Wc extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return ye(r.integerValue||r.doubleValue)}function RE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pw{constructor(t,i){this.field=t,this.transform=i}}function yw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ll&&l instanceof Ll||a instanceof Pl&&l instanceof Pl?eo(a.elements,l.elements,ki):a instanceof Wc&&l instanceof Wc?ki(a.Ae,l.Ae):a instanceof kl&&l instanceof kl})(r.transform,t.transform)}class _w{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function IE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zm(r.key,Hn.none()):new Fl(r.key,r.data,Hn.none());{const i=r.data,a=mn.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new cr(r.key,a,new wn(l.toArray()),Hn.none())}}function vw(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),y=Mv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof cr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Mv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(CE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof Fl?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=c.value.clone(),A=Vv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof cr?(function(c,d,p,y){if(!jc(c.precondition,d))return p;const _=Vv(c.fieldTransforms,y,d),A=d.data;return A.setAll(CE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Ew(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=SE(a.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>yw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Mv(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,gw(d,p,i[l]))}return a}function Vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mw(c,d,t))}return a}class zm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=TE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=IE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>xv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>xv(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return uw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}class Sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,zt;function ww(r){switch(r){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function NE(r){if(r===void 0)return us("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ie.OK:return Y.OK;case Ie.CANCELLED:return Y.CANCELLED;case Ie.UNKNOWN:return Y.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Y.INTERNAL;case Ie.UNAVAILABLE:return Y.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Y.NOT_FOUND;case Ie.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ie.ABORTED:return Y.ABORTED;case Ie.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ie.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Rw(){return new TextEncoder}const Iw=new er([4294967295,4294967295],0);function Uv(r){const t=Rw().encode(r),i=new F0;return i.update(t),new Uint8Array(i.digest())}function kv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([i,a],0),new er([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=er.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(er.fromNumber(a)));return l.compare(Iw)===1&&(l=new er([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(vt.min(),l,new le(Vt),cs(),Ut())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,Ut(),Ut(),Ut())}}class Bc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class DE{constructor(t,i){this.targetId=t,this.Ce=i}}class OE{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cw{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Oc(),this.He=Oc(),this.Ye=new le(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new dt(c.path);this.et(i,d,We.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=rr(a).toUint8Array()}catch(y){if(y instanceof nE)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,l,c)}catch(y){return to(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,We.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=cs(),this.Je=Oc(),this.He=Oc(),this.Ye=new le(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new le(dt.comparator)}function Pv(){return new le(dt.comparator)}const Nw={asc:"ASCENDING",desc:"DESCENDING"},Dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ow={and:"AND",or:"OR"};class xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Mw(r,t){return th(r,t.toTimestamp())}function xi(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=sr(i);return new re(a.seconds,a.nanos)})(r))}function qm(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function ME(r){const t=ne.fromString(r);return Gt(PE(t),10190,{key:t.toString()}),t}function gm(r,t){return qm(r.databaseId,t.path)}function Bd(r,t){const i=ME(t);if(i.get(1)!==r.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(UE(i))}function VE(r,t){return qm(r.databaseId,t)}function Vw(r){const t=ME(r);return t.length===4?ne.emptyPath():UE(t)}function pm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function Uw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:NE(_.code);return new st(A,_.message||"")})(d);i=new OE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):vt.min(),p=new mn({mapValue:{fields:a.document.fields}}),y=We.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Bc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?xi(a.readTime):vt.min(),d=We.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new bw(l,c),p=a.targetId;i=new DE(p,d)}}return i}function kw(r,t){let i;if(t instanceof Fl)i={update:zv(r,t.key,t.value)};else if(t instanceof zm)i={delete:gm(r,t.key)};else if(t instanceof cr)i={update:zv(r,t.key,t.data),updateMask:Gw(t.fieldMask)};else{if(!(t instanceof Tw))return yt(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Mw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function Lw(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(vt.min())&&(d=xi(c)),new _w(d,l.transformResults||[])})(i,t)))):[]}function Pw(r,t){return{documents:[VE(r,t.path)]}}function zw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=VE(r,l);const c=(function(_){if(_.length!==0)return LE(si.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:Ga(x.field),direction:qw(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function jw(r){let t=Vw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=kE(b);return x instanceof si&&fE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(J){return new Ul(Qa(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,mh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(b){const x=!!b.before,Q=b.values||[];return new Jc(Q,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,Q=b.values||[];return new Jc(Q,x)})(i.endAt)),sw(t,l,d,c,p,"F",y,_)}function Bw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function kE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((a=>kE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function qw(r){return Nw[r]}function Hw(r){return Dw[r]}function Fw(r){return Ow[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Ye.fromServerFormat(r.fieldPath)}function LE(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:Hw(i.op),value:i.value}}})(r):r instanceof si?(function(i){const a=i.getFilters().map((l=>LE(l)));return a.length===1?a[0]:{compositeFilter:{op:Fw(i.op),filters:a}}})(r):yt(54877,{filter:r})}function Gw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function PE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Qw{constructor(t){this.yt=t}}function Kw(r){const t=jw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class Yw{constructor(){this.Cn=new Xw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ir.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Xw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(zE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const Bv="LruGarbageCollector",$w=1048576;function qv([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class Zw{constructor(t){this.Ir=t,this.buffer=new Ve(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?at(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class Ww{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(dh.ce);const a=new Zw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),Ha()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function tR(r,t){return new Ww(r,t)}class eR{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,wn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Fr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=cs();const d=Il(),p=(function(){return Il()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof cr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Cl(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new nR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new le(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||wn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const b=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=TE();A.forEach((x=>{if(!c.has(x)){const Q=IE(i.get(x),a.get(x));Q!==null&&b.set(x,Q),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):pE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Fr());let p=Ol,y=c;return d.next((_=>$.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ut()))).next((A=>({batchId:p,changes:EE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(b,x){return new ho(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))}));let p=Tl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Cl(A.mutation,_,wn.empty(),re.now()),yh(i,_)&&(p=p.insert(y,_))})),p}))}}class sR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Kw(l.bundledQuery),readTime:xi(l.readTime)}})(i)),$.resolve()}}class rR{constructor(){this.overlays=new le(dt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Fr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Fr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Fr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Fr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Sw(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class aR{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.Qr=new Ve(je.$r),this.Ur=new Ve(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new ne([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ne([])),a=new je(i,t),l=new je(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class oR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Aw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new je(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new je(new dt(c),0);let p=new Ve(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new je(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lR{constructor(t){this.ri=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=cs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||kb(Ub(A),a)<=0||(l.has(A.key)||yh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new uR(this)}getSize(t){return $.resolve(this.size)}}class uR extends eR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cR{constructor(t){this.persistence=t,this.si=new Wr((i=>Um(i)),km),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class jE{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new aR,this.referenceDelegate=t(this),this.Pi=new cR(this),this.indexManager=new Yw,this.remoteDocumentCache=(function(l){return new lR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Qw(i),this.Ii=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new oR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new hR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class hR extends Pb{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Wr((a=>Bb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=tR(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iS()?8:zb(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ha()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ha()<=Mt.DEBUG&&at("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):$.resolve())}ys(t,i){if(Dv(i))return $.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Dv(i)||l.isEqual(vt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ha()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,Vb(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new Ve(_E(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ha()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,ir.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",mR=3e8;class gR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Vt),this.xs=new Wr((c=>Um(c)),km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pR(r,t,i,a){return new gR(r,t,i,a)}async function BE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ut();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function yR(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,x=b.keys();let Q=$.resolve();return x.forEach((J=>{Q=Q.next((()=>A.getEntry(y,J))).next((it=>{const tt=_.docVersions.get(J);Gt(tt!==null,48541),it.version.compareTo(tt)<0&&(b.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function qE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _R(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Q=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Xe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(b,Q),(function(it,tt,mt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=mR?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let y=cs(),_=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(vR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function vR(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=cs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function ER(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function TR(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Zs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;at(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(r,t,i){const a=At(r);let l=vt.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=At(y),x=b.xs.get(A);return x!==void 0?$.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(a,d,Oi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ut()))).next((p=>(AR(a,aw(t),p),{documents:p,Qs:c})))))}function AR(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=fw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bR{Oo(t){}shutdown(){}}const Gv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function _m(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const qd="RestConnection",wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());at(qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=ao(_);return this.Jo(t,p,y,a,A).then((b=>(at(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw to(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=wR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class IR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class CR extends RR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new G0;_.setWithCredentials(!0),_.listenOnce(Q0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const b=_.getResponseJson();at(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Lc.TIMEOUT:at(Ze,`RPC '${t}' ${d} timed out`),y(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const x=_.getStatus();if(at(Ze,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const it=(function(mt){const Et=mt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Et)>=0?Et:Y.UNKNOWN})(J.status);y(new st(it,J.message))}else y(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ze,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(Ze,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=X0(),p=Y0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");at(Ze,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let x=!1,Q=!1;const J=new IR({Yo:tt=>{Q?at(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(x||(at(Ze,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),at(Ze,`RPC '${t}' stream ${l} sending:`,tt),b.send(tt))},Zo:()=>b.close()}),it=(tt,mt,Et)=>{tt.listen(mt,(gt=>{try{Et(gt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(b,El.EventType.OPEN,(()=>{Q||(at(Ze,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(b,El.EventType.CLOSE,(()=>{Q||(Q=!0,at(Ze,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),it(b,El.EventType.ERROR,(tt=>{Q||(Q=!0,to(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),J.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),it(b,El.EventType.MESSAGE,(tt=>{if(!Q){const mt=tt.data[0];Gt(!!mt,16349);const Et=mt,gt=Et?.error||Et[0]?.error;if(gt){at(Ze,`RPC '${t}' stream ${l} received error:`,gt);const Ft=gt.status;let Qt=(function(w){const C=Ie[w];if(C!==void 0)return NE(C)})(Ft),Lt=gt.message;Qt===void 0&&(Qt=Y.INTERNAL,Lt="Unknown error status: "+Ft+" with message "+gt.message),Q=!0,J.a_(new st(Qt,Lt)),b.close()}else at(Ze,`RPC '${t}' stream ${l} received:`,mt),J.u_(mt)}})),it(p,K0.STAT_EVENT,(tt=>{tt.stat===rm.PROXY?at(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===rm.NOPROXY&&at(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function Th(r){return new xw(r,!0)}class HE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class FE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends FE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Uw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?xi(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=cm(y)?{documents:Pw(c,y)}:{query:zw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=xE(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=Bw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class DR extends FE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Lw(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kw(this.serializer,a)))};this.q_(i)}}class OR{}class xR extends OR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(Y.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class VR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(at(Zr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Ql(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new MR(a,l)}}async function Ah(r){if(ta(r))for(const t of r.da)await t(!0)}async function Ql(r){for(const t of r.da)await t(!1)}function GE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):fo(i).O_()&&Ym(i,t))}function Km(r,t){const i=At(r),a=fo(i);i.Ia.delete(t),a.O_()&&QE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Ra.set("Unknown"))}function Ym(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(r).Y_(t)}function QE(r,t){r.Va.Ue(t),fo(r).Z_(t)}function Xm(r){r.Va=new Cw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function $m(r){return ta(r)&&!fo(r).x_()&&r.Ia.size>0}function ta(r){return At(r).Ea.size===0}function KE(r){r.Va=void 0}async function UR(r){r.Ra.set("Online")}async function kR(r){r.Ia.forEach(((t,i)=>{Ym(r,t)}))}async function LR(r,t){KE(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function PR(r,t,i){if(r.Ra.set("Online"),t instanceof OE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Bc?r.Va.Ze(t):t instanceof DE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await qE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),QE(c,y);const b=new Zs(A.target,y,_,A.sequenceNumber);Ym(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Zr,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!co(t))throw t;r.Ea.add(1),await Ql(r),r.Ra.set("Offline"),i||(i=()=>qE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Zr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function YE(r,t){return t().catch((i=>nh(r,i,t)))}async function Sh(r){const t=At(r),i=or(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;zR(t);)try{const l=await ER(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jR(t,l)}catch(l){await nh(t,l)}XE(t)&&$E(t)}function zR(r){return ta(r)&&r.Ta.length<10}function jR(r,t){r.Ta.push(t);const i=or(r);i.O_()&&i.X_&&i.ea(t.mutations)}function XE(r){return ta(r)&&!or(r).x_()&&r.Ta.length>0}function $E(r){or(r).start()}async function BR(r){or(r).ra()}async function qR(r){const t=or(r);for(const i of r.Ta)t.ea(i.mutations)}async function HR(r,t,i){const a=r.Ta.shift(),l=jm.from(a,t,i);await YE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function FR(r,t){t&&or(r).X_&&await(async function(a,l){if((function(d){return ww(d)&&d!==Y.ABORTED})(l.code)){const c=a.Ta.shift();or(a).B_(),await YE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),XE(r)&&$E(r)}async function Yv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function GR(r,t){const i=At(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new NR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UR.bind(null,r),t_:kR.bind(null,r),r_:LR.bind(null,r),H_:PR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),KE(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new DR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,r),r_:FR.bind(null,r),ta:qR.bind(null,r),na:HR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Zr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(us("AsyncQueue",`${t}: ${r}`),co(r))return new st(Y.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new le(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ro{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ro(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KR{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function $v(){return new Wr((r=>yE(r)),ph)}async function YR(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new QR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function XR(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $R(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Wm(i)}function ZR(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var vm,Zv;(Zv=vm||(vm={})).Ma="default",Zv.Cache="cache";class JR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class ZE{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class WR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=_E(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),Q=yh(this.query,b)?b:null,J=!!x&&this.mutatedKeys.has(x.key),it=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;x&&Q?x.data.isEqual(Q.data)?J!==it&&(a.track({type:3,doc:Q}),tt=!0):this.su(x,Q)||(a.track({type:2,doc:Q}),tt=!0,(y&&this.eu(Q,y)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!x&&Q?(a.track({type:0,doc:Q}),tt=!0):x&&!Q&&(a.track({type:1,doc:x}),tt=!0,(y||_)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Q,J){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return it(Q)-it(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new JE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ZE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class t2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class e2{constructor(t){this.key=t,this.hu=!1}}class n2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>yE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new le(dt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i2(r,t,i=!0){const a=sT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await WE(a,t,i,!0),l}async function s2(r,t){const i=sT(r);await WE(i,t,!0,!1)}async function WE(r,t,i,a){const l=await TR(r.localStore,Oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await r2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&GE(r.remoteStore,l),p}async function r2(r,t,i,a,l){r.pu=(b,x,Q)=>(async function(it,tt,mt,Et){let gt=tt.view.ru(mt);gt.Cs&&(gt=await Hv(it.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,gt))));const Ft=Et&&Et.targetChanges.get(tt.targetId),Qt=Et&&Et.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(gt,it.isPrimaryClient,Ft,Qt);return Wv(it,tt.targetId,Lt.au),Lt.snapshot})(r,b,x,Q);const c=await Hv(r.localStore,t,!0),d=new WR(t,c.Qs),p=d.ru(c.documents),y=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Wv(r,i,_.au);const A=new t2(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function a2(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(uo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function o2(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function l2(r,t,i){const a=g2(r);try{const l=await(function(d,p){const y=At(d),_=re.now(),A=p.reduce(((Q,J)=>Q.add(J.key)),Ut());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=cs(),it=Ut();return y.Ns.getEntries(Q,A).next((tt=>{J=tt,J.forEach(((mt,Et)=>{Et.isValidDocument()||(it=it.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,J))).next((tt=>{b=tt;const mt=[];for(const Et of p){const gt=Ew(Et,b.get(Et.key).overlayedDocument);gt!=null&&mt.push(new cr(Et.key,gt,uE(gt.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,_,mt,p)})).next((tt=>{x=tt;const mt=tt.applyToLocalDocumentSet(b,it);return y.documentOverlayCache.saveOverlays(Q,tt.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:EE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Vt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Kl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function tT(r,t){const i=At(r);try{const a=await _R(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await uo(a)}}function Jv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(p)&&(_=!0)})),_&&Wm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function u2(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(dt.comparator);d=d.insert(c,We.newNoDocument(c,vt.min()));const p=Ut().add(c),y=new Eh(vt.min(),new Map,new le(Vt),d,p);await tT(a,y),a.du=a.du.remove(c),a.Au.delete(t),eg(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(uo)}async function c2(r,t){const i=At(r),a=t.batch.batchId;try{const l=await yR(i.localStore,t);nT(i,a,null),eT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await uo(l)}}async function h2(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Gt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);nT(a,t,i),eT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await uo(l)}}function eT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function nT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||iT(r,a)}))}function iT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),eg(r))}function Wv(r,t,i){for(const a of i)a instanceof ZE?(r.Ru.addReference(a.key,t),f2(r,a)):a instanceof JE?(at(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||iT(r,a.key)):yt(19791,{wu:a})}function f2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(tg,"New document in limbo: "+i),r.Eu.add(a),eg(r))}function eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(ne.fromString(t)),a=r.fu.next();r.Au.set(a,new e2(i)),r.du=r.du.insert(i,a),GE(r.remoteStore,new Zs(Oi(Lm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Kl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Gm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(_,(x=>$.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(b,x.targetId,Q))).next((()=>$.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,x.targetId,Q)))))))))}catch(b){if(!co(b))throw b;at(Qm,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const Q=A.Ms.get(x),J=Q.snapshotVersion,it=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,it)}}})(a.localStore,c))}async function d2(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(tg,"User change. New user:",t.toKey());const a=await BE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new st(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function m2(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function sT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u2.bind(null,t),t.Pu.H_=$R.bind(null,t.eventManager),t.Pu.yu=ZR.bind(null,t.eventManager),t}function g2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new dR,t.initialUser,this.serializer)}Cu(t){return new jE(Fm.mi,this.serializer)}Du(t){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class p2 extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Jw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new jE((a=>eh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=d2.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KR})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new CR(c)})(t.databaseInfo);return(function(c,d,p,y){return new xR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new bR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new n2(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Zr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class y2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const lr="FirestoreClient";class _2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),at(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await BE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await v2(r);at(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function v2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(lr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new ih)}}else at(lr,"Using default OfflineComponentProvider"),await Fd(r,new p2(void 0));return r._offlineComponents}async function rT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(lr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(at(lr,"Using default OnlineComponentProvider"),await t0(r,new Tm))),r._onlineComponents}function E2(r){return rT(r).then((t=>t.syncEngine))}async function e0(r){const t=await rT(r),i=t.eventManager;return i.onListen=i2.bind(null,t.syncEngine),i.onUnlisten=a2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=s2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=o2.bind(null,t.syncEngine),i}function aT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const oT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$w)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Sb;switch(a.type){case"firstParty":return new Ib(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(at("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function T2(r,t,i,a={}){r=Ka(r,bh);const l=ao(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(k0(`https://${p}`),L0("Firestore",!0)),c.host!==oT&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Yr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Je.MOCK_USER;else{_=Y1(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(b)}r._authCredentials=new bb(new Z0(_,A))}}class ea{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,Me._jsonSchema))return new Me(t,a||null,new dt(ne.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:De("string",Me._jsonSchemaVersion),referencePath:De("string")};class nr extends ea{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new dt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function rn(r,t,...i){if(r=Ue(r),J0("collection","path",t),r instanceof bh){const a=ne.fromString(t,...i);return pv(a),new nr(r,null,a)}{if(!(r instanceof Me||r instanceof nr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return pv(a),new nr(r.firestore,null,a)}}function Bn(r,t,...i){if(r=Ue(r),arguments.length===1&&(t=Om.newId()),J0("doc","path",t),r instanceof bh){const a=ne.fromString(t,...i);return gv(a),new Me(r,null,new dt(a))}{if(!(r instanceof Me||r instanceof nr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return gv(a),new Me(r.firestore,r instanceof nr?r.converter:null,new dt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;at(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class zl extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new a0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function A2(r,t){const i=typeof r=="object"?r:B0(),a=typeof r=="string"?r:$c,l=Nm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Q1("firestore");c&&T2(l,...c)}return l}function ng(r){if(r._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||S2(r),r._firestoreClient}function S2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Fb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Xe.fromBase64String(t))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:De("string",qn._jsonSchemaVersion),bytes:De("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:De("string",Mi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:De("string",Vi._jsonSchemaVersion),vectorValues:De("object")};const b2=/^__.*__$/;class w2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class lT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function uT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class ig{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(uT(this.Ac)&&b2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class R2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new ig({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new R2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function cT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ag("Data must be an object, but it was:",d,a);const p=hT(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=Am(t,b,i);if(!d.contains(x))throw new st(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);dT(A,x)||A.push(x)}y=new wn(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new w2(new mn(p),y,_)}class Ih extends Rh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class rg extends Rh{_toFieldTransform(t){return new pw(t.path,new kl)}isEqual(t){return t instanceof rg}}function I2(r,t,i,a){const l=r.Cc(1,t,i);ag("Data must be an object, but it was:",l,a);const c=[],d=mn.empty();ur(a,((y,_)=>{const A=og(t,y,i);_=Ue(_);const b=l.yc(A);if(_ instanceof Ih)c.push(A);else{const x=Yl(_,b);x!=null&&(c.push(A),d.set(A,x))}}));const p=new wn(c);return new lT(d,p,l.fieldTransforms)}function C2(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Am(t,a,i)],y=[l];if(c.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Am(t,c[x])),y.push(c[x+1]);const _=[],A=mn.empty();for(let x=p.length-1;x>=0;--x)if(!dT(_,p[x])){const Q=p[x];let J=y[x];J=Ue(J);const it=d.yc(Q);if(J instanceof Ih)_.push(Q);else{const tt=Yl(J,it);tt!=null&&(_.push(Q),A.set(Q,tt))}}const b=new wn(_);return new lT(A,b,d.fieldTransforms)}function N2(r,t,i,a=!1){return Yl(i,r.Cc(a?4:3,t))}function Yl(r,t){if(fT(r=Ue(r)))return ag("Unsupported field value:",t,r),hT(r,t);if(r instanceof Rh)return(function(a,l){if(!uT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Yl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ue(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:xE(l.serializer,a._byteString)};if(a instanceof Me){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Vi)return(function(d,p){return{mapValue:{fields:{[oE]:{stringValue:lE},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Pm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${fh(a)}`)})(r,t)}function hT(r,t){const i={};return eE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(r,((a,l)=>{const c=Yl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function fT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Mi||r instanceof qn||r instanceof Me||r instanceof Rh||r instanceof Vi)}function ag(r,t,i){if(!fT(i)||!W0(i)){const a=fh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Am(r,t,i){if((t=Ue(t))instanceof wh)return t._internalPath;if(typeof t=="string")return og(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function og(r,t,i){if(t.search(D2)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st(Y.INVALID_ARGUMENT,p+r+y)}function dT(r,t){return r.some((i=>i.isEqual(t)))}class mT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new O2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(lg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class O2 extends mT{data(){return super.data()}}function lg(r,t){return typeof t=="string"?og(r,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function x2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class gT extends ug{}function Gd(r,t,...i){let a=[];t instanceof ug&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof hg)).length,p=c.filter((y=>y instanceof cg)).length;if(d>1||d>0&&p>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class cg extends gT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new cg(t,i,a)}_apply(t){const i=this._parse(t);return pT(t._query,i),new ea(t.firestore,t.converter,hm(t._query,i))}_parse(t){const i=sg(t.firestore);return(function(c,d,p,y,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){h0(b,A);const J=[];for(const it of b)J.push(c0(y,c,it));x={arrayValue:{values:J}}}else x=c0(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||h0(b,A),x=N2(p,d,b,A==="in"||A==="not-in");return Ne.create(_,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class hg extends ug{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new hg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)pT(d,y),d=hm(d,y)})(t._query,i),new ea(t.firestore,t.converter,hm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends gT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new fg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(c,d)})(t._query,this._field,this._direction);return new ea(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new ho(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function u0(r,t="asc"){const i=t,a=lg("orderBy",r);return fg._create(a,i)}function c0(r,t,i){if(typeof(i=Ue(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(t)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ne.fromString(i));if(!dt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bv(r,new dt(a))}if(i instanceof Me)return bv(r,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(i)}.`)}function h0(r,t){if(!Array.isArray(r)||r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pT(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class M2{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ur(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Mi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=sr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Gt(PE(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function yT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends mT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(lg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:De("string",Kr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class qc extends Kr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:V2(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:De("string",Xa._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class _T extends M2{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function Mc(r,t){const i=Ka(r.firestore,zl),a=Bn(r),l=yT(r.converter,t);return vT(i,[cT(sg(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then((()=>a))}function Qd(r,...t){r=Ue(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Me)d=Ka(r.firestore,zl),p=Lm(r._key.path),c={next:y=>{t[a]&&t[a](U2(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ka(r,ea);d=Ka(y.firestore,zl),p=y._query;const _=new _T(d);c={next:A=>{t[a]&&t[a](new Xa(d,_,y,A))},error:t[a+1],complete:t[a+2]},x2(r._query)}return(function(_,A,b,x){const Q=new y2(x),J=new JR(A,Q,b);return _.asyncQueue.enqueueAndForget((async()=>YR(await e0(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>XR(await e0(_),J)))}})(ng(d),p,l,c)}function vT(r,t){return(function(a,l){const c=new Qr;return a.asyncQueue.enqueueAndForget((async()=>l2(await E2(a),l,c))),c.promise})(ng(r),t)}function U2(r,t,i){const a=i.docs.get(t._key),l=new _T(r);return new Kr(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}class k2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=sg(t)}set(t,i,a){this._verifyNotCommitted();const l=Kd(t,this._firestore),c=yT(l.converter,i,a),d=cT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,Hn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Kd(t,this._firestore);let d;return d=typeof(i=Ue(i))=="string"||i instanceof wh?C2(this._dataReader,"WriteBatch.update",c._key,i,a,l):I2(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Hn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Kd(t,this._firestore);return this._mutations=this._mutations.concat(new zm(i._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(r,t){if((r=Ue(r)).firestore!==t)throw new st(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Vc(){return new rg("serverTimestamp")}function Uc(r){return ng(r=Ka(r,zl)),new k2(r,(t=>vT(r,t)))}(function(t,i=!0){(function(l){lo=l})(oo),Wa(new Xr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new zl(new wb(a.getProvider("auth-internal")),new Cb(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),tr(hv,fv,t),tr(hv,fv,"esm2020")})();function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=ET,TT=new Bl("auth","Firebase",ET());const rh=new Im("@firebase/auth");function P2(r,...t){rh.logLevel<=Mt.WARN&&rh.warn(`Auth (${oo}): ${r}`,...t)}function Hc(r,...t){rh.logLevel<=Mt.ERROR&&rh.error(`Auth (${oo}): ${r}`,...t)}function Li(r,...t){throw mg(r,...t)}function ii(r,...t){return mg(r,...t)}function dg(r,t,i){const a={...L2(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:r.name})}function os(r){return dg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z2(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Li(r,"argument-error"),dg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return TT.create(r,...t)}function _t(r,t,...i){if(!r)throw mg(t,...i)}function rs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function hs(r,t){r||rs(t)}function Sm(){return typeof self<"u"&&self.location?.href||""}function j2(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j2()||tS()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=Z1()||eS()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(r,t){hs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class AT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new Xl(3e4,6e4);function $l(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mo(r,t,i,a,l={}){return ST(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return W1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ao(r.emulatorConfig.host)&&(_.credentials="include"),AT.fetch()(await bT(r,r.config.apiHost,i,p),_)})}async function ST(r,t,i){r._canInitEmulator=!1;const a={...H2,...t};try{const l=new Q2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw kc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw dg(r,A,_);Li(r,A)}}catch(l){if(l instanceof ds)throw l;Li(r,"network-request-failed",{message:String(l)})}}async function pg(r,t,i,a,l={}){const c=await mo(r,t,i,a,l);return"mfaPendingCredential"in c&&Li(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function bT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?gg(r.config,l):`${r.config.apiScheme}://${l}`;return F2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),G2.get())})}}function kc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ii(r,t,a);return l.customData._tokenResponse=i,l}async function K2(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}function Nl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Y2(r,t=!1){const i=Ue(r),a=await i.getIdToken(t),l=yg(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Yd(l.auth_time)),issuedAtTime:Nl(Yd(l.iat)),expirationTime:Nl(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function yg(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=x0(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function d0(r){const t=yg(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ds&&X2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function X2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),a=await jl(r,ah(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?wT(l.providerUserInfo):[],d=J2(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function Z2(r){const t=Ue(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function wT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function W2(r,t){const i=await ST(r,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await bT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&ao(r.emulatorConfig.host)&&(y.credentials="include"),AT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tI(r,t){return mo(r,"POST","/v2/accounts:revokeToken",$l(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=d0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await W2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Ks(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Y2(this,t)}reload(){return Z2(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await jl(this,K2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:Q,providerData:J,stsTokenManager:it}=i;_t(b&&it,t,"internal-error");const tt=$a.fromJSON(this.name,it);_t(typeof b=="string",t,"internal-error"),Ks(a,t.name),Ks(l,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),Ks(c,t.name),Ks(d,t.name),Ks(p,t.name),Ks(y,t.name),Ks(_,t.name),Ks(A,t.name);const mt=new ni({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:A});return J&&Array.isArray(J)&&(mt.providerData=J.map(Et=>({...Et}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?wT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(a);const y=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const m0=new Map;function as(r){hs(r instanceof Function,"Expected a class definition");let t=m0.get(r);return t?(hs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,m0.set(r,t),t)}class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}RT.type="NONE";const g0=RT;function Fc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(as(g0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||as(g0);const d=Fc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const x=await ah(t,{idToken:A}).catch(()=>{});if(!x)break;b=await ni._fromGetAccountInfoResponse(t,x,A)}else b=ni._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Za(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,a))}}function p0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xT(t))return"Blackberry";if(MT(t))return"Webos";if(CT(t))return"Safari";if((t.includes("chrome/")||NT(t))&&!t.includes("edge/"))return"Chrome";if(OT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function IT(r=tn()){return/firefox\//i.test(r)}function CT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NT(r=tn()){return/crios\//i.test(r)}function DT(r=tn()){return/iemobile/i.test(r)}function OT(r=tn()){return/android/i.test(r)}function xT(r=tn()){return/blackberry/i.test(r)}function MT(r=tn()){return/webos/i.test(r)}function _g(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eI(r=tn()){return _g(r)&&!!window.navigator?.standalone}function nI(){return nS()&&document.documentMode===10}function VT(r=tn()){return _g(r)||OT(r)||MT(r)||xT(r)||/windows phone/i.test(r)||DT(r)}function UT(r,t=[]){let i;switch(r){case"Browser":i=p0(tn());break;case"Worker":i=`${p0(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class iI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function sI(r,t={}){return mo(r,"GET","/v2/passwordPolicy",$l(r,t))}const rI=6;class aI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??rI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class oI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bn(this.app))return Promise.reject(os(this));const i=t?Ue(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sI(this),i=new aI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await tI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&as(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&P2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function go(r){return Ue(r)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=cS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(r){vg=r}function uI(r){return vg.loadJS(r)}function cI(){return vg.gapiScript}function hI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function fI(r,t){const i=Nm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;Li(l,"already-initialized")}return i.initialize({options:t})}function dI(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(as);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function mI(r,t,i){const a=go(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=kT(t),{host:d,port:p}=gI(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Yr(_,a.config.emulator)&&Yr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(k0(`${c}//${d}${y}`),L0("Auth",!0)):pI()}function kT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function gI(r){const t=kT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function pI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class LT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,i){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function Ja(r,t){return pg(r,"POST","/v1/accounts:signInWithIdp",$l(r,t))}const yI="http://localhost";class Jr extends LT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:yI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class Eg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends Zl{constructor(){super("facebook.com")}static credential(t){return Jr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class ss extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jr._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ss.credential(i,a)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";class Xs extends Zl{constructor(){super("github.com")}static credential(t){return Jr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends Zl{constructor(){super("twitter.com")}static credential(t,i){return Jr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function _I(r,t){return pg(r,"POST","/v1/accounts:signUp",$l(r,t))}class fs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ni._fromIdTokenResponse(t,a,l),d=v0(a);return new fs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=v0(a);return new fs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function v0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function vI(r){if(bn(r.app))return Promise.reject(os(r));const t=go(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new fs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await _I(t,{returnSecureToken:!0}),a=await fs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class lh extends ds{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new lh(t,i,a,l)}}function PT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,a):c})}async function EI(r,t,i=!1){const a=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return fs._forOperation(r,"link",a)}async function TI(r,t,i=!1){const{auth:a}=r;if(bn(a.app))return Promise.reject(os(a));const l="reauthenticate";try{const c=await jl(r,PT(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=yg(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),fs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(a,"user-mismatch"),c}}async function AI(r,t,i=!1){if(bn(r.app))return Promise.reject(os(r));const a="signIn",l=await PT(r,a,t),c=await fs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function SI(r,t){return pg(r,"POST","/v1/accounts:signInWithCustomToken",$l(r,t))}async function bI(r,t){if(bn(r.app))return Promise.reject(os(r));const i=go(r),a=await SI(i,{token:t,returnSecureToken:!0}),l=await fs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function wI(r,t,i,a){return Ue(r).onIdTokenChanged(t,i,a)}function RI(r,t,i){return Ue(r).beforeAuthStateChanged(t,i)}function II(r,t,i,a){return Ue(r).onAuthStateChanged(t,i,a)}function CI(r){return Ue(r).signOut()}const uh="__sak";class zT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const NI=1e3,DI=10;class jT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);nI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,DI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}jT.type="LOCAL";const OI=jT;class BT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}BT.type="SESSION";const qT=BT;function xI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await xI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function Tg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Tg("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function VI(r){Ui().location.href=r}function HT(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function UI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){return navigator?.serviceWorker?.controller||null}function LI(){return HT()?self:null}const FT="firebaseLocalStorageDb",PI=1,ch="firebaseLocalStorage",GT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function zI(){const r=indexedDB.deleteDatabase(FT);return new Jl(r).toPromise()}function wm(){const r=indexedDB.open(FT,PI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:GT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await zI(),t(await wm()))})})}async function E0(r,t,i){const a=Nh(r,!0).put({[GT]:t,value:i});return new Jl(a).toPromise()}async function jI(r,t){const i=Nh(r,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function T0(r,t){const i=Nh(r,!0).delete(t);return new Jl(i).toPromise()}const BI=800,qI=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>qI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(LI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await E0(t,uh,"1"),await T0(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>E0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>jI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const HI=QT;new Xl(3e4,6e4);function KT(r,t){return t?as(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ag extends LT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function FI(r){return AI(r.auth,new Ag(r),r.bypassAuthState)}function GI(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),TI(i,new Ag(r),r.bypassAuthState)}async function QI(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),EI(i,new Ag(r),r.bypassAuthState)}class YT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return GI;default:Li(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KI=new Xl(2e3,1e4);async function YI(r,t,i){if(bn(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const a=go(r);z2(r,t,Eg);const l=KT(a,i);return new Gr(a,"signInViaPopup",t,l).executeNotNull()}class Gr extends YT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}Gr.currentPopupAction=null;const XI="pendingRedirect",Gc=new Map;class $I extends YT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const a=await ZI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(r,t){const i=tC(t),a=WI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function JI(r,t){Gc.set(r._key(),t)}function WI(r){return as(r._redirectPersistence)}function tC(r){return Fc(XI,r.config.apiKey,r.name)}async function eC(r,t,i=!1){if(bn(r.app))return Promise.reject(os(r));const a=go(r),l=KT(a,t),d=await new $I(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const nC=600*1e3;class iC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!XT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(t))}saveEventToCache(t){this.cachedEventUids.add(A0(t)),this.lastProcessedEventTime=Date.now()}}function A0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function XT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function sC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(r);default:return!1}}async function rC(r,t={}){return mo(r,"GET","/v1/projects",t)}const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await rC(r);for(const i of t)try{if(uC(i))return}catch{}Li(r,"unauthorized-domain")}function uC(r){const t=Sm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!oC.test(i))return!1;if(aC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cC=new Xl(3e4,6e4);function S0(){const r=Ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function hC(r){return new Promise((t,i)=>{function a(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),i(ii(r,"network-request-failed"))},timeout:cC.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=hI("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(ii(r,"network-request-failed"))},uI(`${cI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function fC(r){return Qc=Qc||hC(r),Qc}const dC=new Xl(5e3,15e3),mC="__/auth/iframe",gC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?gg(t,gC):`https://${r.config.authDomain}/${mC}`,a={apiKey:t.apiKey,appName:r.name,v:oo},l=yC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function vC(r){const t=await fC(r),i=Ui().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:_C(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(r,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},dC.get());function y(){Ui().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,AC=600,SC="_blank",bC="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wC(r,t,i,a=TC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...EC,width:a.toString(),height:l.toString(),top:c,left:d},_=tn().toLowerCase();i&&(p=NT(_)?SC:i),IT(_)&&(t=t||bC,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[Q,J])=>`${x}${Q}=${J},`,"");if(eI(_)&&p!=="_self")return RC(t||"",p),new b0(null);const b=window.open(t||"",p,A);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new b0(b)}function RC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const IC="__/auth/handler",CC="emulator/auth/handler",NC=encodeURIComponent("fac");async function w0(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof Eg){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",uS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Zl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${NC}=${encodeURIComponent(y)}`:"";return`${DC(r)}?${ql(p).slice(1)}${_}`}function DC({config:r}){return r.emulator?gg(r,CC):`https://${r.authDomain}/${IC}`}const Xd="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=eC,this._overrideRedirectResult=JI}async _openPopup(t,i,a,l){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w0(t,i,a,Sm(),l);return wC(t,c,Tg())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await w0(t,i,a,Sm(),l);return VI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await vC(t),a=new iC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return VT()||CT()||_g()}}const xC=OC;var R0="@firebase/auth",I0="1.12.0";class MC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(r){Wa(new Xr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},_=new oI(a,l,c,y);return dI(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Xr("auth-internal",t=>{const i=go(t.getProvider("auth").getImmediate());return(a=>new MC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(R0,I0,VC(r)),tr(R0,I0,"esm2020")}const kC=300,LC=U0("authIdTokenMaxAge")||kC;let C0=null;const PC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>LC)return;const l=i?.token;C0!==l&&(C0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zC(r=B0()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=fI(r,{popupRedirectResolver:xC,persistence:[HI,OI,qT]}),a=U0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=PC(c.toString());RI(i,d,()=>d(i.currentUser)),wI(i,p=>d(p))}}const l=M0("auth");return l&&mI(i,`http://${l}`),i}function jC(){return document.getElementsByTagName("head")?.[0]??document}lI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",jC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");const BC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),N0=r=>{const t=qC(r);return t.charAt(0).toUpperCase()+t.slice(1)},$T=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),HC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var FC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GC=Ce.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ce.createElement("svg",{ref:y,...FC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:$T("lucide",l),...!c&&!HC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Ce.createElement(_,A)),...Array.isArray(c)?c:[c]]));const ri=(r,t)=>{const i=Ce.forwardRef(({className:a,...l},c)=>Ce.createElement(GC,{ref:c,iconNode:t,className:$T(`lucide-${BC(N0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=N0(r),i};const QC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KC=ri("arrow-left",QC);const YC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],XC=ri("arrow-right",YC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZC=ri("circle-check-big",$C);const JC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WC=ri("download",JC);const tN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$d=ri("link",tN);const eN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nN=ri("log-out",eN);const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zd=ri("plus",iN);const sN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jd=ri("refresh-cw",sN);const rN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aN=ri("trash-2",rN);const oN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lN=ri("upload",oN);const uN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wd=ri("wallet",uN),cN={apiKey:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",authDomain:"web-accounting-482a0.firebaseapp.com",projectId:"web-accounting-482a0",storageBucket:"web-accounting-482a0.firebasestorage.app",messagingSenderId:"1024117334016",appId:"1:1024117334016:web:649f65fe4c6209a94f78e5"},ZT=j0(cN),vl=zC(ZT),he=A2(ZT),ze="web_accounting";function hN(){const[r,t]=Ce.useState(null),[i,a]=Ce.useState("dashboard"),[l,c]=Ce.useState(null),[d,p]=Ce.useState(null),[y,_]=Ce.useState([]),[A,b]=Ce.useState([]),[x,Q]=Ce.useState([]),[J,it]=Ce.useState(!1),[tt,mt]=Ce.useState(!1),[Et,gt]=Ce.useState(!1),[Ft,Qt]=Ce.useState(!1),[Lt,N]=Ce.useState(null);Ce.useEffect(()=>{const S=II(vl,k=>{t(k)});return()=>S()},[]);const w=async()=>{const S=new ss;try{await YI(vl,S)}catch(k){console.error("Login failed",k),typeof __initial_auth_token<"u"&&__initial_auth_token?await bI(vl,__initial_auth_token):await vI(vl)}},C=async()=>{await CI(vl),_([]),b([]),Q([]),a("dashboard"),c(null),p(null)};Ce.useEffect(()=>{if(!r)return;const S=Gd(rn(he,"artifacts",ze,"users",r.uid,"categories"),u0("createdAt","asc")),k=Qd(S,rt=>{const Rt=rt.docs.map(Dt=>({id:Dt.id,...Dt.data()}));_(Rt),Rt.length===0?Mc(rn(he,"artifacts",ze,"users",r.uid,"categories"),{name:"",isDefault:!0,createdAt:Vc()}):l||c(Rt[0])},rt=>console.error("Cat Error:",rt)),Z=Gd(rn(he,"artifacts",ze,"users",r.uid,"boards")),W=Qd(Z,rt=>{b(rt.docs.map(Rt=>({id:Rt.id,...Rt.data()})))},rt=>console.error("Board Error:",rt)),ct=Gd(rn(he,"artifacts",ze,"users",r.uid,"transactions"),u0("date","desc")),ot=Qd(ct,rt=>{Q(rt.docs.map(Rt=>({id:Rt.id,...Rt.data()})))},rt=>console.error("Tx Error:",rt));return()=>{k(),W(),ot()}},[r]);const M=async S=>{if(S.trim())try{await Mc(rn(he,"artifacts",ze,"users",r.uid,"categories"),{name:S,isDefault:!1,createdAt:Vc()}),it(!1)}catch(k){console.error(k)}},O=async S=>{if(y.find(rt=>rt.id===S).isDefault){alert("");return}const Z=y.find(rt=>rt.isDefault);if(!Z)return;const W=Uc(he);A.filter(rt=>rt.categoryId===S).forEach(rt=>{const Rt=Bn(he,"artifacts",ze,"users",r.uid,"boards",rt.id);W.update(Rt,{categoryId:Z.id})});const ot=Bn(he,"artifacts",ze,"users",r.uid,"categories",S);W.delete(ot),await W.commit(),l.id===S&&c(Z)},U=async S=>{const k=Uc(he),Z=Bn(rn(he,"artifacts",ze,"users",r.uid,"boards")),W={name:S.name,categoryId:l.id,parentId:S.parentId||null,status:"active",createdAt:Vc()};if(k.set(Z,W),S.parentId&&S.allocationAmount){const ct=parseFloat(S.allocationAmount),ot=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));k.set(ot,{boardId:S.parentId,amount:-ct,type:"allocation_out",linkedBoardId:Z.id,description:` -> ${S.name}`,date:new Date().toISOString()});const rt=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));k.set(rt,{boardId:Z.id,amount:ct,type:"allocation_in",linkedBoardId:S.parentId,description:" <- ",date:new Date().toISOString()})}await k.commit(),mt(!1)},R=async()=>{if(!d||!d.parentId)return;const k=x.filter(ot=>ot.boardId===d.id).reduce((ot,rt)=>ot+parseFloat(rt.amount),0),Z=Uc(he),W=new Date().toISOString();if(k>0){const ot=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));Z.set(ot,{boardId:d.id,amount:-k,type:"return_out",description:" -> ",date:W});const rt=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));Z.set(rt,{boardId:d.parentId,amount:k,type:"return_in",description:` <- ${d.name}`,date:W})}else if(k<0){const ot=Math.abs(k),rt=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));Z.set(rt,{boardId:d.id,amount:ot,type:"cover_in",description:" <- ",date:W});const Rt=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));Z.set(Rt,{boardId:d.parentId,amount:-ot,type:"cover_out",description:` -> ${d.name}`,date:W})}const ct=Bn(he,"artifacts",ze,"users",r.uid,"boards",d.id);Z.update(ct,{status:"closed"}),await Z.commit(),Qt(!1)},ee=async S=>{await Mc(rn(he,"artifacts",ze,"users",r.uid,"transactions"),{boardId:d.id,amount:S.type==="expense"?-Math.abs(S.amount):Math.abs(S.amount),description:S.description,type:"normal",date:new Date().toISOString()}),gt(!1)},fe=()=>{if(!d)return;const S=x.filter(Dt=>Dt.boardId===d.id),k=`BoardName,${d.name},ParentID,${d.parentId||"None"},Status,${d.status}`,Z="Date,Description,Amount,Type",W=S.map(Dt=>`${Dt.date},"${Dt.description}",${Dt.amount},${Dt.type}`).join(`
`),ct=`${k}
${Z}
${W}`,ot=new Blob([ct],{type:"text/csv;charset=utf-8;"}),rt=URL.createObjectURL(ot),Rt=document.createElement("a");Rt.href=rt,Rt.setAttribute("download",`${d.name}_export.csv`),document.body.appendChild(Rt),Rt.click()},F=S=>{const k=S.target.files[0];if(!k)return;const Z=new FileReader;Z.onload=async W=>{const ot=W.target.result.split(`
`);if(ot.length<2)return alert("");const Rt=ot[0].split(",")[1]||"Imported Board",Dt=await Mc(rn(he,"artifacts",ze,"users",r.uid,"boards"),{name:Rt+" (Imported)",categoryId:l.id,parentId:null,status:"active",createdAt:Vc()}),ai=Uc(he);for(let oi=2;oi<ot.length;oi++){const Pi=ot[oi];if(!Pi.trim())continue;const Rn=Pi.split(","),In=Rn[0],hr=Rn[1]?Rn[1].replace(/"/g,""):"",li=parseFloat(Rn[2]),fr=Rn[3]?.trim()||"normal";if(!isNaN(li)){const dr=Bn(rn(he,"artifacts",ze,"users",r.uid,"transactions"));ai.set(dr,{boardId:Dt.id,amount:li,description:hr,date:In,type:fr})}}await ai.commit(),alert("")},Z.readAsText(k)},nt=S=>x.filter(k=>k.boardId===S).reduce((k,Z)=>k+parseFloat(Z.amount),0),ht=A.filter(S=>S.categoryId===l?.id),It=x.filter(S=>S.boardId===d?.id),Pt=d?nt(d.id):0;return r?j.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-800 font-sans overflow-hidden",children:[j.jsxs("div",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl z-20",children:[j.jsxs("div",{className:"p-6",children:[j.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[j.jsx(Wd,{className:"w-6 h-6 text-emerald-400"}),"FinanceFlow"]}),j.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-500 bg-slate-800/50 p-2 rounded-lg",children:[r.photoURL?j.jsx("img",{src:r.photoURL,className:"w-6 h-6 rounded-full",alt:"avatar"}):j.jsx("div",{className:"w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold",children:r.email?.[0]?.toUpperCase()}),j.jsx("span",{className:"truncate flex-1",children:r.displayName||r.email}),j.jsx("button",{onClick:C,title:"",className:"hover:text-white",children:j.jsx(nN,{className:"w-3 h-3"})})]})]}),j.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-2",children:[j.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 mt-4",children:[j.jsx("span",{children:"Categories"}),j.jsx("button",{onClick:()=>it(!0),className:"hover:text-white transition-colors",children:j.jsx(Zd,{className:"w-4 h-4"})})]}),y.map(S=>j.jsxs("div",{onClick:()=>{c(S),a("dashboard")},className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${l?.id===S.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50":"hover:bg-slate-800"}`,children:[j.jsx("span",{className:"truncate font-medium",children:S.name}),!S.isDefault&&j.jsx("button",{onClick:k=>{k.stopPropagation(),O(S.id)},className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-1",children:j.jsx(aN,{className:"w-3 h-3"})})]},S.id))]}),j.jsx("div",{className:"p-4 border-t border-slate-800 text-xs text-slate-500 text-center",children:"Persisted securely via Firebase"})]}),j.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[j.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-8 justify-between shadow-sm z-10",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[i==="board-detail"&&j.jsx("button",{onClick:()=>a("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:j.jsx(KC,{className:"w-5 h-5"})}),j.jsx("h2",{className:"text-xl font-bold text-slate-800",children:i==="dashboard"?l?.name:d?.name}),i==="board-detail"&&d?.parentId&&j.jsxs("span",{className:"flex items-center gap-1 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded-full border border-blue-100",children:[j.jsx($d,{className:"w-3 h-3"})," "]}),i==="board-detail"&&d?.status==="closed"&&j.jsxs("span",{className:"flex items-center gap-1 text-xs bg-slate-100 text-slate-500 px-2 py-1 rounded-full border border-slate-200",children:[j.jsx(ZC,{className:"w-3 h-3"})," "]})]}),j.jsx("div",{className:"flex items-center gap-3",children:i==="board-detail"&&j.jsxs(j.Fragment,{children:[j.jsxs("label",{className:"cursor-pointer p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Import CSV",children:[j.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:F}),j.jsx(lN,{className:"w-5 h-5"})]}),j.jsx("button",{onClick:fe,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Export CSV",children:j.jsx(WC,{className:"w-5 h-5"})}),d?.parentId&&d.status==="active"&&j.jsxs("button",{onClick:()=>Qt(!0),className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[j.jsx(Jd,{className:"w-4 h-4"}),""]})]})})]}),j.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:[i==="dashboard"&&j.jsx("div",{children:j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[j.jsxs("button",{onClick:()=>mt(!0),className:"group flex flex-col items-center justify-center h-48 rounded-xl border-2 border-dashed border-slate-300 hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer",children:[j.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:j.jsx(Zd,{className:"w-6 h-6 text-slate-400 group-hover:text-indigo-500"})}),j.jsx("span",{className:"text-slate-500 font-medium group-hover:text-indigo-600",children:""})]}),ht.map(S=>{const k=nt(S.id);return j.jsxs("div",{onClick:()=>{p(S),a("board-detail")},className:`relative bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:-translate-y-1 transition-all cursor-pointer flex flex-col justify-between h-48 overflow-hidden group ${S.status==="closed"?"opacity-60 grayscale":""}`,children:[j.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${k>=0?"bg-emerald-400":"bg-rose-400"}`}),j.jsxs("div",{children:[j.jsxs("div",{className:"flex justify-between items-start",children:[j.jsx("h3",{className:"font-semibold text-lg text-slate-800 line-clamp-1 pr-2",children:S.name}),S.parentId&&j.jsx($d,{className:"w-4 h-4 text-blue-400 shrink-0"})]}),j.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Updated ",new Date(S.createdAt?.seconds*1e3).toLocaleDateString()]})]}),j.jsxs("div",{children:[j.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Current Balance"}),j.jsxs("div",{className:`text-3xl font-bold tracking-tight mt-1 ${k>=0?"text-slate-800":"text-rose-600"}`,children:["",k.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),j.jsx("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity",children:j.jsx("div",{className:"bg-slate-100 p-2 rounded-full text-slate-600",children:j.jsx(XC,{className:"w-4 h-4"})})})]},S.id)})]})}),i==="board-detail"&&d&&j.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8 flex items-center justify-between",children:[j.jsxs("div",{children:[j.jsx("h4",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:""}),j.jsxs("div",{className:`text-5xl font-bold mt-2 ${Pt>=0?"text-slate-800":"text-rose-600"}`,children:["",Pt.toLocaleString()]}),d.status==="closed"&&j.jsx("span",{className:"text-red-500 text-sm font-bold mt-2 block",children:""})]}),d.status==="active"&&j.jsxs("button",{onClick:()=>gt(!0),className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-slate-900/20 transition-all hover:scale-105 active:scale-95",children:[j.jsx(Zd,{className:"w-5 h-5"})," "]})]}),(()=>{const S=A.filter(k=>k.parentId===d.id);return S.length===0?null:j.jsxs("div",{className:"mb-8",children:[j.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 pl-2",children:" ()"}),j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(k=>{const Z=nt(k.id),W=x.find(rt=>rt.linkedBoardId===k.id&&rt.type==="allocation_out"),ct=W?Math.abs(W.amount):0,ot=ct-Z;return j.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-xl flex items-center justify-between hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{p(k)},children:[j.jsxs("div",{children:[j.jsxs("div",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[k.name,k.status==="closed"&&j.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1 rounded",children:"CLOSED"})]}),j.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[": ",ct," | : ",Z]})]}),j.jsxs("div",{className:"text-right",children:[j.jsx("div",{className:"text-xs text-slate-400",children:""}),j.jsxs("div",{className:"font-bold text-rose-500",children:["",ot.toLocaleString()]})]})]},k.id)})})]})})(),j.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[j.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[j.jsx("h3",{className:"font-bold text-slate-700",children:""}),j.jsxs("span",{className:"text-xs text-slate-400",children:[It.length," "]})]}),j.jsx("div",{className:"divide-y divide-slate-100",children:It.length===0?j.jsx("div",{className:"p-12 text-center text-slate-400",children:""}):It.map(S=>j.jsxs("div",{className:"px-6 py-4 hover:bg-slate-50 transition-colors flex items-center justify-between group",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 
                            ${["allocation_in","return_in","cover_in"].includes(S.type)?"bg-blue-100 text-blue-600":["allocation_out","return_out","cover_out"].includes(S.type)?"bg-purple-100 text-purple-600":parseFloat(S.amount)>0?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:["allocation_in","allocation_out"].includes(S.type)?j.jsx($d,{className:"w-5 h-5"}):["return_in","return_out","cover_in","cover_out"].includes(S.type)?j.jsx(Jd,{className:"w-5 h-5"}):j.jsx(Wd,{className:"w-5 h-5"})}),j.jsxs("div",{children:[j.jsx("div",{className:"font-medium text-slate-800",children:S.description}),j.jsx("div",{className:"text-xs text-slate-400",children:new Date(S.date).toLocaleString()})]})]}),j.jsxs("div",{className:`font-bold font-mono text-lg 
                           ${parseFloat(S.amount)>0?"text-emerald-600":"text-slate-800"}`,children:[parseFloat(S.amount)>0?"+":"",parseFloat(S.amount).toLocaleString()]})]},S.id))})]})]})]})]}),J&&j.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:j.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl",children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),j.jsxs("form",{onSubmit:S=>{S.preventDefault(),M(S.target.catName.value)},children:[j.jsx("input",{name:"catName",autoFocus:!0,placeholder:" (e.g., , )",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 focus:ring-2 focus:ring-indigo-500 outline-none"}),j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsx("button",{type:"button",onClick:()=>it(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:""})]})]})]})}),tt&&j.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:j.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl",children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),j.jsxs("form",{onSubmit:S=>{S.preventDefault();const k=new FormData(S.target);U({name:k.get("name"),parentId:k.get("parentId")||null,allocationAmount:k.get("allocation")})},children:[j.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:""}),j.jsx("input",{name:"name",required:!0,placeholder:": 2024",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 focus:ring-2 focus:ring-indigo-500 outline-none"}),j.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:" ()"}),j.jsxs("select",{name:"parentId",className:"w-full border border-slate-300 rounded-lg p-3 mb-2 bg-white outline-none",children:[j.jsx("option",{value:"",children:" ()"}),A.filter(S=>S.status==="active").map(S=>j.jsxs("option",{value:S.id,children:[S.name," (: ",nt(S.id),")"]},S.id))]}),j.jsx("p",{className:"text-xs text-slate-400 mb-4",children:""}),j.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:""}),j.jsx("input",{name:"allocation",type:"number",step:"0.01",placeholder:"0.00",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 focus:ring-2 focus:ring-indigo-500 outline-none"}),j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsx("button",{type:"button",onClick:()=>mt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:""})]})]})]})}),Et&&j.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:j.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl",children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),j.jsxs("form",{onSubmit:S=>{S.preventDefault();const k=new FormData(S.target);ee({amount:k.get("amount"),description:k.get("desc"),type:k.get("type")})},children:[j.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-100 p-1 rounded-lg",children:[j.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[j.jsx("input",{type:"radio",name:"type",value:"expense",defaultChecked:!0,className:"peer hidden"}),j.jsx("div",{className:"py-2 rounded-md text-slate-500 peer-checked:bg-white peer-checked:text-rose-600 peer-checked:shadow-sm font-medium transition-all",children:""})]}),j.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[j.jsx("input",{type:"radio",name:"type",value:"income",className:"peer hidden"}),j.jsx("div",{className:"py-2 rounded-md text-slate-500 peer-checked:bg-white peer-checked:text-emerald-600 peer-checked:shadow-sm font-medium transition-all",children:""})]})]}),j.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,placeholder:"0.00",autoFocus:!0,className:"w-full text-3xl font-bold text-center border-b-2 border-slate-200 p-4 mb-4 focus:border-indigo-500 outline-none bg-transparent"}),j.jsx("input",{name:"desc",required:!0,placeholder:" (e.g., )",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 focus:ring-2 focus:ring-indigo-500 outline-none"}),j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsx("button",{type:"button",onClick:()=>gt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),j.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:""})]})]})]})}),Ft&&j.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:j.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl",children:[j.jsxs("div",{className:"text-center mb-4",children:[j.jsx("div",{className:"bg-indigo-50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:j.jsx(Jd,{className:"w-6 h-6 text-indigo-600"})}),j.jsx("h3",{className:"text-lg font-bold",children:"?"})]}),j.jsxs("p",{className:"text-slate-500 text-sm mb-6 text-center",children:[' "',d?.name,'" ',j.jsx("br",{}),j.jsx("br",{})," ",j.jsx("span",{className:"font-bold text-slate-800",children:Pt})," ",Pt>0?" ":" "]}),j.jsxs("div",{className:"flex justify-end gap-2",children:[j.jsx("button",{type:"button",onClick:()=>Qt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),j.jsx("button",{onClick:R,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:""})]})]})})]}):j.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-800",children:[j.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:j.jsx(Wd,{className:"w-8 h-8 text-emerald-400"})}),j.jsx("h1",{className:"text-3xl font-bold mb-2",children:"FinanceFlow Pro"}),j.jsx("p",{className:"text-slate-500 mb-8",children:""}),j.jsxs("button",{onClick:w,className:"flex items-center gap-3 bg-white border border-slate-300 px-6 py-3 rounded-xl font-medium shadow-sm hover:bg-slate-50 hover:shadow-md transition-all",children:[j.jsx("span",{className:"font-bold text-blue-500",children:"G"})," Google "]})]})}L1.createRoot(document.getElementById("root")).render(j.jsx(Ce.StrictMode,{children:j.jsx(hN,{})}));

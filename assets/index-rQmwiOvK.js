(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Fd={exports:{}},Dl={};var tv;function Zb(){if(tv)return Dl;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var ev;function Wb(){return ev||(ev=1,Fd.exports=Zb()),Fd.exports}var M=Wb(),Gd={exports:{}},At={};var nv;function tS(){if(nv)return At;nv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function dt(x,X,it){this.props=x,this.context=X,this.refs=W,this.updater=it||Z}dt.prototype.isReactComponent={},dt.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},dt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=dt.prototype;function pt(x,X,it){this.props=x,this.context=X,this.refs=W,this.updater=it||Z}var vt=pt.prototype=new Et;vt.constructor=pt,st(vt,dt.prototype),vt.isPureReactComponent=!0;var ee=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,X,it){var at=it.ref;return{$$typeof:s,type:x,key:X,ref:at!==void 0?at:null,props:it}}function V(x,X){return I(x.type,X,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function U(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return X[it]})}var w=/\/+/g;function le(x,X){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):X.toString(36)}function fe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Mt,Mt):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,X,it,at,_t){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var Ut=!1;if(x===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(x.$$typeof){case s:case t:Ut=!0;break;case A:return Ut=x._init,F(Ut(x._payload),X,it,at,_t)}}if(Ut)return _t=_t(x),Ut=at===""?"."+le(x,0):at,ee(_t)?(it="",Ut!=null&&(it=Ut.replace(w,"$&/")+"/"),F(_t,X,it,"",function(Hi){return Hi})):_t!=null&&(N(_t)&&(_t=V(_t,it+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Ut)),X.push(_t)),1;Ut=0;var we=at===""?".":at+":";if(ee(x))for(var ue=0;ue<x.length;ue++)at=x[ue],St=we+le(at,ue),Ut+=F(at,X,it,St,_t);else if(ue=Q(x),typeof ue=="function")for(x=ue.call(x),ue=0;!(at=x.next()).done;)at=at.value,St=we+le(at,ue++),Ut+=F(at,X,it,St,_t);else if(St==="object"){if(typeof x.then=="function")return F(fe(x),X,it,at,_t);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(x,X,it){if(x==null)return x;var at=[],_t=0;return F(x,at,"","",function(St){return X.call(it,St,_t++)}),at}function ct(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var xt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Dt={map:nt,forEach:function(x,X,it){nt(x,function(){X.apply(this,arguments)},it)},count:function(x){var X=0;return nt(x,function(){X++}),X},toArray:function(x){return nt(x,function(X){return X})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=b,At.Children=Dt,At.Component=dt,At.Fragment=i,At.Profiler=l,At.PureComponent=pt,At.StrictMode=r,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,X,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=st({},x.props),_t=x.key;if(X!=null)for(St in X.key!==void 0&&(_t=""+X.key),X)!S.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(at[St]=X[St]);var St=arguments.length-2;if(St===1)at.children=it;else if(1<St){for(var Ut=Array(St),we=0;we<St;we++)Ut[we]=arguments[we+2];at.children=Ut}return I(x.type,_t,at)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,X,it){var at,_t={},St=null;if(X!=null)for(at in X.key!==void 0&&(St=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=X[at]);var Ut=arguments.length-2;if(Ut===1)_t.children=it;else if(1<Ut){for(var we=Array(Ut),ue=0;ue<Ut;ue++)we[ue]=arguments[ue+2];_t.children=we}if(x&&x.defaultProps)for(at in Ut=x.defaultProps,Ut)_t[at]===void 0&&(_t[at]=Ut[at]);return I(x,St,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:p,render:x}},At.isValidElement=N,At.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ct}},At.memo=function(x,X){return{$$typeof:_,type:x,compare:X===void 0?null:X}},At.startTransition=function(x){var X=C.T,it={};C.T=it;try{var at=x(),_t=C.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,xt)}catch(St){xt(St)}finally{X!==null&&it.types!==null&&(X.types=it.types),C.T=X}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(x){return C.H.use(x)},At.useActionState=function(x,X,it){return C.H.useActionState(x,X,it)},At.useCallback=function(x,X){return C.H.useCallback(x,X)},At.useContext=function(x){return C.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,X){return C.H.useDeferredValue(x,X)},At.useEffect=function(x,X){return C.H.useEffect(x,X)},At.useEffectEvent=function(x){return C.H.useEffectEvent(x)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(x,X,it){return C.H.useImperativeHandle(x,X,it)},At.useInsertionEffect=function(x,X){return C.H.useInsertionEffect(x,X)},At.useLayoutEffect=function(x,X){return C.H.useLayoutEffect(x,X)},At.useMemo=function(x,X){return C.H.useMemo(x,X)},At.useOptimistic=function(x,X){return C.H.useOptimistic(x,X)},At.useReducer=function(x,X,it){return C.H.useReducer(x,X,it)},At.useRef=function(x){return C.H.useRef(x)},At.useState=function(x){return C.H.useState(x)},At.useSyncExternalStore=function(x,X,it){return C.H.useSyncExternalStore(x,X,it)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var iv;function Hm(){return iv||(iv=1,Gd.exports=tS()),Gd.exports}var ae=Hm(),Qd={exports:{}},xl={},Kd={exports:{}},Yd={};var sv;function eS(){return sv||(sv=1,(function(s){function t(F,nt){var ct=F.length;F.push(nt);t:for(;0<ct;){var xt=ct-1>>>1,Dt=F[xt];if(0<l(Dt,nt))F[xt]=nt,F[ct]=Dt,ct=xt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],ct=F.pop();if(ct!==nt){F[0]=ct;t:for(var xt=0,Dt=F.length,x=Dt>>>1;xt<x;){var X=2*(xt+1)-1,it=F[X],at=X+1,_t=F[at];if(0>l(it,ct))at<Dt&&0>l(_t,it)?(F[xt]=_t,F[at]=ct,xt=at):(F[xt]=it,F[X]=ct,xt=X);else if(at<Dt&&0>l(_t,ct))F[xt]=_t,F[at]=ct,xt=at;else break t}}return nt}function l(F,nt){var ct=F.sortIndex-nt.sortIndex;return ct!==0?ct:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],A=1,b=null,O=3,Q=!1,Z=!1,st=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function vt(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=F)r(_),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=i(_)}}function ee(F){if(st=!1,vt(F),!Z)if(i(g)!==null)Z=!0,Mt||(Mt=!0,U());else{var nt=i(_);nt!==null&&fe(ee,nt.startTime-F)}}var Mt=!1,C=-1,S=5,I=-1;function V(){return W?!0:!(s.unstable_now()-I<S)}function N(){if(W=!1,Mt){var F=s.unstable_now();I=F;var nt=!0;try{t:{Z=!1,st&&(st=!1,Et(C),C=-1),Q=!0;var ct=O;try{e:{for(vt(F),b=i(g);b!==null&&!(b.expirationTime>F&&V());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,O=b.priorityLevel;var Dt=xt(b.expirationTime<=F);if(F=s.unstable_now(),typeof Dt=="function"){b.callback=Dt,vt(F),nt=!0;break e}b===i(g)&&r(g),vt(F)}else r(g);b=i(g)}if(b!==null)nt=!0;else{var x=i(_);x!==null&&fe(ee,x.startTime-F),nt=!1}}break t}finally{b=null,O=ct,Q=!1}nt=void 0}}finally{nt?U():Mt=!1}}}var U;if(typeof pt=="function")U=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,le=w.port2;w.port1.onmessage=N,U=function(){le.postMessage(null)}}else U=function(){dt(N,0)};function fe(F,nt){C=dt(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var ct=O;O=nt;try{return F()}finally{O=ct}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=O;O=F;try{return nt()}finally{O=ct}},s.unstable_scheduleCallback=function(F,nt,ct){var xt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?xt+ct:xt):ct=xt,F){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ct+Dt,F={id:A++,callback:nt,priorityLevel:F,startTime:ct,expirationTime:Dt,sortIndex:-1},ct>xt?(F.sortIndex=ct,t(_,F),i(g)===null&&F===i(_)&&(st?(Et(C),C=-1):st=!0,fe(ee,ct-xt))):(F.sortIndex=Dt,t(g,F),Z||Q||(Z=!0,Mt||(Mt=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var nt=O;return function(){var ct=O;O=nt;try{return F.apply(this,arguments)}finally{O=ct}}}})(Yd)),Yd}var rv;function nS(){return rv||(rv=1,Kd.exports=eS()),Kd.exports}var Xd={exports:{}},an={};var av;function iS(){if(av)return an;av=1;var s=Hm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},an.flushSync=function(g){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=A,r.d.f()}},an.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:Q}):A==="script"&&r.d.X(g,{crossOrigin:b,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},an.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(g,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,_){return g(_)},an.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var ov;function sS(){if(ov)return Xd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=iS(),Xd.exports}var lv;function rS(){if(lv)return xl;lv=1;var s=nS(),t=Hm(),i=sS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case ee:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var fe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},xt=[],Dt=-1;function x(e){return{current:e}}function X(e){0>Dt||(e.current=xt[Dt],xt[Dt]=null,Dt--)}function it(e,n){Dt++,xt[Dt]=e.current,e.current=n}var at=x(null),_t=x(null),St=x(null),Ut=x(null);function we(e,n){switch(it(St,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=b_(n),e=S_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function ue(){X(at),X(_t),X(St)}function Hi(e){e.memoizedState!==null&&it(Ut,e);var n=at.current,a=S_(n,e.type);n!==a&&(it(_t,e),it(at,a))}function vs(e){_t.current===e&&(X(at),X(_t)),Ut.current===e&&(X(Ut),Rl._currentValue=ct)}var Es,Ts;function Ln(e){if(Es===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Es=n&&n[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+e+Ts}var Rr=!1;function Zn(e,n){if(!e||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){j=q}e.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ln(a):""}function Ir(e,n){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Zn(e.type,!1);case 11:return Zn(e.type.render,!1);case 1:return Zn(e.type,!0);case 31:return Ln("Activity");default:return""}}function Fi(e){try{var n="",a=null;do n+=Ir(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,H=s.unstable_scheduleCallback,tt=s.unstable_cancelCallback,wt=s.unstable_shouldYield,$t=s.unstable_requestPaint,Ft=s.unstable_now,Kt=s.unstable_getCurrentPriorityLevel,Rt=s.unstable_ImmediatePriority,ce=s.unstable_UserBlockingPriority,De=s.unstable_NormalPriority,Do=s.unstable_LowPriority,Cr=s.unstable_IdlePriority,As=s.log,Nr=s.unstable_setDisableYieldValue,$e=null,He=null;function pn(e){if(typeof As=="function"&&Nr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode($e,e)}catch{}}var _e=Math.clz32?Math.clz32:pu,ya=Math.log,bs=Math.LN2;function pu(e){return e>>>=0,e===0?32:31-(ya(e)/bs|0)|0}var mi=256,Dr=262144,xe=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pi(o):(y&=E,y!==0?h=pi(y):a||(a=E&~e,a!==0&&(h=pi(a))))):(E=o&~f,E!==0?h=pi(E):y!==0?h=pi(y):a||(a=o&~e,a!==0&&(h=pi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function yi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-_e(a),$=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}a&=~$}o!==0&&Or(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Or(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function xo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-_e(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Oo(e,n){var a=n&-n;return a=(a&42)!==0?1:Mr(a),(a&(e.suspendedLanes|n))!==0?0:a}function Mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function ti(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ei=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ei,Qe="__reactProps$"+ei,_i="__reactContainer$"+ei,_a="__reactEvents$"+ei,Xh="__reactListeners$"+ei,_u="__reactHandles$"+ei,vu="__reactResources$"+ei,vi="__reactMarker$"+ei;function va(e){delete e[Oe],delete e[Qe],delete e[_a],delete e[Xh],delete e[_u]}function Ei(e){var n=e[Oe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_i]||a[Oe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Oe])return a;e=x_(e)}return n}e=a,a=e.parentNode}return null}function Pn(e){if(e=e[Oe]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function In(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ti(e){var n=e[vu];return n||(n=e[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[vi]=!0}var Mo=new Set,Vo={};function Ai(e,n){bi(e,n),bi(e+"Capture",n)}function bi(e,n){for(Vo[e]=n,e=0;e<n.length;e++)Mo.add(n[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function Eu(e){return ye.call(Lo,e)?!0:ye.call(Uo,e)?!1:ko.test(e)?Lo[e]=!0:(Uo[e]=!0,!1)}function Ea(e,n,a){if(Eu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Cn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ve(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Po(e,n,""+e[n])}}function Vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kr=/[\n"\\]/g;function gn(e){return e.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?zo(e,y,Ke(n)):a!=null?zo(e,y,Ke(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function Tu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Zt(e)}function zo(e,n,a){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ws(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Au(e,n,a){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ke(a):""}function Rs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Zt(e)}function yn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||bu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Bo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&jo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&jo(e,f,n[f])}function Aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var qo=null;function zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,wi=null;function Ur(e){var n=Pn(e);if(n&&(e=n.stateNode)){var a=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ta(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Qe]||null;if(!h)throw Error(r(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Vr(o)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ws(e,!!a.multiple,n,!1)}}}var Sa=!1;function Ns(e,n,a){if(Sa)return e(n,a);Sa=!0;try{var o=e(n);return o}finally{if(Sa=!1,(Cs!==null||wi!==null)&&(yc(),Cs&&(n=Cs,e=wi,wi=Cs=null,Ur(n),e)))for(n=0;n<e.length;n++)Ur(e[n])}}function ii(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Qe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(jn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Lr=!1}var Ri=null,Ho=null,Pr=null;function Fo(){if(Pr)return Pr;var e,n=Ho,a=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Pr=h.slice(e,1<o?1-o:void 0)}function zr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function si(){return!1}function Je(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:si,this.isPropagationStopped=si,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Je(Ki),Ds=b({},Ki,{view:0,detail:0}),Go=Je(Ds),xs,wa,Ci,Ra=b({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(xs=e.screenX-Ci.screenX,wa=e.screenY-Ci.screenY):wa=xs=0,Ci=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),Qo=Je(Ra),jr=b({},Ra,{dataTransfer:0}),wu=Je(jr),Ru=b({},Ds,{relatedTarget:0}),Br=Je(Ru),Ko=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Je(Ko),Ia=b({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cu=Je(Ia),Nu=b({},Ki,{data:0}),Ni=Je(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ou[e])?!!n[e]:!1}function Os(){return Mu}var dn=b({},Ds,{key:function(e){if(e.key){var n=Du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vu=Je(dn),ku=b({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Je(ku),u=b({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Je(u),v=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Je(v),L=b({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Je(L),et=b({},Ki,{newState:0,oldState:0}),It=Je(et),Re=[9,13,27,32],Yt=jn&&"CompositionEvent"in window,ve=null;jn&&"documentMode"in document&&(ve=document.documentMode);var Bn=jn&&"TextEvent"in window&&!ve,Di=jn&&(!Yt||ve&&8<ve&&11>=ve),ri=" ",ai=!1;function qr(e,n){switch(e){case"keyup":return Re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function AA(e,n){switch(e){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function bA(e,n){if(Na)return e==="compositionend"||!Yt&&qr(e,n)?(e=Fo(),Pr=Ho=Ri=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var SA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!SA[e.type]:n==="textarea"}function kp(e,n,a,o){Cs?wi?wi.push(o):wi=[o]:Cs=o,n=Sc(n,"onChange"),0<n.length&&(a=new Ii("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Yo=null,Xo=null;function wA(e){y_(e,0)}function Uu(e){var n=In(e);if(Vr(n))return e}function Up(e,n){if(e==="change")return n}var Lp=!1;if(jn){var $h;if(jn){var Jh="oninput"in document;if(!Jh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Jh=typeof Pp.oninput=="function"}$h=Jh}else $h=!1;Lp=$h&&(!document.documentMode||9<document.documentMode)}function zp(){Yo&&(Yo.detachEvent("onpropertychange",jp),Xo=Yo=null)}function jp(e){if(e.propertyName==="value"&&Uu(Xo)){var n=[];kp(n,Xo,e,zn(e)),Ns(wA,n)}}function RA(e,n,a){e==="focusin"?(zp(),Yo=n,Xo=a,Yo.attachEvent("onpropertychange",jp)):e==="focusout"&&zp()}function IA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Xo)}function CA(e,n){if(e==="click")return Uu(n)}function NA(e,n){if(e==="input"||e==="change")return Uu(n)}function DA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:DA;function $o(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,n){var a=Bp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Si(e.document)}return n}function Zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xA=jn&&"documentMode"in document&&11>=document.documentMode,Da=null,Wh=null,Jo=null,tf=!1;function Gp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||Da==null||Da!==Si(o)||(o=Da,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&$o(Jo,o)||(Jo=o,o=Sc(Wh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Da)))}function Hr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var xa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},ef={},Qp={};jn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Fr(e){if(ef[e])return ef[e];if(!xa[e])return e;var n=xa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return ef[e]=n[a];return e}var Kp=Fr("animationend"),Yp=Fr("animationiteration"),Xp=Fr("animationstart"),OA=Fr("transitionrun"),MA=Fr("transitionstart"),VA=Fr("transitioncancel"),$p=Fr("transitionend"),Jp=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function oi(e,n){Jp.set(e,n),Ai(n,[e])}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],Oa=0,sf=0;function Pu(){for(var e=Oa,n=sf=Oa=0;n<e;){var a=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Zp(a,h,f)}}function zu(e,n,a,o){qn[Oa++]=e,qn[Oa++]=n,qn[Oa++]=a,qn[Oa++]=o,sf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rf(e,n,a,o){return zu(e,n,a,o),ju(e)}function Gr(e,n){return zu(e,null,null,n),ju(e)}function Zp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ju(e){if(50<vl)throw vl=0,md=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ma={};function kA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,n,a,o){return new kA(e,n,a,o)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xi(e,n){var a=e.alternate;return a===null?(a=Dn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")af(e)&&(y=1);else if(typeof e=="string")y=jb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Dn(31,a,n,h),e.elementType=I,e.lanes=f,e;case st:return Qr(a.children,h,f,n);case W:y=8,h|=24;break;case dt:return e=Dn(12,a,n,h|2),e.elementType=dt,e.lanes=f,e;case ee:return e=Dn(13,a,n,h),e.elementType=ee,e.lanes=f,e;case Mt:return e=Dn(19,a,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:y=10;break t;case Et:y=9;break t;case vt:y=11;break t;case C:y=14;break t;case S:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Dn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Qr(e,n,a,o){return e=Dn(7,e,o,n),e.lanes=a,e}function of(e,n,a){return e=Dn(6,e,null,n),e.lanes=a,e}function tg(e){var n=Dn(18,null,null,0);return n.stateNode=e,n}function lf(e,n,a){return n=Dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var eg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var a=eg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Fi(n)},eg.set(e,n),n)}return{value:e,source:n,stack:Fi(n)}}var Va=[],ka=0,qu=null,Zo=0,Fn=[],Gn=0,Ms=null,xi=1,Oi="";function $i(e,n){Va[ka++]=Zo,Va[ka++]=qu,qu=e,Zo=n}function ng(e,n,a){Fn[Gn++]=xi,Fn[Gn++]=Oi,Fn[Gn++]=Ms,Ms=e;var o=xi;e=Oi;var h=32-_e(o)-1;o&=~(1<<h),a+=1;var f=32-_e(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xi=1<<32-_e(n)+h|a<<h|o,Oi=f+e}else xi=1<<f|a<<h|o,Oi=e}function uf(e){e.return!==null&&($i(e,1),ng(e,1,0))}function cf(e){for(;e===qu;)qu=Va[--ka],Va[ka]=null,Zo=Va[--ka],Va[ka]=null;for(;e===Ms;)Ms=Fn[--Gn],Fn[Gn]=null,Oi=Fn[--Gn],Fn[Gn]=null,xi=Fn[--Gn],Fn[Gn]=null}function ig(e,n){Fn[Gn++]=xi,Fn[Gn++]=Oi,Fn[Gn++]=Ms,xi=n.id,Oi=n.overflow,Ms=e}var Ze=null,de=null,qt=!1,Vs=null,Qn=!1,hf=Error(r(519));function ks(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Hn(n,e)),hf}function sg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Oe]=e,n[Qe]=o,a){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Tl.length;a++)kt(Tl[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),Tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||T_(n.textContent,a)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||ks(e,!0)}function rg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Ze=Ze.return}}function Ua(e){if(e!==Ze)return!1;if(!qt)return rg(e),qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nd(e.type,e.memoizedProps)),a=!a),a&&de&&ks(e),rg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=D_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=D_(e)}else n===27?(n=de,Xs(e.type)?(e=Vd,Vd=null,de=e):de=n):de=Ze?Yn(e.stateNode.nextSibling):null;return!0}function Kr(){de=Ze=null,qt=!1}function ff(){var e=Vs;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Vs=null),e}function Wo(e){Vs===null?Vs=[e]:Vs.push(e)}var df=x(null),Yr=null,Ji=null;function Us(e,n,a){it(df,n._currentValue),n._currentValue=a}function Zi(e){e._currentValue=df.current,X(df)}function mf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function pf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),mf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),mf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function La(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Nn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}h=h.return}e!==null&&pf(n,e,a,o),n.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xr(e){Yr=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return ag(Yr,e)}function Fu(e,n){return Yr===null&&Xr(e),ag(e,n)}function ag(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(e===null)throw Error(r(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return a}var UA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},LA=s.unstable_scheduleCallback,PA=s.unstable_NormalPriority,ke={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new UA,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&LA(PA,function(){e.controller.abort()})}var el=null,yf=0,Pa=0,za=null;function zA(e,n){if(el===null){var a=el=[];yf=0,Pa=Ed(),za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(og,og),n}function og(){if(--yf===0&&el!==null){za!==null&&(za.status="fulfilled");var e=el;el=null,Pa=0,za=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=F.S;F.S=function(e,n){Gy=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&zA(e,n),lg!==null&&lg(e,n)};var $r=x(null);function _f(){var e=$r.current;return e!==null?e:oe.pooledCache}function Gu(e,n){n===null?it($r,$r.current):it($r,n.pool)}function ug(){var e=_f();return e===null?null:{parent:ke._currentValue,pool:e}}var ja=Error(r(460)),vf=Error(r(474)),Qu=Error(r(542)),Ku={then:function(){}};function cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ni,ni),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,dg(e),e}throw Zr=n,ja}}function Jr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,ja):a}}var Zr=null;function fg(){if(Zr===null)throw Error(r(459));var e=Zr;return Zr=null,e}function dg(e){if(e===ja||e===Qu)throw Error(r(483))}var Ba=null,nl=0;function Yu(e){var n=nl;return nl+=1,Ba===null&&(Ba=[]),hg(Ba,e,n)}function il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Xi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=of(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var ht=P.type;return ht===st?G(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Jr(ht)===D.type)?(D=h(D,P.props),il(D,P),D.return=k,D):(D=Bu(P.type,P.key,P.props,null,k.mode,K),il(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=lf(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,K,ht){return D===null||D.tag!==7?(D=Qr(P,k.mode,K,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=of(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Bu(D.type,D.key,D.props,null,k.mode,P),il(P,D),P.return=k,P;case Z:return D=lf(D,k.mode,P),D.return=k,D;case S:return D=Jr(D),$(k,D,P)}if(fe(D)||U(D))return D=Qr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Yu(D),P);if(D.$$typeof===pt)return $(k,Fu(k,D),P);Xu(k,D)}return null}function j(k,D,P,K){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ht?R(k,D,P,K):null;case Z:return P.key===ht?z(k,D,P,K):null;case S:return P=Jr(P),j(k,D,P,K)}if(fe(P)||U(P))return ht!==null?null:G(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,Yu(P),K);if(P.$$typeof===pt)return j(k,D,Fu(k,P),K);Xu(k,P)}return null}function q(k,D,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,ht);case Z:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ht);case S:return K=Jr(K),q(k,D,P,K,ht)}if(fe(K)||U(K))return k=k.get(P)||null,G(D,k,K,ht,null);if(typeof K.then=="function")return q(k,D,P,Yu(K),ht);if(K.$$typeof===pt)return q(k,D,P,Fu(D,K),ht);Xu(D,K)}return null}function lt(k,D,P,K){for(var ht=null,Gt=null,ut=D,Nt=D=0,Pt=null;ut!==null&&Nt<P.length;Nt++){ut.index>Nt?(Pt=ut,ut=null):Pt=ut.sibling;var Qt=j(k,ut,P[Nt],K);if(Qt===null){ut===null&&(ut=Pt);break}e&&ut&&Qt.alternate===null&&n(k,ut),D=f(Qt,D,Nt),Gt===null?ht=Qt:Gt.sibling=Qt,Gt=Qt,ut=Pt}if(Nt===P.length)return a(k,ut),qt&&$i(k,Nt),ht;if(ut===null){for(;Nt<P.length;Nt++)ut=$(k,P[Nt],K),ut!==null&&(D=f(ut,D,Nt),Gt===null?ht=ut:Gt.sibling=ut,Gt=ut);return qt&&$i(k,Nt),ht}for(ut=o(ut);Nt<P.length;Nt++)Pt=q(ut,k,Nt,P[Nt],K),Pt!==null&&(e&&Pt.alternate!==null&&ut.delete(Pt.key===null?Nt:Pt.key),D=f(Pt,D,Nt),Gt===null?ht=Pt:Gt.sibling=Pt,Gt=Pt);return e&&ut.forEach(function(tr){return n(k,tr)}),qt&&$i(k,Nt),ht}function mt(k,D,P,K){if(P==null)throw Error(r(151));for(var ht=null,Gt=null,ut=D,Nt=D=0,Pt=null,Qt=P.next();ut!==null&&!Qt.done;Nt++,Qt=P.next()){ut.index>Nt?(Pt=ut,ut=null):Pt=ut.sibling;var tr=j(k,ut,Qt.value,K);if(tr===null){ut===null&&(ut=Pt);break}e&&ut&&tr.alternate===null&&n(k,ut),D=f(tr,D,Nt),Gt===null?ht=tr:Gt.sibling=tr,Gt=tr,ut=Pt}if(Qt.done)return a(k,ut),qt&&$i(k,Nt),ht;if(ut===null){for(;!Qt.done;Nt++,Qt=P.next())Qt=$(k,Qt.value,K),Qt!==null&&(D=f(Qt,D,Nt),Gt===null?ht=Qt:Gt.sibling=Qt,Gt=Qt);return qt&&$i(k,Nt),ht}for(ut=o(ut);!Qt.done;Nt++,Qt=P.next())Qt=q(ut,k,Nt,Qt.value,K),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?Nt:Qt.key),D=f(Qt,D,Nt),Gt===null?ht=Qt:Gt.sibling=Qt,Gt=Qt);return e&&ut.forEach(function(Jb){return n(k,Jb)}),qt&&$i(k,Nt),ht}function re(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===st){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Jr(ht)===D.type){a(k,D.sibling),K=h(D,P.props),il(K,P),K.return=k,k=K;break t}a(k,D);break}else n(k,D);D=D.sibling}P.type===st?(K=Qr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Bu(P.type,P.key,P.props,null,k.mode,K),il(K,P),K.return=k,k=K)}return y(k);case Z:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{a(k,D);break}else n(k,D);D=D.sibling}K=lf(P,k.mode,K),K.return=k,k=K}return y(k);case S:return P=Jr(P),re(k,D,P,K)}if(fe(P))return lt(k,D,P,K);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(r(150));return P=ht.call(P),mt(k,D,P,K)}if(typeof P.then=="function")return re(k,D,Yu(P),K);if(P.$$typeof===pt)return re(k,D,Fu(k,P),K);Xu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=of(P,k.mode,K),K.return=k,k=K),y(k)):a(k,D)}return function(k,D,P,K){try{nl=0;var ht=re(k,D,P,K);return Ba=null,ht}catch(ut){if(ut===ja||ut===Qu)throw ut;var Gt=Dn(29,ut,null,k.mode);return Gt.lanes=K,Gt.return=k,Gt}}}var Wr=mg(!0),pg=mg(!1),Ls=!1;function Ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ju(e),Zp(e,null,a),n}return zu(e,o,n,a),ju(e)}function sl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,xo(e,a)}}function Af(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var bf=!1;function rl(){if(bf){var e=za;if(e!==null)throw e}}function al(e,n,a,o){bf=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;y=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Lt&j)===j:(o&j)===j){j!==0&&j===Pa&&(bf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,mt=E;j=n;var re=a;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){$=lt.call(re,$,j);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,j=typeof lt=="function"?lt.call(re,$,j):lt,j==null)break t;$=b({},$,j);break t;case 2:Ls=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=$):G=G.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Fs|=y,e.lanes=y,e.memoizedState=$}}function gg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function yg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gg(a[e],n)}var qa=x(null),$u=x(0);function _g(e,n){e=os,it($u,e),it(qa,n),os=e|n.baseLanes}function Sf(){it($u,os),it(qa,qa.current)}function wf(){os=$u.current,X(qa),X($u)}var xn=x(null),Kn=null;function js(e){var n=e.alternate;it(Ie,Ie.current&1),it(xn,e),Kn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Kn=e)}function Rf(e){it(Ie,Ie.current),it(xn,e),Kn===null&&(Kn=e)}function vg(e){e.tag===22?(it(Ie,Ie.current),it(xn,e),Kn===null&&(Kn=e)):Bs()}function Bs(){it(Ie,Ie.current),it(xn,xn.current)}function On(e){X(xn),Kn===e&&(Kn=null),X(Ie)}var Ie=x(0);function Ju(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Md(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Ct=null,ie=null,Ue=null,Zu=!1,Ha=!1,ta=!1,Wu=0,ol=0,Fa=null,BA=0;function Ae(){throw Error(r(321))}function If(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Nn(e[a],n[a]))return!1;return!0}function Cf(e,n,a,o,h,f){return Wi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?ny:Hf,ta=!1,f=a(o,h),ta=!1,Ha&&(f=Tg(n,a,o,h)),Eg(e),f}function Eg(e){F.H=cl;var n=ie!==null&&ie.next!==null;if(Wi=0,Ue=ie=Ct=null,Zu=!1,ol=0,Fa=null,n)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Hu(e)&&(Le=!0))}function Tg(e,n,a,o){Ct=e;var h=0;do{if(Ha&&(Fa=null),ol=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,Ue=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=iy,f=n(a,o)}while(Ha);return f}function qA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?ll(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Nf(){var e=Wu!==0;return Wu=0,e}function Df(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function xf(e){if(Zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zu=!1}Wi=0,Ue=ie=Ct=null,Ha=!1,ol=Wu=0,Fa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ct.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ce(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Ue===null?Ct.memoizedState:Ue.next;if(n!==null)Ue=n,ie=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ue===null?Ct.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var n=ol;return ol+=1,Fa===null&&(Fa=[]),e=hg(Fa,e,n),n=Ct,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ny:Hf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===pt)return We(e)}throw Error(r(438,String(e)))}function Of(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tc(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function ts(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=Ce();return Mf(n,ie,e)}function Mf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Lt&$)===$:(Wi&$)===$){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Pa&&(G=!0);else if((Wi&j)===j){z=z.next,j===Pa&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,y=f):R=R.next=$,Ct.lanes|=j,Fs|=j;$=z.action,ta&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,Ct.lanes|=$,Fs|=$;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!Nn(f,e.memoizedState)&&(Le=!0,G&&(a=za,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Vf(e){var n=Ce(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Nn(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(e,n,a){var o=Ct,h=Ce(),f=qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Nn((ie||h).memoizedState,a);if(y&&(h.memoizedState=a,Le=!0),h=h.queue,Lf(wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ue!==null&&Ue.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Sg.bind(null,o,h,a,n),null),oe===null)throw Error(r(349));f||(Wi&127)!==0||bg(o,n,a)}return a}function bg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=tc(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sg(e,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&Ig(e)}function wg(e,n,a){return a(function(){Rg(n)&&Ig(e)})}function Rg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Nn(e,a)}catch{return!0}}function Ig(e){var n=Gr(e,2);n!==null&&An(n,e,2)}function kf(e){var n=mn();if(typeof e=="function"){var a=e;if(e=a(),ta){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},n}function Cg(e,n,a,o){return e.baseState=a,Mf(e,ie,typeof o=="function"?o:ts)}function HA(e,n,a,o,h){if(rc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ng(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ng(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),R=F.S;R!==null&&R(y,E),Dg(e,n,E)}catch(z){Uf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),Dg(e,n,f)}catch(z){Uf(e,n,z)}}function Dg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xg(e,n,o)},function(o){return Uf(e,n,o)}):xg(e,n,a)}function xg(e,n,a){n.status="fulfilled",n.value=a,Og(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ng(e,a)))}function Uf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==o)}e.action=null}function Og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mg(e,n){return n}function Vg(e,n){if(qt){var a=oe.formState;if(a!==null){t:{var o=Ct;if(qt){if(de){e:{for(var h=de,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=Yn(h.nextSibling),o=h.data==="F!";break t}}ks(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=o,a=Wg.bind(null,Ct,o),o.dispatch=a,o=kf(!1),f=qf.bind(null,Ct,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=HA.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function kg(e){var n=Ce();return Ug(n,ie,e)}function Ug(e,n,a){if(n=Mf(e,n,Mg)[0],e=nc(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(y){throw y===ja?Qu:y}else o=n;n=Ce();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,Ga(9,{destroy:void 0},FA.bind(null,h,a),null)),[o,f,e]}function FA(e,n){e.action=n}function Lg(e){var n=Ce(),a=ie;if(a!==null)return Ug(n,a,e);Ce(),n=n.memoizedState,a=Ce();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ga(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=tc(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Pg(){return Ce().memoizedState}function ic(e,n,a,o){var h=mn();Ct.flags|=e,h.memoizedState=Ga(1|n,{destroy:void 0},a,o===void 0?null:o)}function sc(e,n,a,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&If(o,ie.memoizedState.deps)?h.memoizedState=Ga(n,f,a,o):(Ct.flags|=e,h.memoizedState=Ga(1|n,f,a,o))}function zg(e,n){ic(8390656,8,e,n)}function Lf(e,n){sc(2048,8,e,n)}function GA(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=tc(),Ct.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function jg(e){var n=Ce().memoizedState;return GA({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Bg(e,n){return sc(4,2,e,n)}function qg(e,n){return sc(4,4,e,n)}function Hg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fg(e,n,a){a=a!=null?a.concat([e]):null,sc(4,4,Hg.bind(null,n,e),a)}function Pf(){}function Gg(e,n){var a=Ce();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&If(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Qg(e,n){var a=Ce();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&If(n,o[1]))return o[0];if(o=e(),ta){pn(!0);try{e()}finally{pn(!1)}}return a.memoizedState=[o,n],o}function zf(e,n,a){return a===void 0||(Wi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ky(),Ct.lanes|=e,Fs|=e,a)}function Kg(e,n,a,o){return Nn(a,n)?a:qa.current!==null?(e=zf(e,a,o),Nn(e,n)||(Le=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(Lt&261930)===0?(Le=!0,e.memoizedState=a):(e=Ky(),Ct.lanes|=e,Fs|=e,n)}function Yg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,qf(e,!1,n,a);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=jA(R,o);ul(e,n,G,kn(e))}else ul(e,n,o,kn(e))}catch($){ul(e,n,{then:function(){},status:"rejected",reason:$},kn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function QA(){}function jf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Xg(e).queue;Yg(e,h,n,ct,a===null?QA:function(){return $g(e),a(o)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Xg(e);n.next===null&&(n=e.alternate.memoizedState),ul(e,n.next.queue,{},kn())}function Bf(){return We(Rl)}function Jg(){return Ce().memoizedState}function Zg(){return Ce().memoizedState}function KA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();e=Ps(a);var o=zs(n,e,a);o!==null&&(An(o,n,a),sl(o,n,a)),n={cache:gf()},e.payload=n;return}n=n.return}}function YA(e,n,a){var o=kn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?ty(n,a):(a=rf(e,n,a,o),a!==null&&(An(a,e,o),ey(a,n,o)))}function Wg(e,n,a){var o=kn();ul(e,n,a,o)}function ul(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))ty(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,y))return zu(e,n,h,0),oe===null&&Pu(),!1}catch{}if(a=rf(e,n,h,o),a!==null)return An(a,e,o),ey(a,n,o),!0}return!1}function qf(e,n,a,o){if(o={lane:2,revertLane:Ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(n)throw Error(r(479))}else n=rf(e,a,o,2),n!==null&&An(n,e,2)}function rc(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function ty(e,n){Ha=Zu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ey(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,xo(e,a)}}var cl={readContext:We,use:ec,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};cl.useEffectEvent=Ae;var ny={readContext:We,use:ec,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:We,useEffect:zg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ic(4194308,4,Hg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var a=mn();n=n===void 0?null:n;var o=e();if(ta){pn(!0);try{e()}finally{pn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=mn();if(a!==void 0){var h=a(n);if(ta){pn(!0);try{a(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=YA.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=kf(e);var n=e.queue,a=Wg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(e,n){var a=mn();return zf(a,e,n)},useTransition:function(){var e=kf(!1);return e=Yg.bind(null,Ct,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ct,h=mn();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),oe===null)throw Error(r(349));(Lt&127)!==0||bg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,zg(wg.bind(null,o,f,e),[e]),o.flags|=2048,Ga(9,{destroy:void 0},Sg.bind(null,o,f,a,n),null),a},useId:function(){var e=mn(),n=oe.identifierPrefix;if(qt){var a=Oi,o=xi;a=(o&~(1<<32-_e(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=BA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Bf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qf.bind(null,Ct,!0,a),a.dispatch=n,[e,n]},useMemoCache:Of,useCacheRefresh:function(){return mn().memoizedState=KA.bind(null,Ct)},useEffectEvent:function(e){var n=mn(),a={impl:e};return n.memoizedState=a,function(){if((Xt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:We,use:ec,useCallback:Gg,useContext:We,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:nc,useRef:Pg,useState:function(){return nc(ts)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=Ce();return Kg(a,ie.memoizedState,e,n)},useTransition:function(){var e=nc(ts)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Bf,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var a=Ce();return Cg(a,ie,e,n)},useMemoCache:Of,useCacheRefresh:Zg};Hf.useEffectEvent=jg;var iy={readContext:We,use:ec,useCallback:Gg,useContext:We,useEffect:Lf,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Qg,useReducer:Vf,useRef:Pg,useState:function(){return Vf(ts)},useDebugValue:Pf,useDeferredValue:function(e,n){var a=Ce();return ie===null?zf(a,e,n):Kg(a,ie.memoizedState,e,n)},useTransition:function(){var e=Vf(ts)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Bf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,n){var a=Ce();return ie!==null?Cg(a,ie,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Zg};iy.useEffectEvent=jg;function Ff(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=kn(),h=Ps(o);h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(An(n,e,o),sl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=kn(),h=Ps(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(e,h,o),n!==null&&(An(n,e,o),sl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=kn(),o=Ps(a);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,a),n!==null&&(An(n,e,a),sl(n,e,a))}};function sy(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!$o(a,o)||!$o(h,f):!0}function ry(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Gf.enqueueReplaceState(n,n.state,null)}function ea(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ay(e){Lu(e)}function oy(e){console.error(e)}function ly(e){Lu(e)}function ac(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function uy(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,n,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,n)},a}function cy(e){return e=Ps(e),e.tag=3,e}function hy(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){uy(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){uy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function XA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&La(n,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?_c():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yd(e,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yd(e,o,h)),!1}throw Error(r(435,a.tag))}return yd(e,o,h),_c(),!1}if(qt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==hf&&(e=Error(r(422),{cause:o}),Wo(Hn(e,a)))):(o!==hf&&(n=Error(r(423),{cause:o}),Wo(Hn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,a),h=Qf(e.stateNode,o,h),Af(e,h),be!==4&&(be=2)),!1;var f=Error(r(520),{cause:o});if(f=Hn(f,a),_l===null?_l=[f]:_l.push(f),be!==4&&(be=2),n===null)return!0;o=Hn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,o,e),Af(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,e,a,o),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Kf=Error(r(461)),Le=!1;function tn(e,n,a,o){n.child=e===null?pg(n,null,a,o):Wr(n,e.child,a,o)}function fy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Xr(n),o=Cf(e,n,a,y,f,h),E=Nf(),e!==null&&!Le?(Df(e,n,h),es(e,n,h)):(qt&&E&&uf(n),n.flags|=1,tn(e,n,o,h),n.child)}function dy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,my(e,n,f,o,h)):(e=Bu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ed(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(y,o)&&e.ref===n.ref)return es(e,n,h)}return n.flags|=1,e=Xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function my(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if($o(f,o)&&e.ref===n.ref)if(Le=!1,n.pendingProps=o=f,ed(e,h))(e.flags&131072)!==0&&(Le=!0);else return n.lanes=e.lanes,es(e,n,h)}return Yf(e,n,a,o,h)}function py(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return gy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):Sf(),vg(n);else return o=n.lanes=536870912,gy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(n,f.cachePool),_g(n,f),Bs(),n.memoizedState=null):(e!==null&&Gu(n,null),Sf(),Bs());return tn(e,n,h,a),n.child}function hl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(e,n,a,o,h){var f=_f();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Gu(n,null),Sf(),vg(n),e!==null&&La(e,n,o,!0),n.childLanes=h,null}function oc(e,n){return n=uc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yy(e,n,a){return Wr(n,e.child,null,a),e=oc(n,n.pendingProps),e.flags|=2,On(n),n.memoizedState=null,e}function $A(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,hl(null,e);if(Rf(n),(e=de)?(e=N_(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:xi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=n,n.child=a,Ze=n,de=null)):e=null,e===null)throw ks(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Rf(n),h)if(n.flags&256)n.flags&=-257,n=yy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Le||La(e,n,a,!1),h=(a&e.childLanes)!==0,Le||h){if(o=oe,o!==null&&(y=Oo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Gr(e,y),An(o,e,y),Kf;_c(),n=yy(e,n,a)}else e=f.treeContext,de=Yn(y.nextSibling),Ze=n,qt=!0,Vs=null,Qn=!1,e!==null&&ig(n,e),n=oc(n,o),n.flags|=4096;return n}return e=Xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Yf(e,n,a,o,h){return Xr(n),a=Cf(e,n,a,o,void 0,h),o=Nf(),e!==null&&!Le?(Df(e,n,h),es(e,n,h)):(qt&&o&&uf(n),n.flags|=1,tn(e,n,a,h),n.child)}function _y(e,n,a,o,h,f){return Xr(n),n.updateQueue=null,a=Tg(n,o,a,h),Eg(e),o=Nf(),e!==null&&!Le?(Df(e,n,f),es(e,n,f)):(qt&&o&&uf(n),n.flags|=1,tn(e,n,a,f),n.child)}function vy(e,n,a,o,h){if(Xr(n),n.stateNode===null){var f=Ma,y=a.contextType;typeof y=="object"&&y!==null&&(f=We(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ef(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?We(y):Ma,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ff(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Gf.enqueueReplaceState(f,f.state,null),al(n,o,f,h),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ea(a,E);f.props=R;var z=f.context,G=a.contextType;y=Ma,typeof G=="object"&&G!==null&&(y=We(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&ry(n,f,o,y),Ls=!1;var j=n.memoizedState;f.state=j,al(n,o,f,h),rl(),z=n.memoizedState,E||j!==z||Ls?(typeof $=="function"&&(Ff(n,a,$,o),z=n.memoizedState),(R=Ls||sy(n,a,R,o,j,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Tf(e,n),y=n.memoizedProps,G=ea(a,y),f.props=G,$=n.pendingProps,j=f.context,z=a.contextType,R=Ma,typeof z=="object"&&z!==null&&(R=We(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||j!==R)&&ry(n,f,o,R),Ls=!1,j=n.memoizedState,f.state=j,al(n,o,f,h),rl();var q=n.memoizedState;y!==$||j!==q||Ls||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof E=="function"&&(Ff(n,a,E,o),q=n.memoizedState),(G=Ls||sy(n,a,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Wr(n,e.child,null,h),n.child=Wr(n,null,a,h)):tn(e,n,a,h),n.memoizedState=f.state,e=n.child):e=es(e,n,h),e}function Ey(e,n,a,o){return Kr(),n.flags|=256,tn(e,n,a,o),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(e){return{baseLanes:e,cachePool:ug()}}function Jf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function Ty(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?js(n):Bs(),(e=de)?(e=N_(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:xi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=tg(e),a.return=n,n.child=a,Ze=n,de=null)):e=null,e===null)throw ks(n);return Md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=Qr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(e,y,a),n.memoizedState=Xf,hl(null,o)):(js(n),Zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=Wf(e,n,a)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=Qr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Wr(n,e.child,null,a),o=n.child,o.memoizedState=$f(a),o.childLanes=Jf(e,y,a),n.memoizedState=Xf,n=hl(null,o));else if(js(n),Md(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(r(419)),o.stack="",o.digest=y,Wo({value:o,source:null,stack:null}),n=Wf(e,n,a)}else if(Le||La(e,n,a,!1),y=(a&e.childLanes)!==0,Le||y){if(y=oe,y!==null&&(o=Oo(y,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Gr(e,o),An(y,e,o),Kf;Od(E)||_c(),n=Wf(e,n,a)}else Od(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,de=Yn(E.nextSibling),Ze=n,qt=!0,Vs=null,Qn=!1,e!==null&&ig(n,e),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Xi(z,E):(E=Qr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,hl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=$f(a):(h=E.cachePool,h!==null?(R=ke._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Jf(e,y,a),n.memoizedState=Xf,hl(e.child,o)):(js(n),a=e.child,e=a.sibling,a=Xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Zf(e,n){return n=uc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function uc(e,n){return e=Dn(22,e,null,n),e.lanes=0,e}function Wf(e,n,a){return Wr(n,e.child,null,a),e=Zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ay(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),mf(e.return,n,a)}function td(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function by(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Ie.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,it(Ie,y),tn(e,n,o,a),o=qt?Zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,a,n);else if(e.tag===19)Ay(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),td(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}td(n,!0,a,null,f,o);break;case"together":td(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function es(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Fs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(La(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function JA(e,n,a){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),Us(n,ke,e.memoizedState.cache),Kr();break;case 27:case 5:Hi(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ty(e,n,a):(js(n),e=es(e,n,a),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(La(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ie,Ie.current),o)break;return null;case 22:return n.lanes=0,py(e,n,a,n.pendingProps);case 24:Us(n,ke,e.memoizedState.cache)}return es(e,n,a)}function Sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Le=!0;else{if(!ed(e,a)&&(n.flags&128)===0)return Le=!1,JA(e,n,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(n.flags&1048576)!==0&&ng(n,Zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Jr(n.elementType),n.type=e,typeof e=="function")af(e)?(o=ea(e,o),n.tag=1,n=vy(null,n,e,o,a)):(n.tag=0,n=Yf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===vt){n.tag=11,n=fy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=dy(null,n,e,o,a);break t}}throw n=le(e)||e,Error(r(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ea(o,n.pendingProps),vy(e,n,o,h,a);case 3:t:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Tf(e,n),al(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Us(n,ke,o),o!==f.cache&&pf(n,[ke],a,!0),rl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ey(e,n,o,a);break t}else if(o!==h){h=Hn(Error(r(424)),n),Wo(h),n=Ey(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=Yn(e.firstChild),Ze=n,qt=!0,Vs=null,Qn=!0,a=pg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){n=es(e,n,a);break t}tn(e,n,o,a)}n=n.child}return n;case 26:return lc(e,n),e===null?(a=k_(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,o=wc(St.current).createElement(a),o[Oe]=n,o[Qe]=e,en(o,a,e),Me(o),n.stateNode=o):n.memoizedState=k_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&qt&&(o=n.stateNode=O_(n.type,n.pendingProps,St.current),Ze=n,Qn=!0,h=de,Xs(n.type)?(Vd=h,de=Yn(o.firstChild)):de=h),tn(e,n,n.pendingProps.children,a),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=de)&&(o=Ib(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Ze=n,de=Yn(o.firstChild),Qn=!1,h=!0):h=!1),h||ks(n)),Hi(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Nd(h,f)?o=null:y!==null&&Nd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(e,n,qA,null,null,a),Rl._currentValue=h),lc(e,n),tn(e,n,o,a),n.child;case 6:return e===null&&qt&&((e=a=de)&&(a=Cb(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,Ze=n,de=null,e=!0):e=!1),e||ks(n)),null;case 13:return Ty(e,n,a);case 4:return we(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Wr(n,null,o,a):tn(e,n,o,a),n.child;case 11:return fy(e,n,n.type,n.pendingProps,a);case 7:return tn(e,n,n.pendingProps,a),n.child;case 8:return tn(e,n,n.pendingProps.children,a),n.child;case 12:return tn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),tn(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Xr(n),h=We(h),o=o(h),n.flags|=1,tn(e,n,o,a),n.child;case 14:return dy(e,n,n.type,n.pendingProps,a);case 15:return my(e,n,n.type,n.pendingProps,a);case 19:return by(e,n,a);case 31:return $A(e,n,a);case 22:return py(e,n,a,n.pendingProps);case 24:return Xr(n),o=We(ke),e===null?(h=_f(),h===null&&(h=oe,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Ef(n),Us(n,ke,h)):((e.lanes&a)!==0&&(Tf(e,n),al(n,null,null,a),rl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,ke,o)):(o=f.cache,Us(n,ke,o),o!==h.cache&&pf(n,[ke],a,!0))),tn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ns(e){e.flags|=4}function nd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw Zr=Ku,vf}else e.flags&=-16777217}function wy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!j_(n))if(Jy())e.flags|=8192;else throw Zr=Ku,vf}function cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?gu():536870912,e.lanes|=n,Xa|=n)}function fl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function ZA(e,n,a){var o=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(ke),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ua(n)?ns(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ns(n),f!==null?(me(n),wy(n,f)):(me(n),nd(n,h,null,o,a))):f?f!==e.memoizedState?(ns(n),me(n),wy(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ns(n),me(n),nd(n,h,e,o,a)),null;case 27:if(vs(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}e=at.current,Ua(n)?sg(n):(e=O_(h,o,a),n.stateNode=e,ns(n))}return me(n),null;case 5:if(vs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return me(n),null}if(f=at.current,Ua(n))sg(n);else{var y=wc(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Oe]=n,f[Qe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ns(n)}}return me(n),nd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ns(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,Ua(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T_(e.nodeValue,a)),e||ks(n,!0)}else e=wc(e).createTextNode(o),e[Oe]=n,n.stateNode=e}return me(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ua(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Oe]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else a=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ua(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Oe]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),cc(n,n.updateQueue),me(n),null);case 4:return ue(),e===null&&Sd(n.stateNode.containerInfo),me(n),null;case 10:return Zi(n.type),me(n),null;case 19:if(X(Ie),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ju(e),f!==null){for(n.flags|=128,fl(o,!1),e=f.updateQueue,n.updateQueue=e,cc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Wp(a,e),a=a.sibling;return it(Ie,Ie.current&1|2),qt&&$i(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ft()>pc&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,cc(n,e),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return me(n),null}else 2*Ft()-o.renderingStartTime>pc&&a!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ft(),e.sibling=null,a=Ie.current,it(Ie,h?a&1|2:a&1),qt&&$i(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return On(n),wf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),a=n.updateQueue,a!==null&&cc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&X($r),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(ke),me(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function WA(e,n){switch(cf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(ke),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(On(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Ie),null;case 4:return ue(),null;case 10:return Zi(n.type),null;case 22:case 23:return On(n),wf(),e!==null&&X($r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(ke),null;case 25:return null;default:return null}}function Ry(e,n){switch(cf(n),n.tag){case 3:Zi(ke),ue();break;case 26:case 27:case 5:vs(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:X(Ie);break;case 10:Zi(n.type);break;case 22:case 23:On(n),wf(),e!==null&&X($r);break;case 24:Zi(ke)}}function dl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){te(n,n.return,E)}}function qs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(G){te(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){te(n,n.return,G)}}function Iy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{yg(n,a)}catch(o){te(e,e.return,o)}}}function Cy(e,n,a){a.props=ea(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,n,o)}}function ml(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,n,h)}}function Mi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,n,h)}else a.current=null}function Ny(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function id(e,n,a){try{var o=e.stateNode;Tb(o,e.type,a,n),o[Qe]=n}catch(h){te(e,e.return,h)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,a),e=e.sibling;e!==null;)rd(e,n,a),e=e.sibling}function hc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hc(e,n,a),e=e.sibling;e!==null;)hc(e,n,a),e=e.sibling}function xy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,a),n[Oe]=e,n[Qe]=a}catch(f){te(e,e.return,f)}}var is=!1,Pe=!1,ad=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function tb(e,n){if(e=e.containerInfo,Id=Oc,e=Fp(e),Zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,G=0,$=e,j=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(R=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++G===o&&(R=y),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:e,selectionRange:a},Oc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=ea(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){te(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function My(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:rs(e,a),o&4&&dl(5,a);break;case 1:if(rs(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){te(a,a.return,y)}else{var h=ea(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){te(a,a.return,y)}}o&64&&Iy(a),o&512&&ml(a,a.return);break;case 3:if(rs(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(e,n)}catch(y){te(a,a.return,y)}}break;case 27:n===null&&o&4&&xy(a);case 26:case 5:rs(e,a),n===null&&o&4&&Ny(a),o&512&&ml(a,a.return);break;case 12:rs(e,a);break;case 31:rs(e,a),o&4&&Uy(e,a);break;case 13:rs(e,a),o&4&&Ly(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ub.bind(null,a),Nb(e,a))));break;case 22:if(o=a.memoizedState!==null||is,!o){n=n!==null&&n.memoizedState!==null||Pe,h=is;var f=Pe;is=o,(Pe=n)&&!f?as(e,a,(a.subtreeFlags&8772)!==0):rs(e,a),is=h,Pe=f}break;case 30:break;default:rs(e,a)}}function Vy(e){var n=e.alternate;n!==null&&(e.alternate=null,Vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&va(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,_n=!1;function ss(e,n,a){for(a=a.child;a!==null;)ky(e,n,a),a=a.sibling}function ky(e,n,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 26:Pe||Mi(a,n),ss(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Mi(a,n);var o=Ee,h=_n;Xs(a.type)&&(Ee=a.stateNode,_n=!1),ss(e,n,a),bl(a.stateNode),Ee=o,_n=h;break;case 5:Pe||Mi(a,n);case 6:if(o=Ee,h=_n,Ee=null,ss(e,n,a),Ee=o,_n=h,Ee!==null)if(_n)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{Ee.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:Ee!==null&&(_n?(e=Ee,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),io(e)):I_(Ee,a.stateNode));break;case 4:o=Ee,h=_n,Ee=a.stateNode.containerInfo,_n=!0,ss(e,n,a),Ee=o,_n=h;break;case 0:case 11:case 14:case 15:qs(2,a,n),Pe||qs(4,a,n),ss(e,n,a);break;case 1:Pe||(Mi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,n,o)),ss(e,n,a);break;case 21:ss(e,n,a);break;case 22:Pe=(o=Pe)||a.memoizedState!==null,ss(e,n,a),Pe=o;break;default:ss(e,n,a)}}function Uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(a){te(n,n.return,a)}}}function Ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(a){te(n,n.return,a)}}function eb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Oy),n;default:throw Error(r(435,e.tag))}}function fc(e,n){var a=eb(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=cb.bind(null,e,o);o.then(h,h)}})}function vn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){Ee=E.stateNode,_n=!1;break t}break;case 5:Ee=E.stateNode,_n=!1;break t;case 3:case 4:Ee=E.stateNode.containerInfo,_n=!0;break t}E=E.return}if(Ee===null)throw Error(r(160));ky(f,y,h),Ee=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Py(n,e),n=n.sibling}var li=null;function Py(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(n,e),En(e),o&4&&(qs(3,e,e.return),dl(3,e),qs(5,e,e.return));break;case 1:vn(n,e),En(e),o&512&&(Pe||a===null||Mi(a,a.return)),o&64&&is&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=li;if(vn(n,e),En(e),o&512&&(Pe||a===null||Mi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,a),f[Oe]=e,Me(f),o=f;break t;case"link":var y=P_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;case"meta":if(y=P_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Oe]=e,Me(f),o=f}e.stateNode=o}else z_(h,e.type,e.stateNode);else e.stateNode=L_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z_(h,e.type,e.stateNode):L_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&id(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(n,e),En(e),o&512&&(Pe||a===null||Mi(a,a.return)),a!==null&&o&4&&id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(n,e),En(e),o&512&&(Pe||a===null||Mi(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,id(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(vn(n,e),En(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(Cc=null,h=li,li=Rc(n.containerInfo),vn(n,e),li=h,En(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(lt){te(e,e.return,lt)}ad&&(ad=!1,zy(e));break;case 4:o=li,li=Rc(e.stateNode.containerInfo),vn(n,e),En(e),li=o;break;case 12:vn(n,e),En(e);break;case 31:vn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:vn(n,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=Ft()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=is,G=Pe;if(is=z||h,Pe=G||R,vn(n,e),Pe=G,is=z,En(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||is||Pe||na(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){te(R,R.return,lt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){te(R,R.return,lt)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?C_(q,!0):C_(R.stateNode,!1)}catch(lt){te(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fc(e,a))));break;case 19:vn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:vn(n,e),En(e)}}function En(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=sd(e);hc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(yn(y,""),a.flags&=-33);var E=sd(e);hc(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=sd(e);rd(e,z,R);break;default:throw Error(r(161))}}catch(G){te(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(e,n.alternate,n),n=n.sibling}function na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),na(n);break;case 1:Mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Cy(n,n.return,a),na(n);break;case 27:bl(n.stateNode);case 26:case 5:Mi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}e=e.sibling}}function as(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,a),dl(4,f);break;case 1:if(as(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],E)}catch(z){te(o,o.return,z)}}a&&y&64&&Iy(f),ml(f,f.return);break;case 27:xy(f);case 26:case 5:as(h,f,a),a&&o===null&&y&4&&Ny(f),ml(f,f.return);break;case 12:as(h,f,a);break;case 31:as(h,f,a),a&&y&4&&Uy(h,f);break;case 13:as(h,f,a),a&&y&4&&Ly(h,f);break;case 22:f.memoizedState===null&&as(h,f,a),ml(f,f.return);break;case 30:break;default:as(h,f,a)}n=n.sibling}}function od(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function ld(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e))}function ui(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(e,n,a,o),n=n.sibling}function jy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,a,o),h&2048&&dl(9,n);break;case 1:ui(e,n,a,o);break;case 3:ui(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){ui(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else ui(e,n,a,o);break;case 31:ui(e,n,a,o);break;case 13:ui(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,a,o):pl(e,n):f._visibility&2?ui(e,n,a,o):(f._visibility|=2,Qa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&od(y,n);break;case 24:ui(e,n,a,o),h&2048&&ld(n.alternate,n);break;default:ui(e,n,a,o)}}function Qa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(f,y,E,R,h),dl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Qa(f,y,E,R,h):pl(f,y):(G._visibility|=2,Qa(f,y,E,R,h)),h&&z&2048&&od(y.alternate,y);break;case 24:Qa(f,y,E,R,h),h&&z&2048&&ld(y.alternate,y);break;default:Qa(f,y,E,R,h)}n=n.sibling}}function pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:pl(a,o),h&2048&&od(o.alternate,o);break;case 24:pl(a,o),h&2048&&ld(o.alternate,o);break;default:pl(a,o)}n=n.sibling}}var gl=8192;function Ka(e,n,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)By(e,n,a),e=e.sibling}function By(e,n,a){switch(e.tag){case 26:Ka(e,n,a),e.flags&gl&&e.memoizedState!==null&&Bb(a,li,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,n,a);break;case 3:case 4:var o=li;li=Rc(e.stateNode.containerInfo),Ka(e,n,a),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ka(e,n,a),gl=o):Ka(e,n,a));break;default:Ka(e,n,a)}}function qy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ye=o,Fy(o,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&qs(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dc(e)):yl(e);break;default:yl(e)}}function dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ye=o,Fy(o,e)}qy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),dc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function Fy(e,n){for(;Ye!==null;){var a=Ye;switch(a.tag){case 0:case 11:case 15:qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ye=o;else t:for(a=e;Ye!==null;){o=Ye;var h=o.sibling,f=o.return;if(Vy(o),o===a){Ye=null;break t}if(h!==null){h.return=f,Ye=h;break t}Ye=f}}}var nb={getCacheForType:function(e){var n=We(ke),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return We(ke).controller.signal}},ib=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oe=null,Vt=null,Lt=0,Wt=0,Mn=null,Hs=!1,Ya=!1,ud=!1,os=0,be=0,Fs=0,ia=0,cd=0,Vn=0,Xa=0,_l=null,Tn=null,hd=!1,mc=0,Gy=0,pc=1/0,gc=null,Gs=null,Fe=0,Qs=null,$a=null,ls=0,fd=0,dd=null,Qy=null,vl=0,md=null;function kn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?Ed():yu()}function Ky(){if(Vn===0)if((Lt&536870912)===0||qt){var e=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),Vn=e}else Vn=536870912;return e=xn.current,e!==null&&(e.flags|=32),Vn}function An(e,n,a){(e===oe&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Ks(e,Lt,Vn,!1)),xr(e,a),((Xt&2)===0||e!==oe)&&(e===oe&&((Xt&2)===0&&(ia|=a),be===4&&Ks(e,Lt,Vn,!1)),Vi(e))}function Yy(e,n,a){if((Xt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?ab(e,n):gd(e,n,!0),f=o;do{if(h===0){Ya&&!o&&Ks(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!sb(a)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=_l;var R=E.current.memoizedState.isDehydrated;if(R&&(Ja(E,y).flags|=256),y=gd(E,y,!1),y!==2){if(ud&&!R){E.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break t}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ja(e,0),Ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Vn,!Hs);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=mc+300-Ft(),10<h)){if(Ks(o,n,Vn,!Hs),gi(o,0,!0)!==0)break t;ls=n,o.timeoutHandle=w_(Xy.bind(null,o,a,Tn,gc,hd,n,Vn,ia,Xa,Hs,f,"Throttled",-0,0),h);break t}Xy(o,a,Tn,gc,hd,n,Vn,ia,Xa,Hs,f,null,-0,0)}}break}while(!0);Vi(e)}function Xy(e,n,a,o,h,f,y,E,R,z,G,$,j,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},By(n,f,$);var lt=(f&62914560)===f?mc-Ft():(f&4194048)===f?Gy-Ft():0;if(lt=qb($,lt),lt!==null){ls=f,e.cancelPendingCommit=lt(i_.bind(null,e,n,f,a,o,h,y,E,R,G,$,null,j,q)),Ks(e,f,y,!z);return}}i_(e,n,f,a,o,h,y,E,R)}function sb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,a,o){n&=~cd,n&=~ia,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Or(e,a,n)}function yc(){return(Xt&6)===0?(El(0),!1):!0}function pd(){if(Vt!==null){if(Wt===0)var e=Vt.return;else e=Vt,Ji=Yr=null,xf(e),Ba=null,nl=0,e=Vt;for(;e!==null;)Ry(e.alternate,e),e=e.return;Vt=null}}function Ja(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ls=0,pd(),oe=e,Vt=a=Xi(e.current,null),Lt=n,Wt=0,Mn=null,Hs=!1,Ya=Wn(e,n),ud=!1,Xa=Vn=cd=ia=Fs=be=0,Tn=_l=null,hd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return os=n,Pu(),a}function $y(e,n){Ct=null,F.H=cl,n===ja||n===Qu?(n=fg(),Wt=3):n===vf?(n=fg(),Wt=4):Wt=n===Kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Vt===null&&(be=1,ac(e,Hn(n,e.current)))}function Jy(){var e=xn.current;return e===null?!0:(Lt&4194048)===Lt?Kn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Kn:!1}function Zy(){var e=F.H;return F.H=cl,e===null?cl:e}function Wy(){var e=F.A;return F.A=nb,e}function _c(){be=4,Hs||(Lt&4194048)!==Lt&&xn.current!==null||(Ya=!0),(Fs&134217727)===0&&(ia&134217727)===0||oe===null||Ks(oe,Lt,Vn,!1)}function gd(e,n,a){var o=Xt;Xt|=2;var h=Zy(),f=Wy();(oe!==e||Lt!==n)&&(gc=null,Ja(e,n)),n=!1;var y=be;t:do try{if(Wt!==0&&Vt!==null){var E=Vt,R=Mn;switch(Wt){case 8:pd(),y=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var z=Wt;if(Wt=0,Mn=null,Za(e,E,R,z),a&&Ya){y=0;break t}break;default:z=Wt,Wt=0,Mn=null,Za(e,E,R,z)}}rb(),y=be;break}catch(G){$y(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ji=Yr=null,Xt=o,F.H=h,F.A=f,Vt===null&&(oe=null,Lt=0,Pu()),y}function rb(){for(;Vt!==null;)t_(Vt)}function ab(e,n){var a=Xt;Xt|=2;var o=Zy(),h=Wy();oe!==e||Lt!==n?(gc=null,pc=Ft()+500,Ja(e,n)):Ya=Wn(e,n);t:do try{if(Wt!==0&&Vt!==null){n=Vt;var f=Mn;e:switch(Wt){case 1:Wt=0,Mn=null,Za(e,n,f,1);break;case 2:case 9:if(cg(f)){Wt=0,Mn=null,e_(n);break}n=function(){Wt!==2&&Wt!==9||oe!==e||(Wt=7),Vi(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:cg(f)?(Wt=0,Mn=null,e_(n)):(Wt=0,Mn=null,Za(e,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(y?j_(y):E.stateNode.complete){Wt=0,Mn=null;var R=E.sibling;if(R!==null)Vt=R;else{var z=E.return;z!==null?(Vt=z,vc(z)):Vt=null}break e}}Wt=0,Mn=null,Za(e,n,f,5);break;case 6:Wt=0,Mn=null,Za(e,n,f,6);break;case 8:pd(),be=6;break t;default:throw Error(r(462))}}ob();break}catch(G){$y(e,G)}while(!0);return Ji=Yr=null,F.H=o,F.A=h,Xt=a,Vt!==null?0:(oe=null,Lt=0,Pu(),be)}function ob(){for(;Vt!==null&&!wt();)t_(Vt)}function t_(e){var n=Sy(e.alternate,e,os);e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function e_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:xf(n);default:Ry(a,n),n=Vt=Wp(n,os),n=Sy(a,n,os)}e.memoizedProps=e.pendingProps,n===null?vc(e):Vt=n}function Za(e,n,a,o){Ji=Yr=null,xf(n),Ba=null,nl=0;var h=n.return;try{if(XA(e,h,n,a,Lt)){be=1,ac(e,Hn(a,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;be=1,ac(e,Hn(a,e.current)),Vt=null;return}n.flags&32768?(qt||o===1?e=!0:Ya||(Lt&536870912)!==0?e=!1:(Hs=e=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),n_(n,e)):vc(n)}function vc(e){var n=e;do{if((n.flags&32768)!==0){n_(n,Hs);return}e=n.return;var a=ZA(n.alternate,n,os);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);be===0&&(be=5)}function n_(e,n){do{var a=WA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);be=6,Vt=null}function i_(e,n,a,o,h,f,y,E,R){e.cancelPendingCommit=null;do Ec();while(Fe!==0);if((Xt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=sf,Yh(e,a,f,y,E,R),e===oe&&(Vt=oe=null,Lt=0),$a=n,Qs=e,ls=a,fd=f,dd=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hb(De,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,y=Xt,Xt|=4;try{tb(e,n,a)}finally{Xt=y,nt.p=h,F.T=o}}Fe=1,s_(),r_(),a_()}}function s_(){if(Fe===1){Fe=0;var e=Qs,n=$a,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{Py(n,e);var f=Cd,y=Fp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(R!==null&&Zh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),re=R.end===void 0?mt:Math.min(R.end,lt);!q.extend&&mt>re&&(y=re,re=mt,mt=y);var k=qp(E,mt),D=qp(E,re);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>re?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Oc=!!Id,Cd=Id=null}finally{Xt=h,nt.p=o,F.T=a}}e.current=n,Fe=2}}function r_(){if(Fe===2){Fe=0;var e=Qs,n=$a,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Xt;Xt|=4;try{My(e,n.alternate,n)}finally{Xt=h,nt.p=o,F.T=a}}Fe=3}}function a_(){if(Fe===4||Fe===3){Fe=0,$t();var e=Qs,n=$a,a=ls,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,$a=Qs=null,o_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gs=null),Gi(a),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(ls&3)!==0&&Ec(),Vi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===md?vl++:(vl=0,md=e):vl=0,El(0)}}function o_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tl(n)))}function Ec(){return s_(),r_(),a_(),l_()}function l_(){if(Fe!==5)return!1;var e=Qs,n=fd;fd=0;var a=Gi(ls),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=dd,dd=null;var f=Qs,y=ls;if(Fe=0,$a=Qs=null,ls=0,(Xt&6)!==0)throw Error(r(331));var E=Xt;if(Xt|=4,Hy(f.current),jy(f,f.current,y,a),Xt=E,El(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot($e,f)}catch{}return!0}finally{nt.p=h,F.T=o,o_(e,n)}}function u_(e,n,a){n=Hn(a,n),n=Qf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(xr(e,2),Vi(e))}function te(e,n,a){if(e.tag===3)u_(e,e,a);else for(;n!==null;){if(n.tag===3){u_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){e=Hn(a,e),a=cy(2),o=zs(n,a,2),o!==null&&(hy(a,o,n,e),xr(o,2),Vi(o));break}}n=n.return}}function yd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ib;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),e=lb.bind(null,e,n,a),n.then(e,e))}function lb(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(Lt&a)===a&&(be===4||be===3&&(Lt&62914560)===Lt&&300>Ft()-mc?(Xt&2)===0&&Ja(e,0):cd|=a,Xa===Lt&&(Xa=0)),Vi(e)}function c_(e,n){n===0&&(n=gu()),e=Gr(e,n),e!==null&&(xr(e,n),Vi(e))}function ub(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),c_(e,a)}function cb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),c_(e,a)}function hb(e,n){return H(e,n)}var Tc=null,Wa=null,_d=!1,Ac=!1,vd=!1,Ys=0;function Vi(e){e!==Wa&&e.next===null&&(Wa===null?Tc=Wa=e:Wa=Wa.next=e),Ac=!0,_d||(_d=!0,db())}function El(e,n){if(!vd&&Ac){vd=!0;do for(var a=!1,o=Tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m_(o,f))}else f=Lt,f=gi(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(a=!0,m_(o,f));o=o.next}while(a);vd=!1}}function fb(){h_()}function h_(){Ac=_d=!1;var e=0;Ys!==0&&bb()&&(e=Ys);for(var n=Ft(),a=null,o=Tc;o!==null;){var h=o.next,f=f_(o,n);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(Wa=a)):(a=o,(e!==0||(f&3)!==0)&&(Ac=!0)),o=h}Fe!==0&&Fe!==5||El(e),Ys!==0&&(Ys=0)}function f_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-_e(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=oe,a=Lt,a=gi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&tt(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&tt(o),Gi(a)){case 2:case 8:a=ce;break;case 32:a=De;break;case 268435456:a=Cr;break;default:a=De}return o=d_.bind(null,e),a=H(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&tt(o),e.callbackPriority=2,e.callbackNode=null,2}function d_(e,n){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ec()&&e.callbackNode!==a)return null;var o=Lt;return o=gi(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Yy(e,o,n),f_(e,Ft()),e.callbackNode!=null&&e.callbackNode===a?d_.bind(null,e):null)}function m_(e,n){if(Ec())return null;Yy(e,n,!0)}function db(){wb(function(){(Xt&6)!==0?H(Rt,fb):h_()})}function Ed(){if(Ys===0){var e=Pa;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Ys=e}return Ys}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function g_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function mb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=p_((h[Qe]||null).action),y=o.submitter;y&&(n=(n=y[Qe]||null)?p_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ii("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var R=y?g_(h,y):new FormData(h);jf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?g_(h,y):new FormData(h),jf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Td=0;Td<nf.length;Td++){var Ad=nf[Td],pb=Ad.toLowerCase(),gb=Ad[0].toUpperCase()+Ad.slice(1);oi(pb,"on"+gb)}oi(Kp,"onAnimationEnd"),oi(Yp,"onAnimationIteration"),oi(Xp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(OA,"onTransitionRun"),oi(MA,"onTransitionStart"),oi(VA,"onTransitionCancel"),oi($p,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function y_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Lu(G)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Lu(G)}h.currentTarget=null,f=R}}}}function kt(e,n){var a=n[_a];a===void 0&&(a=n[_a]=new Set);var o=e+"__bubble";a.has(o)||(__(n,e,2,!1),a.add(o))}function bd(e,n,a){var o=0;n&&(o|=4),__(a,e,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[bc]){e[bc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(yb.has(a)||bd(a,!1,e),bd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bc]||(n[bc]=!0,bd("selectionchange",!1,n))}}function __(e,n,a,o){switch(K_(n)){case 2:var h=Gb;break;case 8:h=Qb;break;default:h=zd}a=h.bind(null,n,a,e),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function wd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Ns(function(){var z=f,G=zn(a),$=[];t:{var j=Jp.get(e);if(j!==void 0){var q=Ii,lt=e;switch(e){case"keypress":if(zr(a)===0)break t;case"keydown":case"keyup":q=Vu;break;case"focusin":lt="focus",q=Br;break;case"focusout":lt="blur",q=Br;break;case"beforeblur":case"afterblur":q=Br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Kp:case Yp:case Xp:q=Iu;break;case $p:q=T;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=It}var mt=(n&4)!==0,re=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ii(D,k),K!=null&&mt.push(Al(D,K,P))),re)break;D=D.return}0<mt.length&&(j=new q(j,lt,null,a,G),$.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==qo&&(lt=a.relatedTarget||a.fromElement)&&(Ei(lt)||lt[_i]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=a.relatedTarget||a.toElement,q=z,lt=lt?Ei(lt):null,lt!==null&&(re=c(lt),mt=lt.tag,lt!==re||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(mt=Qo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Yi,K="onPointerLeave",k="onPointerEnter",D="pointer"),re=q==null?j:In(q),P=lt==null?j:In(lt),j=new mt(K,D+"leave",q,a,G),j.target=re,j.relatedTarget=P,K=null,Ei(G)===z&&(mt=new mt(k,D+"enter",lt,a,G),mt.target=P,mt.relatedTarget=re,K=mt),re=K,q&&lt)e:{for(mt=_b,k=q,D=lt,P=0,K=k;K;K=mt(K))P++;K=0;for(var ht=D;ht;ht=mt(ht))K++;for(;0<P-K;)k=mt(k),P--;for(;0<K-P;)D=mt(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;q!==null&&v_($,j,q,mt,!1),lt!==null&&re!==null&&v_($,re,lt,mt,!0)}}t:{if(j=z?In(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=Up;else if(Vp(j))if(Lp)Gt=NA;else{Gt=IA;var ut=RA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Aa(z.elementType)&&(Gt=Up):Gt=CA;if(Gt&&(Gt=Gt(e,z))){kp($,Gt,a,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&zo(j,"number",j.value)}switch(ut=z?In(z):window,e){case"focusin":(Vp(ut)||ut.contentEditable==="true")&&(Da=ut,Wh=z,Jo=null);break;case"focusout":Jo=Wh=Da=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Gp($,a,G);break;case"selectionchange":if(xA)break;case"keydown":case"keyup":Gp($,a,G)}var Nt;if(Yt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Na?qr(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Di&&a.locale!=="ko"&&(Na||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Na&&(Nt=Fo()):(Ri=G,Ho="value"in Ri?Ri.value:Ri.textContent,Na=!0)),ut=Sc(z,Pt),0<ut.length&&(Pt=new Ni(Pt,e,null,a,G),$.push({event:Pt,listeners:ut}),Nt?Pt.data=Nt:(Nt=Ca(a),Nt!==null&&(Pt.data=Nt)))),(Nt=Bn?AA(e,a):bA(e,a))&&(Pt=Sc(z,"onBeforeInput"),0<Pt.length&&(ut=new Ni("onBeforeInput","beforeinput",null,a,G),$.push({event:ut,listeners:Pt}),ut.data=Nt)),mb($,e,z,a,G)}y_($,n)})}function Al(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Sc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,a),h!=null&&o.unshift(Al(e,h,f)),h=ii(e,n),h!=null&&o.push(Al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _b(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ii(a,f),z!=null&&y.unshift(Al(a,z,R))):h||(z=ii(a,f),z!=null&&y.push(Al(a,z,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var vb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(Eb,"")}function T_(e,n){return n=E_(n),E_(e)===n}function se(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":Cn(e,"class",o);break;case"tabIndex":Cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(e,a,o);break;case"style":Bo(e,o,f);break;case"data":if(n!=="object"){Cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ba(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ba(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ba(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),Ea(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Ea(e,a,o))}}function Rd(e,n,a,o,h,f){switch(a){case"style":Bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Qe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ea(e,a,o)}}}function en(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,f,y,a,null)}}h&&se(e,n,"srcSet",a.srcSet,a,null),o&&se(e,n,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:se(e,n,o,G,a,null)}}Tu(e,f,E,R,z,y,h,!1);return;case"select":kt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:se(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):a!=null&&ws(e,!!o,a,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:se(e,n,y,E,a,null)}Rs(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,R,o,a,null));return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<Tl.length;o++)kt(Tl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:se(e,n,z,o,a,null)}return;default:if(Aa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Rd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&se(e,n,E,o,a,null))}function Tb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,G=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(q)||se(e,n,q,null,o,$)}}for(var j in o){var q=o[j];if($=a[j],o.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==$&&se(e,n,j,q,o,$)}}Ta(e,y,E,R,z,G,f,h);return;case"select":q=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||se(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&se(e,n,h,f,o,R)}n=E,a=y,o=q,j!=null?ws(e,!!a,j,!1):!!o!=!!a&&(n!=null?ws(e,!!a,n,!0):ws(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&se(e,n,y,h,o,f)}Au(e,j,q);return;case"option":for(var lt in a)j=a[lt],a.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:se(e,n,lt,null,o,j));for(R in o)j=o[R],q=a[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":se(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&se(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:se(e,n,z,j,o,q)}return;default:if(Aa(n)){for(var re in a)j=a[re],a.hasOwnProperty(re)&&j!==void 0&&!o.hasOwnProperty(re)&&Rd(e,n,re,void 0,o,j);for(G in o)j=o[G],q=a[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||Rd(e,n,G,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&se(e,n,k,null,o,j);for($ in o)j=o[$],q=a[$],!o.hasOwnProperty($)||j===q||j==null&&q==null||se(e,n,$,j,o,q)}function A_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&A_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],z=R.startTime;if(z>E)break;var G=R.transferSize,$=R.initiatorType;G&&A_($)&&(R=R.responseEnd,y+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Cd=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dd=null;function bb(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(Rb)}:w_;function Rb(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function I_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),io(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&bl(e.ownerDocument.body);a=h}while(a);io(n)}function C_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ib(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function Cb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function N_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vd=null;function D_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function x_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function O_(e,n,a){switch(n=wc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function bl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);va(e)}var Xn=new Map,M_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var us=nt.d;nt.d={f:Db,r:xb,D:Ob,C:Mb,L:Vb,m:kb,X:Lb,S:Ub,M:Pb};function Db(){var e=us.f(),n=yc();return e||n}function xb(e){var n=Pn(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):us.r(e)}var to=typeof document>"u"?null:document;function V_(e,n,a){var o=to;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",e),Me(n),o.head.appendChild(n)))}}function Ob(e){us.D(e),V_("dns-prefetch",e,null)}function Mb(e,n){us.C(e,n),V_("preconnect",e,n)}function Vb(e,n,a){us.L(e,n,a);var o=to;if(o&&e&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var f=h;switch(n){case"style":f=eo(e);break;case"script":f=no(e)}Xn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Sl(f))||n==="script"&&o.querySelector(wl(f))||(n=o.createElement("link"),en(n,"link",e),Me(n),o.head.appendChild(n)))}}function kb(e,n){us.m(e,n);var a=to;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(e)}if(!Xn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Xn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(f)))return}o=a.createElement("link"),en(o,"link",e),Me(o),a.head.appendChild(o)}}}function Ub(e,n,a){us.S(e,n,a);var o=to;if(o&&e){var h=Ti(o).hoistableStyles,f=eo(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Xn.get(f))&&kd(e,a);var R=y=o.createElement("link");Me(R),en(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Lb(e,n){us.X(e,n);var a=to;if(a&&e){var o=Ti(a).hoistableScripts,h=no(e),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(e=b({src:e,async:!0},n),(n=Xn.get(h))&&Ud(e,n),f=a.createElement("script"),Me(f),en(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Pb(e,n){us.M(e,n);var a=to;if(a&&e){var o=Ti(a).hoistableScripts,h=no(e),f=o.get(h);f||(f=a.querySelector(wl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&Ud(e,n),f=a.createElement("script"),Me(f),en(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k_(e,n,a,o){var h=(h=St.current)?Rc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=eo(a.href),a=Ti(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var f=Ti(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Sl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Xn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(e,a),f||zb(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(a),a=Ti(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function eo(e){return'href="'+gn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",a),Me(n),e.head.appendChild(n))}function no(e){return'[src="'+gn(e)+'"]'}function wl(e){return"script[async]"+e}function L_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,Me(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Me(o),en(o,"style",h),Ic(o,a.precedence,e),n.instance=o;case"stylesheet":h=eo(a.href);var f=e.querySelector(Sl(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;o=U_(a),(h=Xn.get(h))&&kd(o,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),en(f,"link",o),n.state.loading|=4,Ic(f,a.precedence,e),n.instance=f;case"script":return f=no(a.src),(h=e.querySelector(wl(f)))?(n.instance=h,Me(h),h):(o=a,(h=Xn.get(f))&&(o=b({},a),Ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),en(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,a.precedence,e));return n.instance}function Ic(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cc=null;function P_(e,n,a){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(a,o)}else h=Cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[vi]||f[Oe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function z_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function jb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(o.href),f=n.querySelector(Sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Me(f);return}f=n.ownerDocument||n,o=U_(o),(h=Xn.get(h))&&kd(o,h),f=f.createElement("link"),Me(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),en(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Nc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function qb(e,n){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ld===0&&(Ld=62500*Ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ld?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function xc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,n.forEach(Hb,e),Dc=null,Nc.call(e))}function Hb(e,n){if(!(n.state.loading&4)){var a=Dc.get(e);if(a)var o=a.get(null);else{a=new Map,Dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Rl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function Fb(e,n,a,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function B_(e,n,a,o,h,f,y,E,R,z,G,$){return e=new Fb(e,n,a,y,R,z,G,$,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Ef(f),e}function q_(e){return e?(e=Ma,e):Ma}function H_(e,n,a,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=zs(e,o,n),a!==null&&(An(a,e,n),sl(a,e,n))}function F_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Pd(e,n){F_(e,n),(e=e.alternate)&&F_(e,n)}function G_(e){if(e.tag===13||e.tag===31){var n=Gr(e,67108864);n!==null&&An(n,e,67108864),Pd(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var n=kn();n=Mr(n);var a=Gr(e,n);a!==null&&An(a,e,n),Pd(e,n)}}var Oc=!0;function Gb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,zd(e,n,a,o)}finally{nt.p=f,F.T=h}}function Qb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,zd(e,n,a,o)}finally{nt.p=f,F.T=h}}function zd(e,n,a,o){if(Oc){var h=jd(o);if(h===null)wd(e,n,o,Mc,a),Y_(e,o);else if(Yb(h,e,n,a,o))o.stopPropagation();else if(Y_(e,o),n&4&&-1<Kb.indexOf(e)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=pi(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-_e(y);E.entanglements[1]|=R,y&=~R}Vi(f),(Xt&6)===0&&(pc=Ft()+500,El(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&An(E,f,2),yc(),Pd(f,2)}if(f=jd(o),f===null&&wd(e,n,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else wd(e,n,o,null,a)}}function jd(e){return e=zn(e),Bd(e)}var Mc=null;function Bd(e){if(Mc=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Rt:return 2;case ce:return 8;case De:case Do:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var qd=!1,$s=null,Js=null,Zs=null,Il=new Map,Cl=new Map,Ws=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Nl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&G_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Yb(e,n,a,o,h){switch(n){case"focusin":return $s=Nl($s,e,n,a,o,h),!0;case"dragenter":return Js=Nl(Js,e,n,a,o,h),!0;case"mouseover":return Zs=Nl(Zs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Nl(Il.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Nl(Cl.get(f)||null,e,n,a,o,h)),!0}return!1}function X_(e){var n=Ei(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,ti(e.priority,function(){Q_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,ti(e.priority,function(){Q_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);qo=o,a.target.dispatchEvent(o),qo=null}else return n=Pn(a),n!==null&&G_(n),e.blockedOn=a,!1;n.shift()}return!0}function $_(e,n,a){Vc(e)&&a.delete(n)}function Xb(){qd=!1,$s!==null&&Vc($s)&&($s=null),Js!==null&&Vc(Js)&&(Js=null),Zs!==null&&Vc(Zs)&&(Zs=null),Il.forEach($_),Cl.forEach($_)}function kc(e,n){e.blockedOn===n&&(e.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Xb)))}var Uc=null;function J_(e){Uc!==e&&(Uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Pn(a);f!==null&&(e.splice(n,3),n-=3,jf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(e){function n(R){return kc(R,e)}$s!==null&&kc($s,e),Js!==null&&kc(Js,e),Zs!==null&&kc(Zs,e),Il.forEach(n),Cl.forEach(n);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&Ws.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Qe]||null;if(typeof f=="function")y||J_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qe]||null)E=y.formAction;else if(Bd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),J_(a)}}}function Z_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(e){this._internalRoot=e}Lc.prototype.render=Hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=kn();H_(a,o,e,n,null,null)},Lc.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;H_(e.current,2,null,e,null,null),yc(),n[_i]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=yu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,e),a===0&&X_(e)}};var W_=t.version;if(W_!=="19.2.3")throw Error(r(527,W_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var $b={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{$e=Pc.inject($b),He=Pc}catch{}}return xl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=ay,f=oy,y=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=B_(e,1,!1,null,null,a,o,null,h,f,y,Z_),e[_i]=n.current,Sd(e),new Hd(n)},xl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=ay,y=oy,E=ly,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=B_(e,1,!0,n,a??null,o,h,R,f,y,E,Z_),n.context=q_(null),a=n.current,o=kn(),o=Mr(o),h=Ps(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,xr(n,a),Vi(n),e[_i]=n.current,Sd(e),new Lc(n)},xl.version="19.2.3",xl}var uv;function aS(){if(uv)return Qd.exports;uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Qd.exports=rS(),Qd.exports}var oS=aS();const lS=()=>{};var cv={};const Q0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},uS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,Q=_&63;g||(Q=64,d||(O=64)),r.push(i[A],i[b],i[O],i[Q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Q0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new cS;const O=c<<2|p>>4;if(r.push(O),_!==64){const Q=p<<4&240|_>>2;if(r.push(Q),b!==64){const Z=_<<6&192|b;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(s){const t=Q0(s);return K0.encodeByteArray(t,!0)},sh=function(s){return hS(s).replace(/\./g,"")},Y0=function(s){try{return K0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof cv>"u")return;const s=cv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Y0(s[1]);return t&&JSON.parse(t)},Ah=()=>{try{return lS()||dS()||mS()||pS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},X0=s=>Ah()?.emulatorHosts?.[s],gS=s=>{const t=X0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},$0=()=>Ah()?.config,J0=s=>Ah()?.[`_${s}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z0(s){return(await fetch(s,{credentials:"include"})).ok}function _S(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const jl={};function vS(){const s={prod:[],emulator:[]};for(const t of Object.keys(jl))jl[t]?s.emulator.push(t):s.prod.push(t);return s}function ES(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let hv=!1;function W0(s,t){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||jl[s]===t||jl[s]||hv)return;jl[s]=t;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=vS().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function g(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{hv=!0,d()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=ES(r),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),dt=i("preprendIcon"),Et=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;p(pt),A(W,st);const vt=_();g(Et,dt),pt.append(Et,Z,W,vt),document.body.appendChild(pt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function AS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function IS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const DS="FirebaseError";class ys extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=DS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?xS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,r)}}function xS(s,t){return s.replace(OS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const OS=/\{\$([^}]+)}/g;function MS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function la(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(fv(c)&&fv(d)){if(!la(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function fv(s){return s!==null&&typeof s=="object"}function iu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function kl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function VS(s,t){const i=new kS(s,t);return i.subscribe.bind(i)}class kS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}function Se(s){return s&&s._delegate?s._delegate:s}class ua{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const sa="[DEFAULT]";class LS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new yS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zS(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(s){return s===sa?void 0:s}function zS(s){return s.instantiationMode==="EAGER"}class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new LS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const BS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},qS=zt.INFO,HS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},FS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=HS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const GS=(s,t)=>t.some(i=>s instanceof i);let dv,mv;function QS(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KS(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,pm=new WeakMap,eE=new WeakMap,Jd=new WeakMap,Gm=new WeakMap;function YS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(lr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&tE.set(i,s)}).catch(()=>{}),Gm.set(t,s),t}function XS(s){if(pm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,t)}let gm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return pm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||eE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $S(s){gm=s(gm)}function JS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Zd(this),t,...i);return eE.set(r,t.sort?t.sort():[t]),lr(r)}:KS().includes(s)?function(...t){return s.apply(Zd(this),t),lr(tE.get(this))}:function(...t){return lr(s.apply(Zd(this),t))}}function ZS(s){return typeof s=="function"?JS(s):(s instanceof IDBTransaction&&XS(s),GS(s,QS())?new Proxy(s,gm):s)}function lr(s){if(s instanceof IDBRequest)return YS(s);if(Jd.has(s))return Jd.get(s);const t=ZS(s);return t!==s&&(Jd.set(s,t),Gm.set(t,s)),t}const Zd=s=>Gm.get(s);function WS(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=lr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(lr(d.result),g.oldVersion,g.newVersion,lr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const t1=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],Wd=new Map;function pv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=e1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||t1.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return Wd.set(t,c),c}$S(s=>({...s,get:(t,i,r)=>pv(t,i)||s.get(t,i,r),has:(t,i)=>!!pv(t,i)||s.has(t,i)}));class n1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(i1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function i1(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",gv="0.14.6";const ds=new Fm("@firebase/app"),s1="@firebase/app-compat",r1="@firebase/analytics-compat",a1="@firebase/analytics",o1="@firebase/app-check-compat",l1="@firebase/app-check",u1="@firebase/auth",c1="@firebase/auth-compat",h1="@firebase/database",f1="@firebase/data-connect",d1="@firebase/database-compat",m1="@firebase/functions",p1="@firebase/functions-compat",g1="@firebase/installations",y1="@firebase/installations-compat",_1="@firebase/messaging",v1="@firebase/messaging-compat",E1="@firebase/performance",T1="@firebase/performance-compat",A1="@firebase/remote-config",b1="@firebase/remote-config-compat",S1="@firebase/storage",w1="@firebase/storage-compat",R1="@firebase/firestore",I1="@firebase/ai",C1="@firebase/firestore-compat",N1="firebase",D1="12.6.0";const _m="[DEFAULT]",x1={[ym]:"fire-core",[s1]:"fire-core-compat",[a1]:"fire-analytics",[r1]:"fire-analytics-compat",[l1]:"fire-app-check",[o1]:"fire-app-check-compat",[u1]:"fire-auth",[c1]:"fire-auth-compat",[h1]:"fire-rtdb",[f1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[m1]:"fire-fn",[p1]:"fire-fn-compat",[g1]:"fire-iid",[y1]:"fire-iid-compat",[_1]:"fire-fcm",[v1]:"fire-fcm-compat",[E1]:"fire-perf",[T1]:"fire-perf-compat",[A1]:"fire-rc",[b1]:"fire-rc-compat",[S1]:"fire-gcs",[w1]:"fire-gcs-compat",[R1]:"fire-fst",[C1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};const rh=new Map,O1=new Map,vm=new Map;function yv(s,t){try{s.container.addComponent(t)}catch(i){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function mo(s){const t=s.name;if(vm.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;vm.set(t,s);for(const i of rh.values())yv(i,s);for(const i of O1.values())yv(i,s);return!0}function Qm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function $n(s){return s==null?!1:s.settings!==void 0}const M1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new nu("app","Firebase",M1);class V1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const bo=D1;function nE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:_m,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(i||(i=$0()),!i)throw ur.create("no-options");const c=rh.get(l);if(c){if(la(i,c.options)&&la(r,c.config))return c;throw ur.create("duplicate-app",{appName:l})}const d=new jS(l);for(const g of vm.values())d.addComponent(g);const p=new V1(i,r,d);return rh.set(l,p),p}function iE(s=_m){const t=rh.get(s);if(!t&&s===_m&&$0())return nE();if(!t)throw ur.create("no-app",{appName:s});return t}function cr(s,t,i){let r=x1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}mo(new ua(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const k1="firebase-heartbeat-database",U1=1,Ql="firebase-heartbeat-store";let tm=null;function sE(){return tm||(tm=WS(k1,U1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),tm}async function L1(s){try{const i=(await sE()).transaction(Ql),r=await i.objectStore(Ql).get(rE(s));return await i.done,r}catch(t){if(t instanceof ys)ds.warn(t.message);else{const i=ur.create("idb-get",{originalErrorMessage:t?.message});ds.warn(i.message)}}}async function _v(s,t){try{const r=(await sE()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(t,rE(s)),await r.done}catch(i){if(i instanceof ys)ds.warn(i.message);else{const r=ur.create("idb-set",{originalErrorMessage:i?.message});ds.warn(r.message)}}}function rE(s){return`${s.name}!${s.options.appId}`}const P1=1024,z1=30;class j1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new q1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>z1){const l=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:i,unsentEntries:r}=B1(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function B1(s,t=P1){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Ev(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await L1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ev(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function H1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function F1(s){mo(new ua("platform-logger",t=>new n1(t),"PRIVATE")),mo(new ua("heartbeat",t=>new j1(t),"PRIVATE")),cr(ym,gv,s),cr(ym,gv,"esm2020"),cr("fire-js","")}F1("");var G1="firebase",Q1="12.7.0";cr(G1,Q1,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,aE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==S||(I[N]=U,V=!1)}this.g=I}var p={};function g(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return W(_(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var b=g(0),O=g(1),Q=g(16777216);s=d.prototype,s.m=function(){if(st(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(st(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=vt(I,S).g;I=dt(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function st(C){return C.h==-1}s.l=function(C){return C=dt(this,C),st(C)?-1:Z(C)?0:1};function W(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(O)}s.abs=function(){return st(this)?W(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,S){return C.add(W(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,le=C.i(N)>>>16,fe=C.i(N)&65535;I[2*V+2*N]+=w*fe,Et(I,2*V+2*N),I[2*V+2*N+1]+=U*fe,Et(I,2*V+2*N+1),I[2*V+2*N+1]+=w*le,Et(I,2*V+2*N+1),I[2*V+2*N+2]+=U*le,Et(I,2*V+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Et(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function pt(C,S){this.g=C,this.h=S}function vt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new pt(b,b);if(st(C))return S=vt(W(C),S),new pt(W(S.g),W(S.h));if(st(S))return S=vt(C,W(S)),new pt(W(S.g),S.h);if(C.g.length>30){if(st(C)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=S;V.l(C)<=0;)I=ee(I),V=ee(V);var N=Mt(I,1),U=Mt(V,1);for(V=Mt(V,2),I=Mt(I,2);!Z(V);){var w=U.add(V);w.l(C)<=0&&(N=N.add(I),U=w),V=Mt(V,1),I=Mt(I,1)}return S=dt(C,N.j(S)),new pt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),w=U.j(S);st(w)||w.l(C)>0;)I-=V,U=_(I),w=U.j(S);Z(U)&&(U=O),N=N.add(U),C=dt(C,w)}return new pt(N,C)}s.B=function(C){return vt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ee(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Mt(C,S){const I=S>>5;S%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,hr=d}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,Ul,lE,Yc,Em,uE,cE,hE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return m.prototype[L].apply(T,et)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new st(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Mt=!1,C=new Et,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(le,N),le.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Dt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=St(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),we={};function ue(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,T,L);return null}return v=Fi(v),u&&u[fe]?u.J(m,v,p(T)?!!T.capture:!1,L):Hi(u,m,v,!1,T,L)}function Hi(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let It=Zn(u);if(It||(u[Ut]=It=new at(u)),v=It.add(m,v,T,et,B),v.proxy)return v;if(T=vs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vs(){function u(v){return m.call(u.src,u.listener,v)}const m=Rr;return u}function Es(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Es(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=Fi(v),u&&u[fe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&Ts(v))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ln(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Zn(m))?(_t(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ct(u)}}}function Ln(u){return u in we?we[u]:we[u]="on"+u}function Rr(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ts(u),u=v.call(T,m)}return u}function Zn(u){return u=u[Ut],u instanceof at?u:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function ye(){V.call(this),this.i=new at(this),this.M=this,this.G=null}b(ye,V),ye.prototype[fe]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Es(this,u,m,v,T)};function H(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=tt(B,T,!0,m)&&L;if(B=m.g=u,L=tt(B,T,!0,m)&&L,L=tt(B,T,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=tt(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function tt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const It=et.listener,Re=et.ha||et.src;et.fa&&_t(u.i,et),L=It.call(Re,T)!==!1&&L}}return L&&!T.defaultPrevented}function wt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $t(u){u.g=wt(()=>{u.g=null,u.i&&(u.i=!1,$t(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ft extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(u){V.call(this),this.h=u,this.g={}}b(Kt,V);var Rt=[];function ce(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ts(m)},u),u.g={}}Kt.prototype.N=function(){Kt.Z.N.call(this),ce(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=d.JSON.stringify,Do=d.JSON.parse,Cr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function As(){}function Nr(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){N.call(this,"d")}b(He,N);function pn(){N.call(this,"c")}b(pn,N);var _e={},ya=null;function bs(){return ya=ya||new ye}_e.Ia="serverreachability";function pu(u){N.call(this,_e.Ia,u)}b(pu,N);function mi(u){const m=bs();H(m,new pu(m))}_e.STAT_EVENT="statevent";function Dr(u,m){N.call(this,_e.STAT_EVENT,u),this.stat=m}b(Dr,N);function xe(u){const m=bs();H(m,new Dr(m,u))}_e.Ja="timingevent";function pi(u,m){N.call(this,_e.Ja,u),this.size=m}b(pi,N);function gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Kh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var et="",It=B.split("&");for(let Yt=0;Yt<It.length;Yt++){var Re=It[Yt].split("=");if(Re.length>1){const ve=Re[0];Re=Re[1];const Bn=ve.split("_");et=Bn.length>=2&&Bn[1]=="type"?et+(ve+"="+Re+"&"):et+(ve+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function gu(u,m,v,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function yi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(T?" "+T:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return De(B)}catch{return m}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Mr(){}b(Mr,As),Mr.prototype.g=function(){return new XMLHttpRequest},Oo=new Mr;function Gi(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Kt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function _i(u,m,v){u.M=1,u.A=Vr(Ve(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),vi(u),u.B=Ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ei,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ft(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Rt[0]=L.toString()),L=Rt);for(let B=0;B<L.length;B++){const et=ue(v,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Kh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const It=si(this.g),Re=this.g.ya(),Yt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||It!=4||Re==7||(Re==8||Yt<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Xh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,xe(12),In(this),Pn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<v.length;)if(ve=vu(this,v),ve==Qe){It==4&&(this.m=4,xe(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Oe){this.m=4,xe(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,ve,null),Ti(this,ve);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(et),et.P=!0,xe(11))}}else yi(this.i,this.l,v,null),Ti(this,v);It==4&&In(this),this.o&&!this.K&&(It==4?Cu(this.j,this):(this.o=!1,vi(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),In(this),Pn(this)}}}catch{}};function Xh(u){if(!_u(u))return u.g.la();const m=Je(u.g);if(m==="")return"";let v="";const T=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Qe:(v=Number(m.substring(v,T)),isNaN(v)?Oe:(T+=1,T+v>m.length?Qe:(m=m.slice(T,T+v),u.C=T+v,m)))}ti.prototype.cancel=function(){this.K=!0,In(this)};function vi(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(_(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(mi(),xe(17)),In(this),this.m=2,Pn(this)):va(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Cu(u.j,u)}function In(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ce(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),xs(v);else break t;Br(v),xe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Ia(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ve=Yt[0];if(!(ve<=v.K))if(v.K=ve,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Bn=Yt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Di=Yt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ri=Yt[5];ri!=null&&typeof ri=="number"&&ri>0&&(T=1.5*ri,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ai=u.g;if(ai){const qr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var B=T.h;B.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ko(B,B.h),B.h=null))}if(T.G){const Ca=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(T.wa=Ca,Zt(T.J,T.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=xu(T,T.L?T.ba:null,T.W),et.L){Uo(T.h,et);var It=et,Re=T.O;Re&&(It.H=Re),It.D&&(Ei(It),vi(It)),T.g=et}else Ru(T);v.i.length>0&&Ci(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ni(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ni(v,7):Go(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}mi(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function Mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ko(u,m){u.g?u.g.add(m):u.h=m}function Uo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Po(this,Su(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),Ss(this,m[4]),this.h=Si(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,Ta,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kr(v,v.charAt(0)=="/"?zo:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kr(v,Au)),u.join("")},Cn.prototype.resolve=function(u){const m=Ve(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const It=L[et++];It=="."?T&&et==L.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(It),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Po(m,Su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ve(u){return new Cn(u)}function Ke(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof Rs?(u.i=m,ba(u.i,u.l)):(v||(m=kr(m,ws)),u.i=new Rs(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function Vr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,Tu=/[#\?:]/g,zo=/[#\?]/g,ws=/[#\?@]/g,Au=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function bu(u,m){yn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jo(u,m){return yn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Bo(u,m){yn(u);let v=[];if(typeof m=="string")jo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Is(this,u),jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){bu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Gi(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Gi(v[B])),u.push(et)}}return this.i=u.join("&")};function Su(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(bu(this,T),Aa(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const T=new Image;T.onload=A(zn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(zn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(zn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(zn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function qo(u,m){const v=new Wn,T=new AbortController,L=setTimeout(()=>{T.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Cs(){this.g=new Cr}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(wi,As),wi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ur,ye),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ii(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return xt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Lr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=jn(v),typeof u=="string"?v!=null&&Gi(v):Zt(u,m,v))}function ne(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,ye);var Ri=/^https?$/i,Ho=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Pr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Pr(this,B)}};function Pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),Qi(u)}function Fo(u){u.A||(u.A=!0,H(u,"complete"),H(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,H(this,"complete"),H(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},s.Xa=function(){zr(this)};function zr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(H(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(u.D).match(Eu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Ri.test(et?et.toLowerCase():"")}v=T}if(v)H(u,"complete"),H(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Fo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||H(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Do(m)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=yu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Dt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){xe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=xu(this,null,this.W),Ci(this)};function Go(u){if(wa(u),u.I==3){var m=u.V++,v=Ve(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),jr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=Vr(Ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Du(u)}function xs(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function wa(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),Mt||(ee(),Mt=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=wu(this,L,m),v=Ve(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?m="headers="+Gi(jn(B))+"&"+m:this.u&&Lr(v,this.u,B)),ko(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const T=Ve(u.J);Zt(T,"SID",u.M),Zt(T,"RID",v),Zt(T,"AID",u.K),jr(u,T),u.u&&u.o&&Lr(T,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ko(u.h,v),_i(v,T,m)}function jr(u,m){u.H&&xt(u.H,function(v,T){Zt(m,T,v)}),u.l&&xt({},function(v,T){Zt(m,T,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const Re=["count="+v];It==-1?v>0?(It=L[0].g,Re.push("ofs="+It)):It=0:Re.push("ofs="+It);let Yt=!0;for(let ve=0;ve<v;ve++){var B=L[ve].g;const Bn=L[ve].map;if(B-=It,B<0)It=Math.max(0,L[ve].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var et=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Di,ri]of et){let ai=ri;p(ri)&&(ai=De(ri)),Re.push(B+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Re.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(Bn)}}if(Yt){et=Re.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),Mt||(ee(),Mt=!0),C.add(m,u),u.A=0}}function Br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),xs(this),Iu(this))};function Ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Iu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ve(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vr(Ve(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,xs(this),Br(this),xe(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Cu(u,m){var v=null;if(u.g==m){Ia(u),Ko(u),u.g=null;var T=2}else if(bi(u.h,m))v=m.G,Uo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=bs(),H(T,new pi(T,v)),Ci(u)}else Ru(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ra(u,m)||T==2&&Br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(T,"https"),Vr(T),L?ni(T.toString(),v):qo(T.toString(),v)}else xe(2);u.I=0,u.l&&u.l.pa(m),Du(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,v){var T=v instanceof Cn?Ve(v):new Cn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ss(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Cn(null);T&&Ke(B,T),m&&(B.g=m),L&&Ss(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Zt(T,v,m),Zt(T,"VER",u.ka),jr(u,T),T}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new wi({ab:v})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){ye.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}b(dn,ye),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Go(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=De(u),u=v);m.i.push(new Me(m.Ya++,u)),m.I==3&&Ci(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,dn.Z.N.call(this)};function Vu(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Vu,He);function ku(){pn.call(this),this.status=1}b(ku,pn);function Yi(u){this.g=u}b(Yi,Mu),Yi.prototype.ra=function(){H(this.g,"a")},Yi.prototype.qa=function(u){H(this.g,new Vu(u))},Yi.prototype.pa=function(u){H(this.g,new ku)},Yi.prototype.oa=function(){H(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,hE=function(){return new Os},cE=function(){return bs()},uE=_e,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,Yc=Or,xo.COMPLETE="complete",lE=xo,Nr.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Ul=Nr,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,oE=ne}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",bv="4.9.3";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let So="12.7.0";const ca=new Fm("@firebase/firestore");function so(){return ca.logLevel}function ot(s,...t){if(ca.logLevel<=zt.DEBUG){const i=t.map(Km);ca.debug(`Firestore (${So}): ${s}`,...i)}}function ms(s,...t){if(ca.logLevel<=zt.ERROR){const i=t.map(Km);ca.error(`Firestore (${So}): ${s}`,...i)}}function po(s,...t){if(ca.logLevel<=zt.WARN){const i=t.map(Km);ca.warn(`Firestore (${So}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,fE(s,r,i)}function fE(s,t,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ms(r),new Error(r)}function Jt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||fE(t,l,r)}function bt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class dE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class Y1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class X1{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new dE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class $1{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class J1{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new $1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function W1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=W1(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function jt(s,t){return s<t?-1:s>t?1:0}function Tm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return em(l)===em(c)?jt(l,c):em(l)?1:-1}return jt(s.length,t.length)}const tw=55296,ew=57343;function em(s){const t=s.charCodeAt(0);return t>=tw&&t<=ew}function go(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const wv="__name__";class ki{constructor(t,i,r){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&yt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const r=ki.isNumericId(t),l=ki.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):Tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class he extends ki{construct(t,i,r){return new he(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ki{construct(t,i,r){return new sn(t,i,r)}static isValidIdentifier(t){return nw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new sn([wv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(he.fromString(t))}static fromName(t){return new ft(he.fromString(t).popFirst(5))}static empty(){return new ft(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new he(t.slice()))}}function mE(s,t,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function iw(s,t,i,r){if(t===!0&&r===!0)throw new rt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Rv(s){if(!ft.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iv(s){if(ft.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function hi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bh(s);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Be(s,t){const i={typeString:s};return t&&(i.value=t),i}function su(s,t){if(!pE(s))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new rt(Y.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,Nv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Nv);return new ge(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Be("string",ge._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ge(0,0))}static max(){return new Tt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function sw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new ge(i+1,0):new ge(i,r));return new mr(l,ft.empty(),t)}function rw(s){return new mr(s.readTime,s.key,Kl)}class mr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new mr(Tt.min(),ft.empty(),Kl)}static max(){return new mr(Tt.max(),ft.empty(),Kl)}}function aw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function wo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==ow)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new J(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function uw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Xm=-1;function wh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function cw(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const gE="";function hw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Dv(t)),t=fw(s.get(i),t);return Dv(t)}function fw(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function Dv(s){return s+gE+""}function xv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ar(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function yE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Te{constructor(t,i){this.comparator=t,this.root=i||nn.EMPTY}insert(t,i){return new Te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new nn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new nn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ge(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new Un([])}unionWith(t){let i=new Ge(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Un(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(t);return new rn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new rn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(s){if(Jt(!!s,39018),typeof s=="string"){let t=0;const i=dw.exec(s);if(Jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ne(s.seconds),nanos:Ne(s.nanos)}}function Ne(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const vE="server_timestamp",EE="__type__",TE="__previous_value__",AE="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===vE}function Rh(s){const t=s.mapValue.fields[TE];return $m(t)?Rh(t):t}function Yl(s){const t=pr(s.mapValue.fields[AE].timestampValue);return new ge(t.seconds,t.nanos)}class mw{constructor(t,i,r,l,c,d,p,g,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const oh="(default)";class Xl{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}const bE="__type__",pw="__max__",Bc={mapValue:{}},SE="__vector__",lh="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:yw(s)?9007199254740991:gw(s)?10:11:yt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const i=yr(s);if(i!==yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Yl(s).isEqual(Yl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=pr(l.timestampValue),p=pr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ne(l.geoPointValue.latitude)===Ne(c.geoPointValue.latitude)&&Ne(l.geoPointValue.longitude)===Ne(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ne(l.integerValue)===Ne(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ne(l.doubleValue),p=Ne(c.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return go(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(xv(d)!==xv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!qi(d[g],p[g])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function $l(s,t){return(s.values||[]).find((i=>qi(i,t)))!==void 0}function yo(s,t){if(s===t)return 0;const i=yr(s),r=yr(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ne(c.integerValue||c.doubleValue),g=Ne(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return Mv(s.timestampValue,t.timestampValue);case 4:return Mv(Yl(s),Yl(t));case 5:return Tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=gr(c),g=gr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=jt(p[_],g[_]);if(A!==0)return A}return jt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=jt(Ne(c.latitude),Ne(d.latitude));return p!==0?p:jt(Ne(c.longitude),Ne(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[lh]?.arrayValue,A=g[lh]?.arrayValue,b=jt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Vv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Bc.mapValue&&d===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const O=Tm(g[b],A[b]);if(O!==0)return O;const Q=yo(p[g[b]],_[A[b]]);if(Q!==0)return Q}return jt(g.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Mv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=pr(s),r=pr(t),l=jt(i.seconds,r.seconds);return l!==0?l:jt(i.nanos,r.nanos)}function Vv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=yo(i[l],r[l]);if(c)return c}return jt(i.length,r.length)}function _o(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=pr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return gr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Am(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Am(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Xc(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(s);return t?16+Xc(t):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ar(r.fields,((c,d)=>{l+=c.length+Xc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function kv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function bm(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function Uv(s){return!!s&&"nullValue"in s}function Lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function gw(s){return(s?.mapValue?.fields||{})[bE]?.stringValue===SE}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Bl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return t}return{...s}}function yw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pw}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!$c(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(i)}setAll(t){let i=sn.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Ar(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Sn(Bl(this.value))}}function wE(s){const t=[];return Ar(s.fields,((i,r)=>{const l=new sn([i]);if($c(r)){const c=wE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Un(t)}class hn{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new hn(t,0,Tt.min(),Tt.min(),Tt.min(),Sn.empty(),0)}static newFoundDocument(t,i,r,l){return new hn(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new hn(t,2,i,Tt.min(),Tt.min(),Sn.empty(),0)}static newUnknownDocument(t,i){return new hn(t,3,i,Tt.min(),Tt.min(),Sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(t,i){this.position=t,this.inclusive=i}}function Pv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=yo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],t.position[i]))return!1;return!0}class Jl{constructor(t,i="asc"){this.field=t,this.dir=i}}function _w(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class RE{}class je extends RE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Ew(t,i,r):i==="array-contains"?new bw(t,r):i==="in"?new Sw(t,r):i==="not-in"?new ww(t,r):i==="array-contains-any"?new Rw(t,r):new je(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Tw(t,r):new Aw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends RE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new fi(t,i)}matches(t){return IE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(s){return s.op==="and"}function CE(s){return vw(s)&&IE(s)}function vw(s){for(const t of s.filters)if(t instanceof fi)return!1;return!0}function Sm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(CE(s))return s.filters.map((t=>Sm(t))).join(",");{const t=s.filters.map((i=>Sm(i))).join(",");return`${s.op}(${t})`}}function NE(s,t){return s instanceof je?(function(r,l){return l instanceof je&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,t):s instanceof fi?(function(r,l){return l instanceof fi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&NE(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function DE(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${_o(i.value)}`})(s):s instanceof fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(s):"Filter"}class Ew extends je{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class Tw extends je{constructor(t,i){super(t,"in",i),this.keys=xE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Aw extends je{constructor(t,i){super(t,"not-in",i),this.keys=xE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function xE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class bw extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Jm(i)&&$l(i.arrayValue,this.value)}}class Sw extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class ww extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class Rw extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}class Iw{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function jv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new Iw(s,t,i,r,l,c,d)}function Zm(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Sm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),wh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>_o(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>_o(r))).join(",")),t.Te=i}return t.Te}function Wm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_w(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!NE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!zv(s.startAt,t.startAt)&&zv(s.endAt,t.endAt)}function wm(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Io{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cw(s,t,i,r,l,c,d,p){return new Io(s,t,i,r,l,c,d,p)}function tp(s){return new Io(s)}function Bv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function OE(s){return s.collectionGroup!==null}function ql(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ge(sn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jl(c,r))})),i.has(sn.keyField().canonicalString())||t.Ie.push(new Jl(sn.keyField(),r))}return t.Ie}function Ui(s){const t=bt(s);return t.Ee||(t.Ee=Nw(t,ql(s))),t.Ee}function Nw(s,t){if(s.limitType==="F")return jv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jl(l.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return jv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Rm(s,t){const i=s.filters.concat([t]);return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,t,i){return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ih(s,t){return Wm(Ui(s),Ui(t))&&s.limitType===t.limitType}function ME(s){return`${Zm(Ui(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),wh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>_o(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>_o(l))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Ch(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=Pv(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,g){const _=Pv(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,ql(r),l))})(s,t)}function Dw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function VE(s){return(t,i)=>{let r=!1;for(const l of ql(s)){const c=xw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function xw(s,t,i){const r=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?yo(g,_):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class ma{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const Ow=new Te(ft.comparator);function ps(){return Ow}const kE=new Te(ft.comparator);function Ll(...s){let t=kE;for(const i of s)t=t.insert(i.key,i);return t}function UE(s){let t=kE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ra(){return Hl()}function LE(){return Hl()}function Hl(){return new ma((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Mw=new Te(ft.comparator),Vw=new Ge(ft.comparator);function Bt(...s){let t=Vw;for(const i of s)t=t.add(i);return t}const kw=new Ge(jt);function Uw(){return kw}function ep(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function PE(s){return{integerValue:""+s}}function Lw(s,t){return cw(t)?PE(t):ep(s,t)}class Nh{constructor(){this._=void 0}}function Pw(s,t,i){return s instanceof Zl?(function(l,c){const d={fields:{[EE]:{stringValue:vE},[AE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Rh(c)),c&&(d.fields[TE]=c),{mapValue:d}})(i,t):s instanceof Wl?jE(s,t):s instanceof tu?BE(s,t):(function(l,c){const d=zE(l,c),p=qv(d)+qv(l.Ae);return bm(d)&&bm(l.Ae)?PE(p):ep(l.serializer,p)})(s,t)}function zw(s,t,i){return s instanceof Wl?jE(s,t):s instanceof tu?BE(s,t):i}function zE(s,t){return s instanceof ch?(function(r){return bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Zl extends Nh{}class Wl extends Nh{constructor(t){super(),this.elements=t}}function jE(s,t){const i=qE(t);for(const r of s.elements)i.some((l=>qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class tu extends Nh{constructor(t){super(),this.elements=t}}function BE(s,t){let i=qE(t);for(const r of s.elements)i=i.filter((l=>!qi(l,r)));return{arrayValue:{values:i}}}class ch extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function qv(s){return Ne(s.integerValue||s.doubleValue)}function qE(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jw{constructor(t,i){this.field=t,this.transform=i}}function Bw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Wl&&l instanceof Wl||r instanceof tu&&l instanceof tu?go(r.elements,l.elements,qi):r instanceof ch&&l instanceof ch?qi(r.Ae,l.Ae):r instanceof Zl&&l instanceof Zl})(s.transform,t.transform)}class qw{constructor(t,i){this.version=t,this.transformResults=i}}class wn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Dh{}function HE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new xh(s.key,wn.none()):new ru(s.key,s.data,wn.none());{const i=s.data,r=Sn.empty();let l=new Ge(sn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new br(s.key,r,new Un(l.toArray()),wn.none())}}function Hw(s,t,i){s instanceof ru?(function(l,c,d){const p=l.value.clone(),g=Fv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof br?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Fv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(FE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Fl(s,t,i,r){return s instanceof ru?(function(c,d,p,g){if(!Jc(c.precondition,d))return p;const _=c.value.clone(),A=Gv(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof br?(function(c,d,p,g){if(!Jc(c.precondition,d))return p;const _=Gv(c.fieldTransforms,g,d),A=d.data;return A.setAll(FE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Fw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=zE(r.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,c))}return i||null}function Hv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&go(r,l,((c,d)=>Bw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ru extends Dh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Dh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Fv(s,t,i){const r=new Map;Jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,zw(d,p,i[l]))}return r}function Gv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Pw(c,d,t))}return r}class xh extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gw extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Hw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=LE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=HE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,((i,r)=>Hv(i,r)))&&go(this.baseMutations,t.baseMutations,((i,r)=>Hv(i,r)))}}class np{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Jt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Mw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new np(t,i,r,l)}}class Kw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Yw{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Ht;function Xw(s){switch(s){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function GE(s){if(s===void 0)return ms("GRPC error has no .code"),Y.UNKNOWN;switch(s){case ze.OK:return Y.OK;case ze.CANCELLED:return Y.CANCELLED;case ze.UNKNOWN:return Y.UNKNOWN;case ze.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ze.INTERNAL:return Y.INTERNAL;case ze.UNAVAILABLE:return Y.UNAVAILABLE;case ze.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ze.NOT_FOUND:return Y.NOT_FOUND;case ze.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ze.ABORTED:return Y.ABORTED;case ze.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ze.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:s})}}(Ht=ze||(ze={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function $w(){return new TextEncoder}const Jw=new hr([4294967295,4294967295],0);function Qv(s){const t=$w().encode(s),i=new aE;return i.update(t),new Uint8Array(i.digest())}function Kv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new hr([i,r],0),new hr([l,c],0)]}class ip{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=hr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(hr.fromNumber(r)));return l.compare(Jw)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Qv(t),[r,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new ip(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Qv(t),[r,l]=Kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Oh(Tt.min(),l,new Te(jt),ps(),Bt())}}class au{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new au(r,i,Bt(),Bt(),Bt())}}class Zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class QE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Xv(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new au(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Xv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=qc(),this.He=qc(),this.Ye=new Te(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(wm(c))if(r===0){const d=new ft(c.path);this.et(i,d,hn.newNoDocument(d,Tt.min()))}else Jt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=gr(r).toUint8Array()}catch(g){if(g instanceof _E)return po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ip(d,l,c)}catch(g){return po(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&wm(p.target)){const g=new ft(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,hn.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Bt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Oh(t,i,this.Ye,this.je,r);return this.je=ps(),this.Je=qc(),this.He=qc(),this.Ye=new Te(jt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Yv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ge(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ge(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function qc(){return new Te(ft.comparator)}function Xv(){return new Te(ft.comparator)}const Ww={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eR={and:"AND",or:"OR"};class nR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Cm(s,t){return s.useProto3Json||wh(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function iR(s,t){return hh(s,t.toTimestamp())}function Li(s){return Jt(!!s,49232),Tt.fromTimestamp((function(i){const r=pr(i);return new ge(r.seconds,r.nanos)})(s))}function sp(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function XE(s){const t=he.fromString(s);return Jt(tT(t),10190,{key:t.toString()}),t}function Dm(s,t){return sp(s.databaseId,t.path)}function nm(s,t){const i=XE(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(JE(i))}function $E(s,t){return sp(s.databaseId,t)}function sR(s){const t=XE(s);return t.length===4?he.emptyPath():JE(t)}function xm(s){return new he(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function JE(s){return Jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $v(s,t,i){return{name:Dm(s,t),fields:i.value.mapValue.fields}}function rR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Jt(A===void 0||typeof A=="string",58123),rn.fromBase64String(A||"")):(Jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:GE(_.code);return new rt(A,_.message||"")})(d);i=new KE(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=nm(s,r.document.name),c=Li(r.document.updateTime),d=r.document.createTime?Li(r.document.createTime):Tt.min(),p=new Sn({mapValue:{fields:r.document.fields}}),g=hn.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Zc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=nm(s,r.document),c=r.readTime?Li(r.readTime):Tt.min(),d=hn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=nm(s,r.document),c=r.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Yw(l,c),p=r.targetId;i=new QE(p,d)}}return i}function aR(s,t){let i;if(t instanceof ru)i={update:$v(s,t.key,t.value)};else if(t instanceof xh)i={delete:Dm(s,t.key)};else if(t instanceof br)i={update:$v(s,t.key,t.data),updateMask:pR(t.fieldMask)};else{if(!(t instanceof Gw))return yt(16599,{Vt:t.type});i={verify:Dm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:iR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function oR(s,t){return s&&s.length>0?(Jt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(Tt.min())&&(d=Li(c)),new qw(d,l.transformResults||[])})(i,t)))):[]}function lR(s,t){return{documents:[$E(s,t.path)]}}function uR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$E(s,l);const c=(function(_){if(_.length!==0)return WE(fi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:ao(O.field),direction:fR(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Cm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function cR(s){let t=sR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Jt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const O=ZE(b);return O instanceof fi&&CE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(Z){return new Jl(oo(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let O;return O=typeof b=="object"?b.value:b,wh(O)?null:O})(i.limit));let g=null;i.startAt&&(g=(function(b){const O=!!b.before,Q=b.values||[];return new uh(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const O=!b.before,Q=b.values||[];return new uh(Q,O)})(i.endAt)),Cw(t,l,d,c,p,"F",g,_)}function hR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=oo(i.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return fi.create(i.compositeFilter.filters.map((r=>ZE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function fR(s){return Ww[s]}function dR(s){return tR[s]}function mR(s){return eR[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return sn.fromServerFormat(s.fieldPath)}function WE(s){return s instanceof je?(function(i){if(i.op==="=="){if(Lv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(Uv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Lv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(Uv(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:dR(i.op),value:i.value}}})(s):s instanceof fi?(function(i){const r=i.getFilters().map((l=>WE(l)));return r.length===1?r[0]:{compositeFilter:{op:mR(i.op),filters:r}}})(s):yt(54877,{filter:s})}function pR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function tT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),p=rn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gR{constructor(t){this.yt=t}}function yR(s){const t=cR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(t,t.limit,"L"):t}class _R{constructor(){this.Cn=new vR}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(mr.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class vR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ge(he.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ge(he.comparator)).toArray()}}const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(eT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const Zv="LruGarbageCollector",ER=1048576;function Wv([s,t],[i,r]){const l=jt(s,i);return l===0?jt(t,r):l}class TR{constructor(t){this.Ir=t,this.buffer=new Ge(Wv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Wv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?ot(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Vr(3e5)}))}}class bR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(Sh.ce);const r=new TR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Jv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),so()<=zt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function SR(s,t){return new bR(s,t)}class wR{constructor(){this.changes=new ma((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class IR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Fl(r.mutation,l,Un.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const l=ra();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Ll();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ra();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ps();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((g,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof br)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),ge.now())):d.set(_.key,Un.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new RR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Hl();let l=new Te(((d,p)=>d-p)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=r.get(g)||Un.empty();A=p.applyToLocalView(_,A),r.set(g,A);const b=(l.get(p.batchId)||Bt()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,b=LE();A.forEach((O=>{if(!c.has(O)){const Q=HE(i.get(O),r.get(O));Q!==null&&b.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):OE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):J.resolve(ra());let p=Kl,g=c;return d.next((_=>J.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{g=g.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,Bt()))).next((A=>({batchId:p,changes:UE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=Ll();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(g=>{const _=(function(b,O){return new Io(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,hn.newInvalidDocument(A)))}));let p=Ll();return d.forEach(((g,_)=>{const A=c.get(g);A!==void 0&&Fl(A.mutation,_,Un.empty(),ge.now()),Ch(i,_)&&(p=p.insert(g,_))})),p}))}}class CR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:yR(l.bundledQuery),readTime:Li(l.readTime)}})(i)),J.resolve()}}class NR{constructor(){this.overlays=new Te(ft.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ra();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const l=ra(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new Te(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=ra(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ra(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return J.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Kw(i,r));let c=this.qr.get(i);c===void 0&&(c=Bt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class DR{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class rp{constructor(){this.Qr=new Ge(Xe.$r),this.Ur=new Ge(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Xe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Xe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new he([])),r=new Xe(i,t),l=new Xe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new he([])),r=new Xe(i,t),l=new Xe(i,t+1);let c=Bt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class xR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Xe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Qw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Xe(i,0),l=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ge(jt);return i.forEach((l=>{const c=new Xe(l,0),d=new Xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new ft(c),0);let p=new Ge(jt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Xe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Xe(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OR{constructor(t){this.ri=t,this.docs=(function(){return new Te(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(t,i){let r=ps();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():hn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ps();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||aw(rw(A),r)<=0||(l.has(A.key)||Ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,r,l){yt(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new MR(this)}getSize(t){return J.resolve(this.size)}}class MR extends wR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class VR{constructor(t){this.persistence=t,this.si=new ma((i=>Zm(i)),Wm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new rp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new vo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class nT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new DR,this.referenceDelegate=t(this),this.Pi=new VR(this),this.indexManager=new _R,this.remoteDocumentCache=(function(l){return new OR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gR(i),this.Ii=new CR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new NR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new xR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new kR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class kR extends lw{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Ri=new rp,this.Vi=null}static mi(t){return new ap(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new ma((r=>hw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=SR(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xc(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class op{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Bt(),l=Bt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(t,i.fromCache,r,l)}}class UR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class LR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IS()?8:uw(fn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new UR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(so()<=zt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(so()<=zt.DEBUG&&ot("QueryEngine","Query:",ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(so()<=zt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):J.resolve())}ys(t,i){if(Bv(i))return J.resolve(null);let r=Ui(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Im(i,null,"F"),r=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Bt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(t,Im(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,r,l){return Bv(i)||l.isEqual(Tt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(so()<=zt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.vs(t,d,i,sw(l,Kl)).next((p=>p)))}))}Ds(t,i){let r=new Ge(VE(t));return i.forEach(((l,c)=>{Ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return so()<=zt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ro(i)),this.ps.getDocumentsMatchingQuery(t,i,mr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lp="LocalStore",PR=3e8;class zR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Te(jt),this.xs=new ma((c=>Zm(c)),Wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function jR(s,t,i,r){return new zR(s,t,i,r)}async function iT(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Bt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function BR(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,A){const b=_.batch,O=b.keys();let Q=J.resolve();return O.forEach((Z=>{Q=Q.next((()=>A.getEntry(g,Z))).next((st=>{const W=_.docVersions.get(Z);Jt(W!==null,48541),st.version.compareTo(W)<0&&(b.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Bt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function sT(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function qR(s,t){const i=bt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const O=l.get(b);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?Q=Q.withResumeToken(rn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),l=l.insert(b,Q),(function(st,W,dt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=PR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(O,Q,A)&&p.push(i.Pi.updateTargetData(c,Q))}));let g=ps(),_=Bt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(HR(c,d,t.documentUpdates).next((A=>{g=A.ks,_=A.qs}))),!r.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function HR(s,t,i){let r=Bt(),l=Bt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ps();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):ot(lp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function FR(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function GR(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new or(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Om(s,t,i){const r=bt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ro(d))throw d;ot(lp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function t0(s,t,i){const r=bt(s);let l=Tt.min(),c=Bt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const b=bt(g),O=b.xs.get(A);return O!==void 0?J.resolve(b.Ms.get(O)):b.Pi.getTargetData(_,A)})(r,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Bt()))).next((p=>(QR(r,Dw(t),p),{documents:p,Qs:c})))))}function QR(s,t,i){let r=s.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class e0{constructor(){this.activeTargetIds=Uw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KR{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class YR{Oo(t){}shutdown(){}}const n0="ConnectivityMonitor";class i0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(n0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(n0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Mm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const im="RestConnection",XR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Mm(),p=this.zo(t,i.toUriEncodedString());ot(im,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),A=Ao(_);return this.Jo(t,p,g,r,A).then((b=>(ot(im,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw po(im,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=XR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class JR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class ZR extends $R{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Mm();return new Promise(((p,g)=>{const _=new oE;_.setWithCredentials(!0),_.listenOnce(lE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yc.NO_ERROR:const b=_.getResponseJson();ot(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Yc.TIMEOUT:ot(on,`RPC '${t}' ${d} timed out`),g(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const O=_.getStatus();if(ot(on,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const st=(function(dt){const Et=dt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Et)>=0?Et:Y.UNKNOWN})(Z.status);g(new rt(st,Z.message))}else g(new rt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(on,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(on,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=hE(),p=cE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const A=c.join("");ot(on,`Creating RPC '${t}' stream ${l}: ${A}`,g);const b=d.createWebChannel(A,g);this.I_(b);let O=!1,Q=!1;const Z=new JR({Yo:W=>{Q?ot(on,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(O||(ot(on,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),ot(on,`RPC '${t}' stream ${l} sending:`,W),b.send(W))},Zo:()=>b.close()}),st=(W,dt,Et)=>{W.listen(dt,(pt=>{try{Et(pt)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return st(b,Ul.EventType.OPEN,(()=>{Q||(ot(on,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),st(b,Ul.EventType.CLOSE,(()=>{Q||(Q=!0,ot(on,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(b))})),st(b,Ul.EventType.ERROR,(W=>{Q||(Q=!0,po(on,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),st(b,Ul.EventType.MESSAGE,(W=>{if(!Q){const dt=W.data[0];Jt(!!dt,16349);const Et=dt,pt=Et?.error||Et[0]?.error;if(pt){ot(on,`RPC '${t}' stream ${l} received error:`,pt);const vt=pt.status;let ee=(function(S){const I=ze[S];if(I!==void 0)return GE(I)})(vt),Mt=pt.message;ee===void 0&&(ee=Y.INTERNAL,Mt="Unknown error status: "+vt+" with message "+pt.message),Q=!0,Z.a_(new rt(ee,Mt)),b.close()}else ot(on,`RPC '${t}' stream ${l} received:`,dt),Z.u_(dt)}})),st(p,uE.STAT_EVENT,(W=>{W.stat===Em.PROXY?ot(on,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Em.NOPROXY&&ot(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function Mh(s){return new nR(s,!0)}class rT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const s0="PersistentStream";class aT{constructor(t,i,r,l,c,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(s0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WR extends aT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=rR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Li(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=wm(g)?{documents:lR(c,g)}:{query:uR(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=YE(c,d.resumeToken);const _=Cm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=Cm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=hR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.q_(i)}}class tI extends aT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=oR(t.writeResults,t.commitTime),r=Li(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=xm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>aR(this.serializer,r)))};this.q_(i)}}class eI{}class nI extends eI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Y.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Nm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class sI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{pa(this)&&(ot(ha,"Restarting streams for network reachability change."),await(async function(g){const _=bt(g);_.Ea.add(4),await ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vh(_)})(this))}))})),this.Ra=new iI(r,l)}}async function Vh(s){if(pa(s))for(const t of s.da)await t(!0)}async function ou(s){for(const t of s.da)await t(!1)}function oT(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),fp(i)?hp(i):Co(i).O_()&&cp(i,t))}function up(s,t){const i=bt(s),r=Co(i);i.Ia.delete(t),r.O_()&&lT(i,t),i.Ia.size===0&&(r.O_()?r.L_():pa(i)&&i.Ra.set("Unknown"))}function cp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Co(s).Y_(t)}function lT(s,t){s.Va.Ue(t),Co(s).Z_(t)}function hp(s){s.Va=new Zw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Ra.ua()}function fp(s){return pa(s)&&!Co(s).x_()&&s.Ia.size>0}function pa(s){return bt(s).Ea.size===0}function uT(s){s.Va=void 0}async function rI(s){s.Ra.set("Online")}async function aI(s){s.Ia.forEach(((t,i)=>{cp(s,t)}))}async function oI(s,t){uT(s),fp(s)?(s.Ra.ha(t),hp(s)):s.Ra.set("Unknown")}async function lI(s,t,i){if(s.Ra.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ot(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Zc?s.Va.Ze(t):t instanceof QE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await sT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const A=c.Ia.get(g);if(!A)return;c.Ia.set(g,A.withResumeToken(rn.EMPTY_BYTE_STRING,A.snapshotVersion)),lT(c,g);const b=new or(A.target,g,_,A.sequenceNumber);cp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ot(ha,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,i){if(!Ro(t))throw t;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),i||(i=()=>sT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function cT(s,t){return t().catch((i=>dh(s,i,t)))}async function kh(s){const t=bt(s),i=_r(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xm;for(;uI(t);)try{const l=await FR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,cI(t,l)}catch(l){await dh(t,l)}hT(t)&&fT(t)}function uI(s){return pa(s)&&s.Ta.length<10}function cI(s,t){s.Ta.push(t);const i=_r(s);i.O_()&&i.X_&&i.ea(t.mutations)}function hT(s){return pa(s)&&!_r(s).x_()&&s.Ta.length>0}function fT(s){_r(s).start()}async function hI(s){_r(s).ra()}async function fI(s){const t=_r(s);for(const i of s.Ta)t.ea(i.mutations)}async function dI(s,t,i){const r=s.Ta.shift(),l=np.from(r,t,i);await cT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function mI(s,t){t&&_r(s).X_&&await(async function(r,l){if((function(d){return Xw(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();_r(r).B_(),await cT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(r)}})(s,t),hT(s)&&fT(s)}async function r0(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),ot(ha,"RemoteStore received new credentials");const r=pa(i);i.Ea.add(3),await ou(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Vh(i)}async function pI(s,t){const i=bt(s);t?(i.Ea.delete(2),await Vh(i)):t||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(i,r,l){const c=bt(i);return c.sa(),new WR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:rI.bind(null,s),t_:aI.bind(null,s),r_:oI.bind(null,s),H_:lI.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),fp(s)?hp(s):s.Ra.set("Unknown")):(await s.ma.stop(),uT(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,r,l){const c=bt(i);return c.sa(),new tI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hI.bind(null,s),r_:mI.bind(null,s),ta:fI.bind(null,s),na:dI.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dp{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new dp(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(s,t){if(ms("AsyncQueue",`${t}: ${s}`),Ro(s))return new rt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class a0{constructor(){this.ga=new Te(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Eo{constructor(t,i,r,l,c,d,p,g,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Eo(t,i,uo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class gI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yI{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=bt(i),c=l.queries;l.queries=o0(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function o0(){return new ma((s=>ME(s)),Ih)}async function dT(s,t){const i=bt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new gI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=mp(d,`Initialization of query '${ro(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pp(i)}async function mT(s,t){const i=bt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _I(s,t){const i=bt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&pp(i)}function vI(s,t,i){const r=bt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function pp(s){s.Ca.forEach((t=>{t.next()}))}var Vm,l0;(l0=Vm||(Vm={})).Ma="default",l0.Cache="cache";class pT{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}class gT{constructor(t){this.key=t}}class yT{constructor(t){this.key=t}}class EI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=VE(t),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new a0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const O=l.get(A),Q=Ch(this.query,b)?b:null,Z=!!O&&this.mutatedKeys.has(O.key),st=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;O&&Q?O.data.isEqual(Q.data)?Z!==st&&(r.track({type:3,doc:Q}),W=!0):this.su(O,Q)||(r.track({type:2,doc:Q}),W=!0,(g&&this.eu(Q,g)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!O&&Q?(r.track({type:0,doc:Q}),W=!0):O&&!Q&&(r.track({type:1,doc:O}),W=!0,(g||_)&&(p=!0)),W&&(Q?(d=d.add(Q),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(Q,Z){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return st(Q)-st(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new Eo(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new yT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new gT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gp="SyncEngine";class TI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class AI{constructor(t){this.key=t,this.hu=!1}}class bI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((p=>ME(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new Te(ft.comparator),this.Au=new Map,this.Ru=new rp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SI(s,t,i=!0){const r=bT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _T(r,t,i,!0),l}async function wI(s,t){const i=bT(s);await _T(i,t,!0,!1)}async function _T(s,t,i,r){const l=await GR(s.localStore,Ui(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await RI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&oT(s.remoteStore,l),p}async function RI(s,t,i,r,l){s.pu=(b,O,Q)=>(async function(st,W,dt,Et){let pt=W.view.ru(dt);pt.Cs&&(pt=await t0(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,pt))));const vt=Et&&Et.targetChanges.get(W.targetId),ee=Et&&Et.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(pt,st.isPrimaryClient,vt,ee);return c0(st,W.targetId,Mt.au),Mt.snapshot})(s,b,O,Q);const c=await t0(s.localStore,t,!0),d=new EI(t,c.Qs),p=d.ru(c.documents),g=au.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);c0(s,i,_.au);const A=new TI(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function II(s,t,i){const r=bt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ih(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&up(r.remoteStore,l.targetId),km(r,l.targetId)})).catch(wo)):(km(r,l.targetId),await Om(r.localStore,l.targetId,!0))}async function CI(s,t){const i=bt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),up(i.remoteStore,r.targetId))}async function NI(s,t,i){const r=UI(s);try{const l=await(function(d,p){const g=bt(d),_=ge.now(),A=p.reduce(((Q,Z)=>Q.add(Z.key)),Bt());let b,O;return g.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=ps(),st=Bt();return g.Ns.getEntries(Q,A).next((W=>{Z=W,Z.forEach(((dt,Et)=>{Et.isValidDocument()||(st=st.add(dt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(Q,Z))).next((W=>{b=W;const dt=[];for(const Et of p){const pt=Fw(Et,b.get(Et.key).overlayedDocument);pt!=null&&dt.push(new br(Et.key,pt,wE(pt.value.mapValue),wn.exists(!0)))}return g.mutationQueue.addMutationBatch(Q,_,dt,p)})).next((W=>{O=W;const dt=W.applyToLocalDocumentSet(b,st);return g.documentOverlayCache.saveOverlays(Q,W.batchId,dt)}))})).then((()=>({batchId:O.batchId,changes:UE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new Te(jt)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await lu(r,l.changes),await kh(r.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");i.reject(c)}}async function vT(s,t){const i=bt(s);try{const r=await qR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Jt(d.hu,14607):l.removedDocuments.size>0&&(Jt(d.hu,42227),d.hu=!1))})),await lu(i,r,t)}catch(r){await wo(r)}}function u0(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=bt(d);g.onlineState=p;let _=!1;g.queries.forEach(((A,b)=>{for(const O of b.Sa)O.va(p)&&(_=!0)})),_&&pp(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function DI(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new Te(ft.comparator);d=d.insert(c,hn.newNoDocument(c,Tt.min()));const p=Bt().add(c),g=new Oh(Tt.min(),new Map,new Te(jt),d,p);await vT(r,g),r.du=r.du.remove(c),r.Au.delete(t),yp(r)}else await Om(r.localStore,t,!1).then((()=>km(r,t,i))).catch(wo)}async function xI(s,t){const i=bt(s),r=t.batch.batchId;try{const l=await BR(i.localStore,t);TT(i,r,null),ET(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await lu(i,l)}catch(l){await wo(l)}}async function OI(s,t,i){const r=bt(s);try{const l=await(function(d,p){const g=bt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next((b=>(Jt(b!==null,37113),A=b.keys(),g.mutationQueue.removeMutationBatch(_,b)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);TT(r,t,i),ET(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await lu(r,l)}catch(l){await wo(l)}}function ET(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function TT(s,t,i){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function km(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||AT(s,r)}))}function AT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(up(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),yp(s))}function c0(s,t,i){for(const r of i)r instanceof gT?(s.Ru.addReference(r.key,t),MI(s,r)):r instanceof yT?(ot(gp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||AT(s,r.key)):yt(19791,{wu:r})}function MI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(gp,"New document in limbo: "+i),s.Eu.add(r),yp(s))}function yp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(he.fromString(t)),r=s.fu.next();s.Au.set(r,new AI(i)),s.du=s.du.insert(i,r),oT(s.remoteStore,new or(Ui(tp(i.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function lu(s,t,i){const r=bt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){l.push(_);const A=op.As(g.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const A=bt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>J.forEach(_,(O=>J.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(b,O.targetId,Q))).next((()=>J.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,O.targetId,Q)))))))))}catch(b){if(!Ro(b))throw b;ot(lp,"Failed to update sequence numbers: "+b)}for(const b of _){const O=b.targetId;if(!b.fromCache){const Q=A.Ms.get(O),Z=Q.snapshotVersion,st=Q.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(O,st)}}})(r.localStore,c))}async function VI(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){ot(gp,"User change. New user:",t.toKey());const r=await iT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new rt(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await lu(i,r.Ls)}}function kI(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let l=Bt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function bT(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DI.bind(null,t),t.Pu.H_=_I.bind(null,t.eventManager),t.Pu.yu=vI.bind(null,t.eventManager),t}function UI(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OI.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return jR(this.persistence,new LR,t.initialUser,this.serializer)}Cu(t){return new nT(ap.mi,this.serializer)}Du(t){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class LI extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Jt(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new nT((r=>fh.mi(r,i)),this.serializer)}}class Um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VI.bind(null,this.syncEngine),await pI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yI})()}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),r=(function(c){return new ZR(c)})(t.databaseInfo);return(function(c,d,p,g){return new nI(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new sI(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>u0(this.syncEngine,i,0)),(function(){return i0.v()?new i0:new YR})())}createSyncEngine(t,i){return(function(l,c,d,p,g,_,A){const b=new bI(l,c,d,p,g,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);ot(ha,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};class ST{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const vr="FirestoreClient";class PI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=mp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function rm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await iT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function h0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await zI(s);ot(vr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>r0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>r0(t.remoteStore,l))),s._onlineComponents=t}async function zI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(vr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;po("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new mh)}}else ot(vr,"Using default OfflineComponentProvider"),await rm(s,new LI(void 0));return s._offlineComponents}async function wT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(vr,"Using user provided OnlineComponentProvider"),await h0(s,s._uninitializedComponentsProvider._online)):(ot(vr,"Using default OnlineComponentProvider"),await h0(s,new Um))),s._onlineComponents}function jI(s){return wT(s).then((t=>t.syncEngine))}async function Lm(s){const t=await wT(s),i=t.eventManager;return i.onListen=SI.bind(null,t.syncEngine),i.onUnlisten=II.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=wI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=CI.bind(null,t.syncEngine),i}function BI(s,t,i={}){const r=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,_){const A=new ST({next:O=>{A.Nu(),d.enqueueAndForget((()=>mT(c,b))),O.fromCache&&g.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),b=new pT(p,A,{includeMetadataChanges:!0,qa:!0});return dT(c,b)})(await Lm(s),s.asyncQueue,t,i,r))),r.promise}function RT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const f0=new Map;const IT="firestore.googleapis.com",d0=!0;class m0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IT,this.ssl=d0}else this.host=t.host,this.ssl=t.ssl??d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ER)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new K1;switch(r.type){case"firstParty":return new J1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=f0.get(i);r&&(ot("ComponentProvider","Removing Datastore"),f0.delete(i),r.terminate())})(this),Promise.resolve()}}function qI(s,t,i,r={}){s=hi(s,Uh);const l=Ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Z0(`https://${p}`),W0("Firestore",!0)),c.host!==IT&&c.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!la(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=cn.MOCK_USER;else{_=_S(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new cn(b)}s._authCredentials=new Y1(new dE(_,A))}}class Sr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Sr(this.firestore,t,this._query)}}class qe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(su(i,qe._jsonSchema))return new qe(t,r||null,new ft(he.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Be("string",qe._jsonSchemaVersion),referencePath:Be("string")};class dr extends Sr{constructor(t,i,r){super(t,i,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new ft(t))}withConverter(t){return new dr(this.firestore,t,this._path)}}function ln(s,t,...i){if(s=Se(s),mE("collection","path",t),s instanceof Uh){const r=he.fromString(t,...i);return Iv(r),new dr(s,null,r)}{if(!(s instanceof qe||s instanceof dr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return Iv(r),new dr(s.firestore,null,r)}}function un(s,t,...i){if(s=Se(s),arguments.length===1&&(t=Ym.newId()),mE("doc","path",t),s instanceof Uh){const r=he.fromString(t,...i);return Rv(r),new qe(s,null,new ft(r))}{if(!(s instanceof qe||s instanceof dr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(he.fromString(t,...i));return Rv(r),new qe(s.firestore,s instanceof dr?s.converter:null,new ft(r))}}const p0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&ot(p0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ot(p0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",y0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=dp.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function y0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function _0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Er extends Uh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function HI(s,t){const i=typeof s=="object"?s:iE(),r=typeof s=="string"?s:oh,l=Qm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=gS("firestore");c&&qI(l,...c)}return l}function Lh(s){if(s._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FI(s),s._firestoreClient}function FI(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new mw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new PI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(rn.fromBase64String(t))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Jn(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Be("string",Jn._jsonSchemaVersion),bytes:Be("string")};class uu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ph{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(su(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Be("string",Pi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Be("string",zi._jsonSchemaVersion),vectorValues:Be("object")};const GI=/^__.*__$/;class QI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,i,this.fieldTransforms):new ru(t,this.data,i,this.fieldTransforms)}}class CT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new br(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function NT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class _p{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new _p({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&GI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class KI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(t)}Cc(t,i,r,l=!1){return new _p({Ac:t,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(s){const t=s._freezeSettings(),i=Mh(s._databaseId);return new KI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function DT(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ep("Data must be an object, but it was:",d,r);const p=MT(r,d);let g,_;if(c.merge)g=new Un(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const O=Pm(t,b,i);if(!d.contains(O))throw new rt(Y.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);kT(A,O)||A.push(O)}g=new Un(A),_=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,_=d.fieldTransforms;return new QI(new Sn(p),g,_)}class jh extends Ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}class vp extends Ph{_toFieldTransform(t){return new jw(t.path,new Zl)}isEqual(t){return t instanceof vp}}function xT(s,t,i,r){const l=s.Cc(1,t,i);Ep("Data must be an object, but it was:",l,r);const c=[],d=Sn.empty();Ar(r,((g,_)=>{const A=Tp(t,g,i);_=Se(_);const b=l.yc(A);if(_ instanceof jh)c.push(A);else{const O=cu(_,b);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Un(c);return new CT(d,p,l.fieldTransforms)}function OT(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Pm(t,r,i)],g=[l];if(c.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Pm(t,c[O])),g.push(c[O+1]);const _=[],A=Sn.empty();for(let O=p.length-1;O>=0;--O)if(!kT(_,p[O])){const Q=p[O];let Z=g[O];Z=Se(Z);const st=d.yc(Q);if(Z instanceof jh)_.push(Q);else{const W=cu(Z,st);W!=null&&(_.push(Q),A.set(Q,W))}}const b=new Un(_);return new CT(A,b,d.fieldTransforms)}function YI(s,t,i,r=!1){return cu(i,s.Cc(r?4:3,t))}function cu(s,t){if(VT(s=Se(s)))return Ep("Unsupported field value:",t,s),MT(s,t);if(s instanceof Ph)return(function(r,l){if(!NT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=cu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Se(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ge.fromDate(r);return{timestampValue:hh(l.serializer,c)}}if(r instanceof ge){const c=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:YE(l.serializer,r._byteString)};if(r instanceof qe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof zi)return(function(d,p){return{mapValue:{fields:{[bE]:{stringValue:SE},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return ep(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bh(r)}`)})(s,t)}function MT(s,t){const i={};return yE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(s,((r,l)=>{const c=cu(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function VT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ge||s instanceof Pi||s instanceof Jn||s instanceof qe||s instanceof Ph||s instanceof zi)}function Ep(s,t,i){if(!VT(i)||!pE(i)){const r=bh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Pm(s,t,i){if((t=Se(t))instanceof uu)return t._internalPath;if(typeof t=="string")return Tp(s,t);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const XI=new RegExp("[~\\*/\\[\\]]");function Tp(s,t,i){if(t.search(XI)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new uu(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new rt(Y.INVALID_ARGUMENT,p+s+g)}function kT(s,t){return s.some((i=>i.isEqual(t)))}class UT{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Bh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $I extends UT{data(){return super.data()}}function Bh(s,t){return typeof t=="string"?Tp(s,t):t instanceof uu?t._internalPath:t._delegate._internalPath}function LT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class PT extends Ap{}function Fc(s,t,...i){let r=[];t instanceof Ap&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((g=>g instanceof bp)).length,p=c.filter((g=>g instanceof qh)).length;if(d>1||d>0&&p>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class qh extends PT{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new qh(t,i,r)}_apply(t){const i=this._parse(t);return zT(t._query,i),new Sr(t.firestore,t.converter,Rm(t._query,i))}_parse(t){const i=zh(t.firestore);return(function(c,d,p,g,_,A,b){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){T0(b,A);const Z=[];for(const st of b)Z.push(E0(g,c,st));O={arrayValue:{values:Z}}}else O=E0(g,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||T0(b,A),O=YI(p,d,b,A==="in"||A==="not-in");return je.create(_,A,O)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function JI(s,t,i){const r=t,l=Bh("where",s);return qh._create(l,r,i)}class bp extends Ap{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new bp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:fi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)zT(d,g),d=Rm(d,g)})(t._query,i),new Sr(t.firestore,t.converter,Rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends PT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Sp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(c,d)})(t._query,this._field,this._direction);return new Sr(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Io(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function v0(s,t="asc"){const i=t,r=Bh("orderBy",s);return Sp._create(r,i)}function E0(s,t,i){if(typeof(i=Se(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(t)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(he.fromString(i));if(!ft.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kv(s,new ft(r))}if(i instanceof qe)return kv(s,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(i)}.`)}function T0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZI{convertValue(t,i="none"){switch(yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ar(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[lh].arrayValue?.values?.map((r=>Ne(r.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Rh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Yl(t));default:return null}}convertTimestamp(t){const i=pr(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=he.fromString(t);Jt(tT(r),9688,{name:t});const l=new Xl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jT(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class zl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends UT{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Be("string",aa._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Wc extends aa{data(t={}){return super.data(t)}}class oa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:WI(p.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Be("string",oa._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class wp extends ZI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function t2(s){s=hi(s,Sr);const t=hi(s.firestore,Er),i=Lh(t),r=new wp(t);return LT(s._query),BI(i,s._query).then((l=>new oa(t,r,s,l)))}function A0(s,t,i,...r){s=hi(s,qe);const l=hi(s.firestore,Er),c=zh(l);let d;return d=typeof(t=Se(t))=="string"||t instanceof uu?OT(c,"updateDoc",s._key,t,i,r):xT(c,"updateDoc",s._key,t),Hh(l,[d.toMutation(s._key,wn.exists(!0))])}function e2(s){return Hh(hi(s.firestore,Er),[new xh(s._key,wn.none())])}function Gc(s,t){const i=hi(s.firestore,Er),r=un(s),l=jT(s.converter,t);return Hh(i,[DT(zh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then((()=>r))}function am(s,...t){s=Se(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||_0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof qe)d=hi(s.firestore,Er),p=tp(s._key.path),c={next:g=>{t[r]&&t[r](n2(d,s,g))},error:t[r+1],complete:t[r+2]};else{const g=hi(s,Sr);d=hi(g.firestore,Er),p=g._query;const _=new wp(d);c={next:A=>{t[r]&&t[r](new oa(d,_,g,A))},error:t[r+1],complete:t[r+2]},LT(s._query)}return(function(_,A,b,O){const Q=new ST(O),Z=new pT(A,Q,b);return _.asyncQueue.enqueueAndForget((async()=>dT(await Lm(_),Z))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>mT(await Lm(_),Z)))}})(Lh(d),p,l,c)}function Hh(s,t){return(function(r,l){const c=new fr;return r.asyncQueue.enqueueAndForget((async()=>NI(await jI(r),l,c))),c.promise})(Lh(s),t)}function n2(s,t,i){const r=i.docs.get(t._key),l=new wp(s);return new aa(s,l,t._key,r,new zl(i.hasPendingWrites,i.fromCache),t.converter)}class i2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=zh(t)}set(t,i,r){this._verifyNotCommitted();const l=om(t,this._firestore),c=jT(l.converter,i,r),d=DT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,wn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=om(t,this._firestore);let d;return d=typeof(i=Se(i))=="string"||i instanceof uu?OT(this._dataReader,"WriteBatch.update",c._key,i,r,l):xT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,wn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=om(t,this._firestore);return this._mutations=this._mutations.concat(new xh(i._key,wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(s,t){if((s=Se(s)).firestore!==t)throw new rt(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Qc(){return new vp("serverTimestamp")}function Ol(s){return Lh(s=hi(s,Er)),new i2(s,(t=>Hh(s,t)))}(function(t,i=!0){(function(l){So=l})(bo),mo(new ua("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Er(new X1(r.getProvider("auth-internal")),new Z1(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),cr(Av,bv,t),cr(Av,bv,"esm2020")})();function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s2=BT,qT=new nu("auth","Firebase",BT());const gh=new Fm("@firebase/auth");function r2(s,...t){gh.logLevel<=zt.WARN&&gh.warn(`Auth (${bo}): ${s}`,...t)}function th(s,...t){gh.logLevel<=zt.ERROR&&gh.error(`Auth (${bo}): ${s}`,...t)}function di(s,...t){throw Rp(s,...t)}function ji(s,...t){return Rp(s,...t)}function HT(s,t,i){const r={...s2(),[t]:i};return new nu("auth","Firebase",r).create(t,{appName:s.name})}function fs(s){return HT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return qT.create(s,...t)}function gt(s,t,...i){if(!s)throw Rp(t,...i)}function cs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw th(t),new Error(t)}function gs(s,t){s||cs(t)}function zm(){return typeof self<"u"&&self.location?.href||""}function a2(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}function o2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a2()||SS()||"connection"in navigator)?navigator.onLine:!0}function l2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class hu{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=TS()||wS()}get(){return o2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ip(s,t){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class FT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const u2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const c2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h2=new hu(3e4,6e4);function wr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function _s(s,t,i,r,l={}){return GT(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...c};return bS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(_.credentials="include"),FT.fetch()(await QT(s,s.config.apiHost,i,p),_)})}async function GT(s,t,i){s._canInitEmulator=!1;const r={...u2,...t};try{const l=new d2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Kc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw HT(s,A,_);di(s,A)}}catch(l){if(l instanceof ys)throw l;di(s,"network-request-failed",{message:String(l)})}}async function fu(s,t,i,r,l={}){const c=await _s(s,t,i,r,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function QT(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?Ip(s.config,l):`${s.config.apiScheme}://${l}`;return c2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function f2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),h2.get())})}}function Kc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ji(s,t,r);return l.customData._tokenResponse=i,l}function S0(s){return s!==void 0&&s.enterprise!==void 0}class m2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return f2(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p2(s,t){return _s(s,"GET","/v2/recaptchaConfig",wr(s,t))}async function g2(s,t){return _s(s,"POST","/v1/accounts:delete",t)}async function yh(s,t){return _s(s,"POST","/v1/accounts:lookup",t)}function Gl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function y2(s,t=!1){const i=Se(s),r=await i.getIdToken(t),l=Cp(r);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Gl(lm(l.auth_time)),issuedAtTime:Gl(lm(l.iat)),expirationTime:Gl(lm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(s){return Number(s)*1e3}function Cp(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=Y0(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function w0(s){const t=Cp(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function To(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ys&&_2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function _2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class v2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(s){const t=s.auth,i=await s.getIdToken(),r=await To(s,yh(t,{idToken:i}));gt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?KT(l.providerUserInfo):[],d=T2(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function E2(s){const t=Se(s);await _h(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function T2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function KT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function A2(s,t){const i=await GT(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await QT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(g.credentials="include"),FT.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function b2(s,t){return _s(s,"POST","/v2/accounts:revokeToken",wr(s,t))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=w0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await A2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new co;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return cs("not implemented")}}function er(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new v2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await To(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return y2(this,t)}reload(){return E2(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await To(this,g2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:Q,providerData:Z,stsTokenManager:st}=i;gt(b&&st,t,"internal-error");const W=co.fromJSON(this.name,st);gt(typeof b=="string",t,"internal-error"),er(r,t.name),er(l,t.name),gt(typeof O=="boolean",t,"internal-error"),gt(typeof Q=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(p,t.name),er(g,t.name),er(_,t.name),er(A,t.name);const dt=new ci({uid:b,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(dt.providerData=Z.map(Et=>({...Et}))),g&&(dt._redirectEventId=g),dt}static async _fromIdTokenResponse(t,i,r=!1){const l=new co;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await _h(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?KT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new co;p.updateFromIdToken(r);const g=new ci({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const R0=new Map;function hs(s){gs(s instanceof Function,"Expected a class definition");let t=R0.get(s);return t?(gs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,R0.set(s,t),t)}class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}YT.type="NONE";const I0=YT;function eh(s,t,i){return`firebase:${s}:${t}:${i}`}class ho{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=eh(this.userKey,l.apiKey,c),this.fullPersistenceKey=eh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await yh(this.auth,{idToken:t}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new ho(hs(I0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hs(I0);const d=eh(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const O=await yh(t,{idToken:A}).catch(()=>{});if(!O)break;b=await ci._fromGetAccountInfoResponse(t,O,A)}else b=ci._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ho(c,t,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ho(c,t,r))}}function C0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(XT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tA(t))return"Blackberry";if(eA(t))return"Webos";if($T(t))return"Safari";if((t.includes("chrome/")||JT(t))&&!t.includes("edge/"))return"Chrome";if(WT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function XT(s=fn()){return/firefox\//i.test(s)}function $T(s=fn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JT(s=fn()){return/crios\//i.test(s)}function ZT(s=fn()){return/iemobile/i.test(s)}function WT(s=fn()){return/android/i.test(s)}function tA(s=fn()){return/blackberry/i.test(s)}function eA(s=fn()){return/webos/i.test(s)}function Np(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function S2(s=fn()){return Np(s)&&!!window.navigator?.standalone}function w2(){return RS()&&document.documentMode===10}function nA(s=fn()){return Np(s)||WT(s)||eA(s)||tA(s)||/windows phone/i.test(s)||ZT(s)}function iA(s,t=[]){let i;switch(s){case"Browser":i=C0(fn());break;case"Worker":i=`${C0(fn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${bo}/${r}`}class R2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function I2(s,t={}){return _s(s,"GET","/v2/passwordPolicy",wr(s,t))}const C2=6;class N2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??C2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class D2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new R2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await yh(this,{idToken:t}),r=await ci._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await _h(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=l2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(fs(this));const i=t?Se(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I2(this),i=new N2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await b2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&hs(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&r2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ga(s){return Se(s)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x2(s){Fh=s}function sA(s){return Fh.loadJS(s)}function O2(){return Fh.recaptchaEnterpriseScript}function M2(){return Fh.gapiScript}function V2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class k2{constructor(){this.enterprise=new U2}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class U2{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const L2="recaptcha-enterprise",rA="NO_RECAPTCHA";class P2{constructor(t){this.type=L2,this.auth=ga(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{p2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new m2(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;S0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(rA)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k2().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&S0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=O2();g.length!==0&&(g+=p),sA(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function D0(s,t,i,r=!1,l=!1){const c=new P2(s);let d;if(l)d=rA;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await D0(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await D0(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function z2(s,t){const i=Qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(la(c,t??{}))return l;di(l,"already-initialized")}return i.initialize({options:t})}function j2(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(hs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function B2(s,t,i){const r=ga(s);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=aA(t),{host:d,port:p}=q2(t),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(la(_,r.config.emulator)&&la(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Ao(d)?(Z0(`${c}//${d}${g}`),W0("Auth",!0)):H2()}function aA(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function q2(s){const t=aA(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:x0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:x0(d)}}}function x0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function H2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(t){return cs("not implemented")}_linkToIdToken(t,i){return cs("not implemented")}_getReauthenticationResolver(t){return cs("not implemented")}}async function F2(s,t){return _s(s,"POST","/v1/accounts:signUp",t)}async function G2(s,t){return fu(s,"POST","/v1/accounts:signInWithPassword",wr(s,t))}async function Q2(s,t){return fu(s,"POST","/v1/accounts:signInWithEmailLink",wr(s,t))}async function K2(s,t){return fu(s,"POST","/v1/accounts:signInWithEmailLink",wr(s,t))}class eu extends Dp{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new eu(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new eu(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,i,"signInWithPassword",G2);case"emailLink":return Q2(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,r,"signUpPassword",F2);case"emailLink":return K2(t,{idToken:i,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function fo(s,t){return fu(s,"POST","/v1/accounts:signInWithIdp",wr(s,t))}const Y2="http://localhost";class fa extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new fa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return fo(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,fo(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,fo(t,i)}buildRequest(){const t={requestUri:Y2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=iu(i)}return t}}function X2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $2(s){const t=Vl(kl(s)).link,i=t?Vl(kl(t)).deep_link_id:null,r=Vl(kl(s)).deep_link_id;return(r?Vl(kl(r)).link:null)||r||i||t||s}class xp{constructor(t){const i=Vl(kl(t)),r=i.apiKey??null,l=i.oobCode??null,c=X2(i.mode??null);gt(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=$2(t);try{return new xp(i)}catch{return null}}}class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(t,i){return eu._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=xp.parseLink(i);return gt(r,"argument-error"),eu._fromEmailAndCode(t,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends du{constructor(){super("facebook.com")}static credential(t){return fa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return fa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends du{constructor(){super("github.com")}static credential(t){return fa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends du{constructor(){super("twitter.com")}static credential(t,i){return fa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ar.credential(i,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function J2(s,t){return fu(s,"POST","/v1/accounts:signUp",wr(s,t))}class da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ci._fromIdTokenResponse(t,r,l),d=O0(r);return new da({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=O0(r);return new da({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function O0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends ys{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new vh(t,i,r,l)}}function lA(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,c,t,r):c})}async function Z2(s,t,i=!1){const r=await To(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return da._forOperation(s,"link",r)}async function W2(s,t,i=!1){const{auth:r}=s;if($n(r.app))return Promise.reject(fs(r));const l="reauthenticate";try{const c=await To(s,lA(r,l,t,s),i);gt(c.idToken,r,"internal-error");const d=Cp(c.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(s.uid===p,r,"user-mismatch"),da._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function uA(s,t,i=!1){if($n(s.app))return Promise.reject(fs(s));const r="signIn",l=await lA(s,r,t),c=await da._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function tC(s,t){return uA(ga(s),t)}async function cA(s){const t=ga(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eC(s,t,i){if($n(s.app))return Promise.reject(fs(s));const r=ga(s),d=await Bm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&cA(s),g}),p=await da._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function nC(s,t,i){return $n(s.app)?Promise.reject(fs(s)):tC(Se(s),No.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cA(s),r})}async function iC(s,t){return _s(s,"POST","/v1/accounts:update",t)}async function sC(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=Se(s),c={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await To(r,iC(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function rC(s,t,i,r){return Se(s).onIdTokenChanged(t,i,r)}function aC(s,t,i){return Se(s).beforeAuthStateChanged(t,i)}function oC(s,t,i,r){return Se(s).onAuthStateChanged(t,i,r)}function lC(s){return Se(s).signOut()}const Eh="__sak";class hA{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uC=1e3,cC=10;class fA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);w2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}fA.type="LOCAL";const hC=fA;class dA extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}dA.type="SESSION";const mA=dA;function fC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await fC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Op(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class dC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=Op("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function mC(s){Bi().location.href=s}function pA(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function pC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gC(){return navigator?.serviceWorker?.controller||null}function yC(){return pA()?self:null}const gA="firebaseLocalStorageDb",_C=1,Th="firebaseLocalStorage",yA="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qh(s,t){return s.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function vC(){const s=indexedDB.deleteDatabase(gA);return new mu(s).toPromise()}function qm(){const s=indexedDB.open(gA,_C);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Th,{keyPath:yA})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Th)?t(r):(r.close(),await vC(),t(await qm()))})})}async function M0(s,t,i){const r=Qh(s,!0).put({[yA]:t,value:i});return new mu(r).toPromise()}async function EC(s,t){const i=Qh(s,!1).get(t),r=await new mu(i).toPromise();return r===void 0?null:r.value}function V0(s,t){const i=Qh(s,!0).delete(t);return new mu(i).toPromise()}const TC=800,AC=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>AC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(yC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qm();return await M0(t,Eh,"1"),await V0(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>M0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>EC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>V0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Qh(l,!1).getAll();return new mu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const bC=_A;new hu(3e4,6e4);function SC(s,t){return t?hs(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mp extends Dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return fo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function wC(s){return uA(s.auth,new Mp(s),s.bypassAuthState)}function RC(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),W2(i,new Mp(s),s.bypassAuthState)}async function IC(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Z2(i,new Mp(s),s.bypassAuthState)}class vA{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return RC;default:di(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CC=new hu(2e3,1e4);class lo extends vA{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CC.get())};t()}}lo.currentPopupAction=null;const NC="pendingRedirect",nh=new Map;class DC extends vA{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const r=await xC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xC(s,t){const i=VC(t),r=MC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function OC(s,t){nh.set(s._key(),t)}function MC(s){return hs(s._redirectPersistence)}function VC(s){return eh(NC,s.config.apiKey,s.name)}async function kC(s,t,i=!1){if($n(s.app))return Promise.reject(fs(s));const r=ga(s),l=SC(r,t),d=await new DC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const UC=600*1e3;class LC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!EA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UC&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(t))}saveEventToCache(t){this.cachedEventUids.add(k0(t)),this.lastProcessedEventTime=Date.now()}}function k0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function EA({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function PC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EA(s);default:return!1}}async function zC(s,t={}){return _s(s,"GET","/v1/projects",t)}const jC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function qC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await zC(s);for(const i of t)try{if(HC(i))return}catch{}di(s,"unauthorized-domain")}function HC(s){const t=zm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!BC.test(i))return!1;if(jC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const FC=new hu(3e4,6e4);function U0(){const s=Bi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function GC(s){return new Promise((t,i)=>{function r(){U0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U0(),i(ji(s,"network-request-failed"))},timeout:FC.get()})}if(Bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const l=V2("iframefcb");return Bi()[l]=()=>{gapi.load?r():i(ji(s,"network-request-failed"))},sA(`${M2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw ih=null,t})}let ih=null;function QC(s){return ih=ih||GC(s),ih}const KC=new hu(5e3,15e3),YC="__/auth/iframe",XC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZC(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ip(t,XC):`https://${s.config.authDomain}/${YC}`,r={apiKey:t.apiKey,appName:s.name,v:bo},l=JC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${iu(r).slice(1)}`}async function WC(s){const t=await QC(s),i=Bi().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:ZC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ji(s,"network-request-failed"),p=Bi().setTimeout(()=>{c(d)},KC.get());function g(){Bi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const tN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,nN=600,iN="_blank",sN="http://localhost";class L0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(s,t,i,r=eN,l=nN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...tN,width:r.toString(),height:l.toString(),top:c,left:d},_=fn().toLowerCase();i&&(p=JT(_)?iN:i),XT(_)&&(t=t||sN,g.scrollbars="yes");const A=Object.entries(g).reduce((O,[Q,Z])=>`${O}${Q}=${Z},`,"");if(S2(_)&&p!=="_self")return aN(t||"",p),new L0(null);const b=window.open(t||"",p,A);gt(b,s,"popup-blocked");try{b.focus()}catch{}return new L0(b)}function aN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const oN="__/auth/handler",lN="emulator/auth/handler",uN=encodeURIComponent("fac");async function P0(s,t,i,r,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:bo,eventId:l};if(t instanceof oA){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",MS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof du){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),_=g?`#${uN}=${encodeURIComponent(g)}`:"";return`${cN(s)}?${iu(p).slice(1)}${_}`}function cN({config:s}){return s.emulator?Ip(s,lN):`https://${s.authDomain}/${oN}`}const um="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mA,this._completeRedirectFn=kC,this._overrideRedirectResult=OC}async _openPopup(t,i,r,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await P0(t,i,r,zm(),l);return rN(t,c,Op())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await P0(t,i,r,zm(),l);return mC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await WC(t),r=new LC(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(um,{type:um},l=>{const c=l?.[0]?.[um];c!==void 0&&i(!!c),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return nA()||$T()||Np()}}const fN=hN;var z0="@firebase/auth",j0="1.12.0";class dN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(s){mo(new ua("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(s)},_=new D2(r,l,c,g);return j2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),mo(new ua("auth-internal",t=>{const i=ga(t.getProvider("auth").getImmediate());return(r=>new dN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(z0,j0,mN(s)),cr(z0,j0,"esm2020")}const gN=300,yN=J0("authIdTokenMaxAge")||gN;let B0=null;const _N=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>yN)return;const l=i?.token;B0!==l&&(B0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function vN(s=iE()){const t=Qm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=z2(s,{popupRedirectResolver:fN,persistence:[bC,hC,mA]}),r=J0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=_N(c.toString());aC(i,d,()=>d(i.currentUser)),rC(i,p=>d(p))}}const l=X0("auth");return l&&B2(i,`http://${l}`),i}function EN(){return document.getElementsByTagName("head")?.[0]??document}x2({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",EN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");const TN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),q0=s=>{const t=AN(s);return t.charAt(0).toUpperCase()+t.slice(1)},TA=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),bN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var SN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wN=ae.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>ae.createElement("svg",{ref:g,...SN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:TA("lucide",l),...!c&&!bN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>ae.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Rn=(s,t)=>{const i=ae.forwardRef(({className:r,...l},c)=>ae.createElement(wN,{ref:c,iconNode:t,className:TA(`lucide-${TN(q0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=q0(s),i};const RN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],IN=Rn("arrow-left",RN);const CN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NN=Rn("arrow-right",CN);const DN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xN=Rn("circle-check-big",DN);const ON=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],MN=Rn("download",ON);const VN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cm=Rn("link",VN);const kN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],H0=Rn("loader-circle",kN);const UN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LN=Rn("log-out",UN);const PN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hm=Rn("plus",PN);const zN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],F0=Rn("refresh-cw",zN);const jN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G0=Rn("square-pen",jN);const BN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fm=Rn("trash-2",BN);const qN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],HN=Rn("upload",qN);const FN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dm=Rn("wallet",FN);const GN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ml=Rn("x",GN),QN={BASE_URL:"/WebAccounting/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",VITE_FIREBASE_APP_ID:"1:1024117334016:web:649f65fe4c6209a94f78e5",VITE_FIREBASE_AUTH_DOMAIN:"web-accounting-482a0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1024117334016",VITE_FIREBASE_PROJECT_ID:"web-accounting-482a0",VITE_FIREBASE_STORAGE_BUCKET:"web-accounting-482a0.firebasestorage.app"};let Tr=null,pe="default-app";try{typeof __firebase_config<"u"&&(Tr=JSON.parse(__firebase_config),pe=typeof __app_id<"u"?__app_id:"default-app-id",console.log(" Environment: Preview Mode (Chat)"))}catch{}if(!Tr)try{import.meta&&QN&&(Tr={apiKey:"AIzaSyAJzUcpyO9oacktLDsjj94wcbz6lHOm-Yo",authDomain:"web-accounting-482a0.firebaseapp.com",projectId:"web-accounting-482a0",storageBucket:"web-accounting-482a0.firebasestorage.app",messagingSenderId:"1024117334016",appId:"1:1024117334016:web:649f65fe4c6209a94f78e5"},pe="1:1024117334016:web:649f65fe4c6209a94f78e5",console.log(" Environment: Production Mode (.env)"))}catch{console.warn(" Production config check skipped.")}Tr||(console.error(" No Firebase config found."),Tr={});let mm,nr,Ot;try{Tr.apiKey&&(mm=nE(Tr),nr=vN(mm),Ot=HI(mm))}catch(s){console.error("Firebase init failed:",s)}function KN(){const[s,t]=ae.useState(null),[i,r]=ae.useState(!0),[l,c]=ae.useState("dashboard"),[d,p]=ae.useState(null),[g,_]=ae.useState(null),[A,b]=ae.useState(""),[O,Q]=ae.useState(""),[Z,st]=ae.useState(!1),[W,dt]=ae.useState(""),[Et,pt]=ae.useState(!1),[vt,ee]=ae.useState([]),[Mt,C]=ae.useState([]),[S,I]=ae.useState([]),[V,N]=ae.useState(!1),[U,w]=ae.useState(!1),[le,fe]=ae.useState(!1),[F,nt]=ae.useState(!1),[ct,xt]=ae.useState(!1),[Dt,x]=ae.useState(null);ae.useEffect(()=>{if(!nr){r(!1);return}const H=oC(nr,tt=>{t(tt),r(!1)});return()=>H()},[]);const X=async H=>{if(H.preventDefault(),!nr){dt("Firebase  ( Project ID)");return}dt(""),pt(!0);try{if(Z){const tt=await eC(nr,A,O);await sC(tt.user,{displayName:A.split("@")[0]})}else await nC(nr,A,O)}catch(tt){console.error(tt);let wt="";tt.code==="auth/invalid-credential"&&(wt=""),tt.code==="auth/email-already-in-use"&&(wt=""),tt.code==="auth/weak-password"&&(wt=" (6)"),tt.code==="auth/invalid-api-key"&&(wt="API Key  ( .env )"),dt(wt)}finally{pt(!1)}},it=async()=>{nr&&await lC(nr),ee([]),C([]),I([]),c("dashboard"),p(null),_(null)};ae.useEffect(()=>{if(!s||!Ot)return;const H=Fc(ln(Ot,"artifacts",pe,"users",s.uid,"categories"),v0("createdAt","asc")),tt=am(H,Rt=>{const ce=Rt.docs.map(De=>({id:De.id,...De.data()}));ee(ce),ce.length===0&&Gc(ln(Ot,"artifacts",pe,"users",s.uid,"categories"),{name:"",isDefault:!0,createdAt:Qc()})},Rt=>console.error("Cat Error:",Rt)),wt=Fc(ln(Ot,"artifacts",pe,"users",s.uid,"boards")),$t=am(wt,Rt=>{C(Rt.docs.map(ce=>({id:ce.id,...ce.data()})))},Rt=>console.error("Board Error:",Rt)),Ft=Fc(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"),v0("date","desc")),Kt=am(Ft,Rt=>{I(Rt.docs.map(ce=>({id:ce.id,...ce.data()})))},Rt=>console.error("Tx Error:",Rt));return()=>{tt(),$t(),Kt()}},[s]),ae.useEffect(()=>{if(vt.length>0&&!d){const H=vt.find(tt=>tt.isDefault);p(H||vt[0])}if(vt.length>0&&d&&!vt.find(tt=>tt.id===d.id)){const tt=vt.find(wt=>wt.isDefault);p(tt||vt[0])}},[vt,d]);const at=async H=>{if(!(!H.trim()||!Ot))try{await Gc(ln(Ot,"artifacts",pe,"users",s.uid,"categories"),{name:H,isDefault:!1,createdAt:Qc()}),N(!1)}catch(tt){console.error(tt)}},_t=async H=>{if(!Ot)return;if(vt.find(Rt=>Rt.id===H).isDefault)return alert("");const wt=vt.find(Rt=>Rt.isDefault);if(!wt)return;const $t=Ol(Ot);Mt.filter(Rt=>Rt.categoryId===H).forEach(Rt=>{const ce=un(Ot,"artifacts",pe,"users",s.uid,"boards",Rt.id);$t.update(ce,{categoryId:wt.id})});const Kt=un(Ot,"artifacts",pe,"users",s.uid,"categories",H);$t.delete(Kt),await $t.commit()},St=async H=>{if(!Ot)return;let tt=d?.id;if(!tt){const Kt=vt.find(Rt=>Rt.isDefault);if(Kt)tt=Kt.id;else if(vt.length>0)tt=vt[0].id;else return alert("")}const wt=Ol(Ot),$t=un(ln(Ot,"artifacts",pe,"users",s.uid,"boards")),Ft={name:H.name,categoryId:tt,parentId:H.parentId||null,status:"active",createdAt:Qc()};if(wt.set($t,Ft),H.parentId&&H.allocationAmount){const Kt=parseFloat(H.allocationAmount),Rt=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(Rt,{boardId:H.parentId,amount:-Kt,type:"allocation_out",linkedBoardId:$t.id,description:` -> ${H.name}`,date:new Date().toISOString()});const ce=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(ce,{boardId:$t.id,amount:Kt,type:"allocation_in",linkedBoardId:H.parentId,description:" <- ",date:new Date().toISOString()})}await wt.commit(),w(!1)},Ut=async(H,tt,wt)=>{if(!(!Ot||!H))try{const $t=un(Ot,"artifacts",pe,"users",s.uid,"boards",H);await A0($t,{name:tt,categoryId:wt}),g&&g.id===H&&_(Ft=>({...Ft,name:tt,categoryId:wt})),xt(!1)}catch($t){console.error("Update board failed",$t),alert("")}},we=async H=>{if(window.confirm("")&&Ot)try{const tt=Ol(Ot);(await t2(Fc(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"),JI("boardId","==",H)))).forEach(Ft=>{tt.delete(Ft.ref)});const $t=un(Ot,"artifacts",pe,"users",s.uid,"boards",H);tt.delete($t),await tt.commit(),xt(!1),l==="board-detail"&&(_(null),c("dashboard"))}catch(tt){console.error("Delete board failed",tt),alert(": "+tt.message)}},ue=async()=>{if(!g||!g.parentId||!Ot)return;const tt=S.filter(Kt=>Kt.boardId===g.id).reduce((Kt,Rt)=>Kt+parseFloat(Rt.amount),0),wt=Ol(Ot),$t=new Date().toISOString();if(tt>0){const Kt=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(Kt,{boardId:g.id,amount:-tt,type:"return_out",description:" -> ",date:$t});const Rt=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(Rt,{boardId:g.parentId,amount:tt,type:"return_in",description:` <- ${g.name}`,date:$t})}else if(tt<0){const Kt=Math.abs(tt),Rt=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(Rt,{boardId:g.id,amount:Kt,type:"cover_in",description:" <- ",date:$t});const ce=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));wt.set(ce,{boardId:g.parentId,amount:-Kt,type:"cover_out",description:` -> ${g.name}`,date:$t})}const Ft=un(Ot,"artifacts",pe,"users",s.uid,"boards",g.id);wt.update(Ft,{status:"closed"}),await wt.commit(),nt(!1)},Hi=async H=>{if(Ot){if(!g)return alert("");try{const tt={boardId:g.id,amount:H.type==="expense"?-Math.abs(H.amount):Math.abs(H.amount),description:H.description,type:"normal",date:new Date().toISOString()};if(Dt){const wt=un(Ot,"artifacts",pe,"users",s.uid,"transactions",Dt.id);await A0(wt,tt)}else await Gc(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"),tt);fe(!1),x(null)}catch(tt){console.error(tt),alert("")}}},vs=async H=>{if(window.confirm("")&&Ot)try{await e2(un(Ot,"artifacts",pe,"users",s.uid,"transactions",H))}catch(tt){console.error(tt),alert("")}},Es=()=>{x(null),fe(!0)},Ts=H=>{x(H),fe(!0)},Ln=()=>{if(!g)return;const H=S.filter(De=>De.boardId===g.id),tt=`BoardName,${g.name},ParentID,${g.parentId||"None"},Status,${g.status}`,wt="Date,Description,Amount,Type",$t=H.map(De=>`${De.date},"${De.description}",${De.amount},${De.type}`).join(`
`),Ft=`${tt}
${wt}
${$t}`,Kt=new Blob([Ft],{type:"text/csv;charset=utf-8;"}),Rt=URL.createObjectURL(Kt),ce=document.createElement("a");ce.href=Rt,ce.setAttribute("download",`${g.name}_export.csv`),document.body.appendChild(ce),ce.click()},Rr=H=>{const tt=H.target.files[0];if(!tt||!Ot)return;let wt=d?.id;if(!wt){const Ft=vt.find(Kt=>Kt.isDefault);wt=Ft?Ft.id:vt[0]?.id}if(!wt)return alert("");const $t=new FileReader;$t.onload=async Ft=>{const Rt=Ft.target.result.split(`
`);if(Rt.length<2)return alert("");const De=Rt[0].split(",")[1]||"Imported Board",Do=await Gc(ln(Ot,"artifacts",pe,"users",s.uid,"boards"),{name:De+" (Imported)",categoryId:wt,parentId:null,status:"active",createdAt:Qc()}),Cr=Ol(Ot);for(let As=2;As<Rt.length;As++){const Nr=Rt[As];if(!Nr.trim())continue;const $e=Nr.split(","),He=$e[0],pn=$e[1]?$e[1].replace(/"/g,""):"",_e=parseFloat($e[2]),ya=$e[3]?.trim()||"normal";if(!isNaN(_e)){const bs=un(ln(Ot,"artifacts",pe,"users",s.uid,"transactions"));Cr.set(bs,{boardId:Do.id,amount:_e,description:pn,date:He,type:ya})}}await Cr.commit(),alert("")},$t.readAsText(tt,"GBK")},Zn=H=>S.filter(tt=>tt.boardId===H).reduce((tt,wt)=>tt+parseFloat(wt.amount),0),Ir=Mt.filter(H=>H.categoryId===d?.id),Fi=S.filter(H=>H.boardId===g?.id),ye=g?Zn(g.id):0;return i?M.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 text-slate-400",children:M.jsx(H0,{className:"w-8 h-8 animate-spin"})}):s?M.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-800 font-sans overflow-hidden",children:[M.jsxs("div",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl z-20",children:[M.jsxs("div",{className:"p-6",children:[M.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[M.jsx(dm,{className:"w-6 h-6 text-emerald-400"}),"FinanceFlow"]}),M.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-slate-500 bg-slate-800/50 p-2 rounded-lg",children:[M.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:s.displayName?.[0]?.toUpperCase()||s.email?.[0]?.toUpperCase()}),M.jsxs("div",{className:"flex flex-col overflow-hidden",children:[M.jsx("span",{className:"truncate font-medium text-slate-300",children:s.displayName||""}),M.jsx("span",{className:"truncate text-[10px]",children:s.email})]}),M.jsx("button",{onClick:it,title:"",className:"ml-auto hover:text-white p-1",children:M.jsx(LN,{className:"w-4 h-4"})})]})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-2",children:[M.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2 mt-4",children:[M.jsx("span",{children:"Categories"}),M.jsx("button",{onClick:()=>N(!0),className:"hover:text-white transition-colors",children:M.jsx(hm,{className:"w-4 h-4"})})]}),vt.map(H=>M.jsxs("div",{onClick:()=>{p(H),c("dashboard")},className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${d?.id===H.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50":"hover:bg-slate-800"}`,children:[M.jsx("span",{className:"truncate font-medium",children:H.name}),!H.isDefault&&M.jsx("button",{onClick:tt=>{tt.stopPropagation(),_t(H.id)},className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition-opacity p-1",children:M.jsx(fm,{className:"w-3 h-3"})})]},H.id))]})]}),M.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[M.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-8 justify-between shadow-sm z-10",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[l==="board-detail"&&M.jsx("button",{onClick:()=>c("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:M.jsx(IN,{className:"w-5 h-5"})}),M.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l==="dashboard"?d?.name:g?.name,l==="board-detail"&&g&&M.jsx("button",{onClick:()=>xt(!0),className:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"/",children:M.jsx(G0,{className:"w-4 h-4"})})]}),l==="board-detail"&&g?.parentId&&M.jsxs("span",{className:"flex items-center gap-1 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded-full border border-blue-100",children:[M.jsx(cm,{className:"w-3 h-3"})," "]}),l==="board-detail"&&g?.status==="closed"&&M.jsxs("span",{className:"flex items-center gap-1 text-xs bg-slate-100 text-slate-500 px-2 py-1 rounded-full border border-slate-200",children:[M.jsx(xN,{className:"w-3 h-3"})," "]})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[l==="dashboard"&&M.jsx(M.Fragment,{children:M.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",title:"Import CSV",children:[M.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:Rr}),M.jsx(HN,{className:"w-4 h-4"}),M.jsx("span",{children:""})]})}),l==="board-detail"&&M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:Ln,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Export CSV",children:M.jsx(MN,{className:"w-5 h-5"})}),g?.parentId&&g.status==="active"&&M.jsxs("button",{onClick:()=>nt(!0),className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[M.jsx(F0,{className:"w-4 h-4"}),""]})]})]})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:[l==="dashboard"&&M.jsx("div",{children:M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[M.jsxs("button",{onClick:()=>w(!0),className:"group flex flex-col items-center justify-center h-48 rounded-xl border-2 border-dashed border-slate-300 hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer",children:[M.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 group-hover:bg-indigo-100 flex items-center justify-center mb-3 transition-colors",children:M.jsx(hm,{className:"w-6 h-6 text-slate-400 group-hover:text-indigo-500"})}),M.jsx("span",{className:"text-slate-500 font-medium group-hover:text-indigo-600",children:""})]}),Ir.map(H=>{const tt=Zn(H.id);return M.jsxs("div",{onClick:()=>{_(H),c("board-detail")},className:`relative bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md hover:-translate-y-1 transition-all cursor-pointer flex flex-col justify-between h-48 overflow-hidden group ${H.status==="closed"?"opacity-60 grayscale":""}`,children:[M.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${tt>=0?"bg-emerald-400":"bg-rose-400"}`}),M.jsxs("div",{children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsx("h3",{className:"font-semibold text-lg text-slate-800 line-clamp-1 pr-2",children:H.name}),H.parentId&&M.jsx(cm,{className:"w-4 h-4 text-blue-400 shrink-0"})]}),M.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Updated ",new Date(H.createdAt?.seconds*1e3).toLocaleDateString()]})]}),M.jsxs("div",{children:[M.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Current Balance"}),M.jsxs("div",{className:`text-3xl font-bold tracking-tight mt-1 ${tt>=0?"text-slate-800":"text-rose-600"}`,children:["",tt.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),M.jsx("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx("div",{className:"bg-slate-100 p-2 rounded-full text-slate-600",children:M.jsx(NN,{className:"w-4 h-4"})})})]},H.id)})]})}),l==="board-detail"&&g&&M.jsxs("div",{className:"max-w-4xl mx-auto",children:[M.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8 flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:""}),M.jsxs("div",{className:`text-5xl font-bold mt-2 ${ye>=0?"text-slate-800":"text-rose-600"}`,children:["",ye.toLocaleString()]}),g.status==="closed"&&M.jsx("span",{className:"text-red-500 text-sm font-bold mt-2 block",children:""})]}),g.status==="active"&&M.jsxs("button",{onClick:Es,className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-slate-900/20 transition-all hover:scale-105 active:scale-95",children:[M.jsx(hm,{className:"w-5 h-5"})," "]})]}),M.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[M.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[M.jsx("h3",{className:"font-bold text-slate-700",children:""}),M.jsxs("span",{className:"text-xs text-slate-400",children:[Fi.length," "]})]}),M.jsx("div",{className:"divide-y divide-slate-100",children:Fi.length===0?M.jsx("div",{className:"p-12 text-center text-slate-400",children:""}):Fi.map(H=>M.jsxs("div",{className:"px-6 py-4 hover:bg-slate-50 transition-colors flex items-center justify-between group",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 
                            ${["allocation_in","return_in","cover_in"].includes(H.type)?"bg-blue-100 text-blue-600":["allocation_out","return_out","cover_out"].includes(H.type)?"bg-purple-100 text-purple-600":parseFloat(H.amount)>0?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:["allocation_in","allocation_out"].includes(H.type)?M.jsx(cm,{className:"w-5 h-5"}):["return_in","return_out","cover_in","cover_out"].includes(H.type)?M.jsx(F0,{className:"w-5 h-5"}):M.jsx(dm,{className:"w-5 h-5"})}),M.jsxs("div",{children:[M.jsx("div",{className:"font-medium text-slate-800 flex items-center gap-2",children:H.description}),M.jsx("div",{className:"text-xs text-slate-400",children:new Date(H.date).toLocaleString()})]})]}),M.jsxs("div",{className:"flex items-center gap-6",children:[M.jsxs("div",{className:`font-bold font-mono text-lg 
                               ${parseFloat(H.amount)>0?"text-emerald-600":"text-slate-800"}`,children:[parseFloat(H.amount)>0?"+":"",parseFloat(H.amount).toLocaleString()]}),g.status==="active"&&M.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[M.jsx("button",{onClick:()=>Ts(H),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded",title:"",children:M.jsx(G0,{className:"w-4 h-4"})}),M.jsx("button",{onClick:()=>vs(H.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:M.jsx(fm,{className:"w-4 h-4"})})]})]})]},H.id))})]})]})]})]}),V&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Ml,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:H=>{H.preventDefault(),at(H.target.catName.value)},children:[M.jsx("input",{name:"catName",autoFocus:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),U&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Ml,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:H=>{H.preventDefault();const tt=new FormData(H.target);St({name:tt.get("name"),parentId:tt.get("parentId"),allocationAmount:tt.get("allocation")})},children:[M.jsx("input",{name:"name",required:!0,placeholder:"",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),!d&&M.jsxs("p",{className:"text-xs text-orange-500 mb-2",children:[' "',vt.find(H=>H.isDefault)?.name||"",'"']}),M.jsxs("select",{name:"parentId",className:"w-full border border-slate-300 rounded-lg p-3 mb-4 bg-white outline-none",children:[M.jsx("option",{value:"",children:" ()"}),Mt.filter(H=>H.status==="active").map(H=>M.jsxs("option",{value:H.id,children:[H.name," (: ",Zn(H.id),")"]},H.id))]}),M.jsx("input",{name:"allocation",type:"number",step:"0.01",placeholder:" ()",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),ct&&g&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>xt(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Ml,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),M.jsxs("form",{onSubmit:H=>{H.preventDefault();const tt=new FormData(H.target);Ut(g.id,tt.get("name"),tt.get("categoryId"))},children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{name:"name",defaultValue:g.name,required:!0,className:"w-full border border-slate-300 rounded-lg p-3 mb-4 outline-none focus:border-indigo-500"}),M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("select",{name:"categoryId",defaultValue:g.categoryId,className:"w-full border border-slate-300 rounded-lg p-3 mb-6 bg-white outline-none",children:vt.map(H=>M.jsxs("option",{value:H.id,children:[H.name," ",H.isDefault?"()":""]},H.id))}),M.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-100",children:[M.jsxs("button",{type:"button",onClick:()=>we(g.id),className:"px-4 py-2 text-red-500 hover:bg-red-50 rounded-lg flex items-center gap-1 text-sm font-medium",children:[M.jsx(fm,{className:"w-4 h-4"})," "]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",onClick:()=>xt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})]})}),le&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>fe(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Ml,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4",children:Dt?"":""}),M.jsxs("form",{onSubmit:H=>{H.preventDefault();const tt=new FormData(H.target);Hi({amount:tt.get("amount"),description:tt.get("desc"),type:tt.get("type")})},children:[M.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-100 p-1 rounded-lg",children:[M.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[M.jsx("input",{type:"radio",name:"type",value:"expense",defaultChecked:!Dt||parseFloat(Dt.amount)<0,className:"hidden peer"}),M.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-rose-600 shadow-sm transition-all",children:""})]}),M.jsxs("label",{className:"flex-1 text-center cursor-pointer",children:[M.jsx("input",{type:"radio",name:"type",value:"income",defaultChecked:Dt&&parseFloat(Dt.amount)>0,className:"hidden peer"}),M.jsx("span",{className:"block py-2 rounded peer-checked:bg-white peer-checked:text-emerald-600 shadow-sm transition-all",children:""})]})]}),M.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,placeholder:"0.00",defaultValue:Dt?Math.abs(parseFloat(Dt.amount)):"",className:"w-full text-3xl font-bold text-center border-b-2 p-4 mb-4 outline-none bg-transparent"}),M.jsx("input",{name:"desc",required:!0,placeholder:"",defaultValue:Dt?.description||"",className:"w-full border border-slate-300 rounded-lg p-3 mb-6 outline-none focus:border-indigo-500"}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>fe(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})]})}),F&&M.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white p-6 rounded-2xl w-96 shadow-2xl relative",children:[M.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:M.jsx(Ml,{className:"w-5 h-5"})}),M.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"?"}),M.jsxs("p",{className:"text-slate-500 text-sm mb-6 text-center",children:[" ",M.jsx("span",{className:"font-bold",children:ye})," "]}),M.jsxs("div",{className:"flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:()=>nt(!1),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg",children:""}),M.jsx("button",{onClick:ue,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:""})]})]})})]}):M.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-50 text-slate-800 p-4",children:[M.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 shadow-xl",children:M.jsx(dm,{className:"w-8 h-8 text-emerald-400"})}),M.jsx("h1",{className:"text-3xl font-bold mb-2",children:"FinanceFlow Pro"}),M.jsx("p",{className:"text-slate-500 mb-8 text-center max-w-sm",children:Z?"":""}),M.jsxs("form",{onSubmit:X,className:"w-full max-w-sm bg-white p-8 rounded-2xl shadow-lg border border-slate-100",children:[W&&M.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[M.jsx("span",{className:"font-bold",children:"Error:"})," ",W]}),!Tr.apiKey&&M.jsx("div",{className:"mb-4 p-3 bg-yellow-50 text-yellow-700 text-xs rounded-lg",children:"  .env "}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"name@example.com",value:A,onChange:H=>b(H.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),M.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"",value:O,onChange:H=>Q(H.target.value)})]})]}),M.jsx("button",{type:"submit",disabled:Et,className:"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:Et?M.jsx(H0,{className:"w-5 h-5 animate-spin"}):Z?"":""}),M.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:[Z?"":"",M.jsx("button",{type:"button",onClick:()=>{st(!Z),dt("")},className:"ml-1 text-indigo-600 font-bold hover:underline",children:Z?"":""})]})]})]})}oS.createRoot(document.getElementById("root")).render(M.jsx(ae.StrictMode,{children:M.jsx(KN,{})}));
